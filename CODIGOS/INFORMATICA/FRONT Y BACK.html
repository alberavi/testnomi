<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FRONT</title>
    <!-- Enlace a Tailwind CSS para las clases de la estructura HTML -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS completo para el estilo del quiz -->
    <style>
        /* Estilos generales del cuerpo */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }

        /* Contenedor principal del quiz */
        .container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin-top: 20px;
        }

        /* Tarjeta de la pregunta */
        .question-card {
            background-color: #f8fafc;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease-in-out;
        }

        /* Estilo para la tarjeta de pregunta correcta */
        .question-card.correct {
            background-color: #d4edda;
            border-color: #28a745;
        }

        /* Estilo para la tarjeta de pregunta incorrecta */
        .question-card.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
        }

        /* Texto de la pregunta */
        .question-text {
            font-size: 1.15rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        /* Botones de opciones */
        .option-button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 12px 18px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #cbd5e0;
            background-color: #ffffff;
            color: #4a5568;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        /* Efecto hover para los botones de opciones */
        .option-button:hover:not(.disabled) {
            background-color: #e2e8f0;
            border-color: #a0aec0;
        }

        /* Estilo para el botón de opción seleccionado */
        .option-button.selected {
            border-color: #4299e1;
            background-color: #ebf8ff;
            font-weight: 600;
        }

        /* Estilo para la respuesta correcta */
        .option-button.correct-answer {
            background-color: #28a745;
            color: #ffffff;
            border-color: #28a745;
            font-weight: 700;
        }

        /* Estilo para la respuesta incorrecta */
        .option-button.incorrect-answer {
            background-color: #dc3545;
            color: #ffffff;
            border-color: #dc3545;
            font-weight: 700;
        }

        /* Estilo para los botones deshabilitados */
        .option-button.disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        /* Contenedor de la solución */
        .solution {
            margin-top: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            background-color: #e0f2f7;
            color: #2c5282;
            font-size: 0.95rem;
            font-weight: 500;
            border: 1px solid #90cdf4;
        }

        /* Contenedor del feedback (correcto/incorrecto) */
        .feedback {
            margin-top: 15px;
            font-weight: 600;
            font-size: 1rem;
            text-align: center;
        }

        /* Estilo para feedback correcto */
        .feedback.correct {
            color: #28a745;
        }

        /* Estilo para feedback incorrecto */
        .feedback.incorrect {
            color: #dc3545;
        }

        /* Contenedor de los botones de navegación */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        /* Estilo base para los botones de navegación */
        .nav-button {
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
            text-align: center;
        }

        /* Estilo para el botón "Anterior" */
        .nav-button.prev {
            background-color: #6b7280;
            color: #ffffff;
        }
        .nav-button.prev:hover:not(:disabled) {
            background-color: #4b5563;
            transform: translateY(-2px);
        }

        /* Estilo para el botón "Siguiente" */
        .nav-button.next {
            background-color: #4299e1;
            color: #ffffff;
        }
        .nav-button.next:hover:not(:disabled) {
            background-color: #3182ce;
            transform: translateY(-2px);
        }

        /* Estilo para el botón de reinicio en línea */
        .nav-button.restart-inline {
            background-color: #f50b0b;
            color: #ffffff;
        }
        .nav-button.restart-inline:hover:not(:disabled) {
            background-color: #ac0505;
            transform: translateY(-2px);
        }

        /* Estilo para los botones deshabilitados */
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Barra de progreso */
        .progress-bar-container {
            width: 100%;
            background-color: #e2e8f0;
            border-radius: 5px;
            height: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: #4299e1;
            width: 0%;
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        /* Visualización de la puntuación final */
        .score-display {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-top: 20px;
        }

        /* Resumen de resultados */
        .results-summary {
            margin-top: 20px;
            padding: 20px;
            background-color: #f8fafc;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
        }

        .results-summary p {
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: #2d3748;
        }

        .results-summary p strong {
            font-weight: 700;
        }

        /* Botón de reinicio final */
        .restart-button {
            display: block;
            width: fit-content;
            margin: 20px auto 0 auto;
            padding: 12px 30px;
            background-color: #48bb78;
            color: #ffffff;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .restart-button:hover {
            background-color: #38a169;
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
         <h1 style="color: #003366; font-family: 'Georgia', serif; font-size: 2rem; text-align: center; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);">FRONT Y BACK</h1>

        <!-- Barra de progreso -->
        <div class="progress-bar-container">
            <div id="progressBar" class="progress-bar"></div>
        </div>

        <!-- Contenedor principal de las preguntas -->
        <div id="quizContainer">
            <!-- Las preguntas se cargarán dinámicamente aquí -->
        </div>

        <!-- Botones de navegación -->
        <div class="navigation-buttons">
            <button id="prevBtn" class="nav-button prev" disabled>Anterior</button>
            <button id="restartInlineBtn" class="nav-button restart-inline">Reiniciar Test</button>
            <button id="nextBtn" class="nav-button next">Siguiente</button>
        </div>

        <!-- Contenedor de la puntuación final -->
        <div id="finalScore" class="hidden">
            <div class="score-display"></div>
            <div class="results-summary">
                <p><strong>Preguntas Correctas:</strong> <span id="correctCount">0</span></p>
                <p><strong>Preguntas Incorrectas:</strong> <span id="incorrectCount">0</span></p>
                <p><strong>Preguntas Sin Contestar:</strong> <span id="unansweredCount">0</span></p>
            </div>
            <button id="restartBtn" class="restart-button">Reiniciar Test</button>
        </div>
    </div>

    <script>
        // Define the quiz data: questions, options, and correct answers
        const questions = [
            {
                question: '¿Qué tipo de lenguajes son los "scripting languages"?',
                options: ['a) Compilados', 'b) Interpretados', 'c) Híbridos', 'd) Ensamblados'],
                correctAnswer: 'b) Interpretados'
            },
            {
                question: '¿Dónde se ejecuta el código "Backend"?',
                options: ['a) En el cliente', 'b) En el navegador', 'c) En el servidor', 'd) En una máquina virtual local'],
                correctAnswer: 'c) En el servidor'
            },
            {
                question: '¿Cuál de los siguientes no es un lenguaje de scripting Backend mencionado en los documentos?',
                options: ['a) PHP', 'b) Ruby', 'c) Java', 'd) Python'],
                correctAnswer: 'c) Java'
            },
            {
                question: '¿Qué gestor de paquetes se utiliza comúnmente con PHP?',
                options: ['a) Pip', 'b) Gems', 'c) Composer', 'd) npm'],
                correctAnswer: 'c) Composer'
            },
            {
                question: 'El fichero composer.json ¿qué tipo de información contiene?',
                options: ['a) Datos de configuración de la base de datos', 'b) Las dependencias del proyecto', 'c) Código fuente de la aplicación', 'd) Logs del servidor'],
                correctAnswer: 'b) Las dependencias del proyecto'
            },
            {
                question: '¿Cuál es el gestor de paquetes para Ruby?',
                options: ['a) Pip', 'b) Gems', 'c) Composer', 'd) npm'],
                correctAnswer: 'b) Gems'
            },
            {
                question: '¿Qué motor de ejecución utiliza JavaScript?',
                options: ['a) Zend Engine', 'b) JVM', 'c) V8', 'd) Spidermonkey'],
                correctAnswer: 'c) V8'
            },
            {
                question: '¿Qué framework web está orientado a crear microservicios?',
                options: ['a) Django', 'b) Flask', 'c) Laravel', 'd) Ruby on Rails'],
                correctAnswer: 'b) Flask'
            },
            {
                question: '¿Qué framework web de PHP es mencionado en los documentos?',
                options: ['a) Express', 'b) Cake PHP', 'c) Pyramid', 'd) Roda'],
                correctAnswer: 'b) Cake PHP'
            },
            {
                question: '¿Qué producto final desarrollado en PHP se utiliza para cursos online?',
                options: ['a) phpBB', 'b) Magento', 'c) Moodle', 'd) Alfresco'],
                correctAnswer: 'c) Moodle'
            },
            {
                question: '¿Cuál de los siguientes es un gestor de contenido (CMS) desarrollado en PHP?',
                options: ['a) OSCommerce', 'b) WordPress', 'c) Prestashop', 'd) Alfresco'],
                correctAnswer: 'b) WordPress'
            },
            {
                question: 'Para ejecutar una aplicación PHP con base de datos, ¿qué es una forma sencilla de facilitar la instalación y configuración?',
                options: ['a) Instalar cada componente por separado', 'b) Usar un compilador PHP', 'c) Utilizar un tipo de contenedor que facilita el proceso', 'd) Configurar manualmente cada módulo'],
                correctAnswer: 'c) Utilizar un tipo de contenedor que facilita el proceso'
            },
            {
                question: '¿Cuál de los siguientes productos es un software que ya trae lo necesario para ejecutar aplicaciones PHP con base de datos?',
                options: ['a) MySQL Workbench', 'b) Visual Studio Code', 'c) XAMPP', 'd) Apache Tomcat'],
                correctAnswer: 'c) XAMPP'
            },
            {
                question: 'En XAMPP, ¿qué representa la \'X\'?',
                options: ['a) Linux', 'b) Windows', 'c) Mac', 'd) Multiplataforma'],
                correctAnswer: 'd) Multiplataforma'
            },
            {
                question: 'En LAMP, ¿qué representa la \'A\'?',
                options: ['a) Angular', 'b) Apache', 'c) Apple', 'd) Amazon'],
                correctAnswer: 'b) Apache'
            },
            {
                question: 'En WAMP, ¿qué representa la \'W\'?',
                options: ['a) Web', 'b) Windows', 'c) Workstation', 'd) World'],
                correctAnswer: 'b) Windows'
            },
            {
                question: 'En LEMP, ¿qué representa la \'E\'?',
                options: ['a) Express', 'b) Ember', 'c) Nginx', 'd) Eclipse'],
                correctAnswer: 'c) Nginx'
            },
            {
                question: 'Inicialmente, la \'P\' en XAMPP representaba PHP. ¿Qué otros lenguajes puede representar ahora?',
                options: ['a) Perl o Python', 'b) Java o C++', 'c) Ruby o Go', 'd) Swift o Kotlin'],
                correctAnswer: 'a) Perl o Python'
            },
            {
                question: '¿Cuál es una de las "pegas" de las arquitecturas Cliente-Servidor en web que la arquitectura MEAN intenta paliar?',
                options: ['a) La dificultad de la interfaz de usuario', 'b) La excesiva transformación de información (Objetos a SQL, SQL a Objetos, etc.)', 'c) El alto costo de los servidores', 'd) La baja seguridad en las transacciones'],
                correctAnswer: 'b) La excesiva transformación de información (Objetos a SQL, SQL a Objetos, etc.)'
            },
            {
                question: 'En la arquitectura MEAN, ¿qué tecnología maneja la información en formato JSON de forma nativa?',
                options: ['a) Express', 'b) Node', 'c) Angular', 'd) Todas las anteriores'],
                correctAnswer: 'd) Todas las anteriores'
            },
            {
                question: '¿Qué tipo de base de datos es MongoDB?',
                options: ['a) Relacional', 'b) Columnares', 'c) NoSQL de tipo documental', 'd) Grafo'],
                correctAnswer: 'c) NoSQL de tipo documental'
            },
            {
                question: '¿Cómo se maneja la información entre el Servidor y la Base de Datos en la arquitectura MEAN?',
                options: ['a) Se transforma a SQL', 'b) Se transforma a XML', 'c) En formato JSON, sin transformación', 'd) En formato binario'],
                correctAnswer: 'c) En formato JSON, sin transformación'
            },
            {
                question: 'Si en la arquitectura MEAN sustituimos Angular por React, ¿qué arquitectura obtenemos?',
                options: ['a) MEVN', 'b) MERN', 'c) LAMP', 'd) XAMPP'],
                correctAnswer: 'b) MERN'
            },
            {
                question: '¿Quién desarrolla el framework de Frontend Angular?',
                options: ['a) Facebook', 'b) Microsoft', 'c) Google', 'd) Amazon'],
                correctAnswer: 'c) Google'
            },
            {
                question: '¿Qué significa que un desarrollador sea "Fullstack"?',
                options: ['a) Que domina solo tecnologías de Backend', 'b) Que domina solo tecnologías de Frontend', 'c) Que domina tecnologías tanto de Backend como de Frontend', 'd) Que se especializa en bases de datos'],
                correctAnswer: 'c) Que domina tecnologías tanto de Backend como de Frontend'
            },
            {
                question: '¿Cuál de las siguientes es una variable superglobal en PHP?',
                options: ['a) $_LOCAL', 'b) $_FUNCTION', 'c) $_SERVER', 'd) $_GLOBAL'],
                correctAnswer: 'c) $_SERVER'
            },
            {
                question: '¿Qué operador se utiliza para la concatenación en PHP?',
                options: ['a) +', 'b) .', 'c) &', 'd) _'],
                correctAnswer: 'b) .'
            },
            {
                question: '¿Qué operador se utiliza para la igualdad (solo valor) en PHP?',
                options: ['a) ===', 'b) ==', 'c) !=', 'd) !=='],
                correctAnswer: 'b) =='
            },
            {
                question: '¿Qué operador en PHP se conoce como "Nave espacial" (<=>)?',
                options: ['a) Compara dos expresiones y devuelve -1, 0 o 1', 'b) Asigna un valor si el operando es nulo', 'c) Concatena cadenas', 'd) Comprueba el tipo de una variable'],
                correctAnswer: 'a) Compara dos expresiones y devuelve -1, 0 o 1'
            },
            {
                question: '¿Qué operador en PHP se utiliza para la "Fusión de null" (Null coalescing)?',
                options: ['a) ??', 'b) ||', 'c) &&', 'd) !'],
                correctAnswer: 'a) ??'
            },
            {
                question: '¿Qué tipo de comillas resuelven las variables en PHP?',
                options: ['a) Simples', 'b) Dobles', 'c) Ambas', 'd) Ninguna'],
                correctAnswer: 'b) Dobles'
            },
            {
                question: '¿Cómo se escribe un comentario de una sola línea en PHP?',
                options: ['a) /* comentario */', 'b) // comentario', 'c) <-- comentario -->', 'd) -- comentario'],
                correctAnswer: 'b) // comentario'
            },
            {
                question: '¿Qué motor de persistencia (ORM) utiliza Laravel?',
                options: ['a) Doctrine', 'b) Eloquent', 'c) Hibernate', 'd) JPA'],
                correctAnswer: 'b) Eloquent'
            },
            {
                question: '¿Cómo se define un constructor en una clase PHP?',
                options: ['a) public function construct()', 'b) public function __init()', 'c) public function __construct()', 'd) public function create()'],
                correctAnswer: 'c) public function __construct()'
            },
            {
                question: '¿Cuál es el operador en PHP para acceder a los miembros de la instancia actual de una clase?',
                options: ['a) self::', 'b) parent::', 'c) $this->', 'd) this.'],
                correctAnswer: 'c) $this->'
            },
            {
                question: 'En PHP, ¿qué operador se utiliza para verificar si un objeto es una instancia de una clase?',
                options: ['a) is_a', 'b) type_of', 'c) instanceof', 'd) is_object'],
                correctAnswer: 'c) instanceof'
            },
            {
                question: '¿Qué palabra clave en PHP evita sobrescrituras de clases y métodos?',
                options: ['a) abstract', 'b) static', 'c) final', 'd) protected'],
                correctAnswer: 'c) final'
            },
            {
                question: '¿Qué función se creó en PHP para evitar muchos require?',
                options: ['a) include_once()', 'b) spl_autoload_register()', 'c) load_class()', 'd) get_require()'],
                correctAnswer: 'b) spl_autoload_register()'
            },
            {
                question: '¿Cómo se llaman los métodos especiales en PHP que empiezan por __ (doble guion bajo)?',
                options: ['a) Métodos estáticos', 'b) Métodos abstractos', 'c) Magic methods', 'd) Métodos de interfaz'],
                correctAnswer: 'c) Magic methods'
            },
            {
                question: '¿Para qué se utilizan los Traits/Rasgos/Tratos en PHP?',
                options: ['a) Para implementar herencia múltiple', 'b) Para ofrecer una serie de métodos sin usar herencia (programación por composición)', 'c) Para definir interfaces', 'd) Para crear clases abstractas'],
                correctAnswer: 'b) Para ofrecer una serie de métodos sin usar herencia (programación por composición)'
            },
            {
                question: 'En PHP, si un método de la clase que usa un trait se llama igual que el del trait, ¿cuál tiene preferencia?',
                options: ['a) El método del trait', 'b) El método de la clase', 'c) Ambos generan un error', 'd) Depende de la visibilidad'],
                correctAnswer: 'b) El método de la clase'
            },
            {
                question: 'Si un método del trait se llama igual que un método heredado, ¿cuál tiene preferencia?',
                options: ['a) El método de la herencia', 'b) El método del trait', 'c) Ambos generan un error', 'd) Depende del orden de declaración'],
                correctAnswer: 'b) El método del trait'
            },
            {
                question: '¿Qué módulo de Apache hace un fork del propio Apache cada vez que se le pide algo PHP?',
                options: ['a) mod_proxy_fcgi', 'b) mod_php', 'c) mod_rewrite', 'd) mod_ssl'],
                correctAnswer: 'b) mod_php'
            },
            {
                question: '¿Qué gestor se utiliza para los forks del intérprete de PHP con FCGI?',
                options: ['a) Apache', 'b) Nginx', 'c) FPM', 'd) Composer'],
                correctAnswer: 'c) FPM'
            },
            {
                question: '¿Qué comando se utiliza para crear un nuevo proyecto Laravel?',
                options: ['a) php artisan new', 'b) laravel new', 'c) composer create-project', 'd) npm install laravel'],
                correctAnswer: 'b) laravel new'
            },
            {
                question: '¿Qué es artisan en Laravel?',
                options: ['a) Un ORM', 'b) Una CLI (Command Line Interface)', 'c) Un gestor de paquetes', 'd) Un motor de plantillas'],
                correctAnswer: 'b) Una CLI (Command Line Interface)'
            },
            {
                question: '¿Qué comando de artisan se utiliza para levantar el proyecto Laravel?',
                options: ['a) php artisan start', 'b) php artisan run', 'c) php artisan serve', 'd) php artisan up'],
                correctAnswer: 'c) php artisan serve'
            },
            {
                question: '¿Para qué se utilizan los Seeders en Laravel?',
                options: ['a) Para generar migraciones', 'b) Para llenar la BD con datos de prueba codificados manualmente', 'c) Para crear controladores', 'd) Para definir modelos'],
                correctAnswer: 'b) Para llenar la BD con datos de prueba codificados manualmente'
            },
            {
                question: '¿Qué librería utilizan los Factories en Laravel para llenar la BD con datos de prueba de forma masiva?',
                options: ['a) Guzzle', 'b) Faker', 'c) Carbon', 'd) Eloquent'],
                correctAnswer: 'b) Faker'
            },
            {
                question: '¿Qué componente de Laravel es el que recibe las peticiones HTTP?',
                options: ['a) Model', 'b) View', 'c) Controller', 'd) Migration'],
                correctAnswer: 'c) Controller'
            },
            {
                question: '¿Para qué sirven las Migraciones en Laravel?',
                options: ['a) Para versionar los scripts de BD', 'b) Para migrar datos entre bases de datos', 'c) Para optimizar consultas SQL', 'd) Para generar informes'],
                correctAnswer: 'a) Para versionar los scripts de BD'
            },
            {
                question: '¿Qué comando ejecuta las migraciones pendientes en Laravel?',
                options: ['a) php artisan make:migration', 'b) php artisan rollback', 'c) php artisan migrate', 'd) php artisan status'],
                correctAnswer: 'c) php artisan migrate'
            },
            {
                question: '¿Cuál es la estandarización de JavaScript mencionada en el documento?',
                options: ['a) Java Enterprise Edition', 'b) ECMA Script 262 / ES 6 / ES 2015', 'c) World Wide Web Consortium', 'd) CommonJS'],
                correctAnswer: 'b) ECMA Script 262 / ES 6 / ES 2015'
            },
            {
                question: '¿Qué motor de JavaScript utiliza el navegador Chrome?',
                options: ['a) SpiderMonkey', 'b) Nitro', 'c) V8', 'd) Gecko'],
                correctAnswer: 'c) V8'
            },
            {
                question: '¿Qué motor de renderizado utiliza el navegador Firefox?',
                options: ['a) Blink', 'b) Webkit', 'c) Gecko -> Quantum', 'd) V8'],
                correctAnswer: 'c) Gecko -> Quantum'
            },
            {
                question: '¿Por qué el código de nuevos lenguajes como TypeScript debe ser transpildado a JavaScript?',
                options: ['a) Porque JavaScript es más eficiente', 'b) Porque algunos navegadores no entienden el código original', 'c) Para reducir el tamaño del archivo', 'd) Por razones de seguridad'],
                correctAnswer: 'b) Porque algunos navegadores no entienden el código original'
            },
            {
                question: '¿Qué herramienta se utiliza para la transpilación de código a JavaScript?',
                options: ['a) Webpack', 'b) Babel', 'c) Gulp', 'd) Bower'],
                correctAnswer: 'b) Babel'
            },
            {
                question: '¿Cuál de los siguientes es un preprocesador CSS?',
                options: ['a) Pug', 'b) Less', 'c) Mustache', 'd) Handlebars'],
                correctAnswer: 'b) Less'
            },
            {
                question: '¿Qué es Node.js?',
                options: ['a) Un framework de frontend', 'b) Una base de datos NoSQL', 'c) Como la JRE de JavaScript', 'd) Un motor de renderizado'],
                correctAnswer: 'c) Como la JRE de JavaScript'
            },
            {
                question: '¿Qué norma ECMA define JSON?',
                options: ['a) ECMA 262', 'b) ECMA 334', 'c) ECMA 335', 'd) ECMA 404'],
                correctAnswer: 'd) ECMA 404'
            },
            {
                question: '¿Qué herramienta construida sobre NodeJS que servía para gestionar dependencias/versiones de librerías JS está obsoleta?',
                options: ['a) npm', 'b) Yarn', 'c) Bower', 'd) Webpack'],
                correctAnswer: 'c) Bower'
            },
            {
                question: '¿Qué herramienta obsoleta sobre NodeJS servía para automatizar tareas de desarrollo (minificar código JS, transpilar Sass/Less a CSS)?',
                options: ['a) Yeoman', 'b) Gulp/Grup', 'c) ESLint', 'd) Browserify'],
                correctAnswer: 'b) Gulp/Grup'
            },
            {
                question: '¿Qué herramienta obsoleta sobre NodeJS servía para generar estructuras de directorios/ficheros, similar a los archetypes de Maven?',
                options: ['a) Gulp', 'b) Bower', 'c) Yeoman', 'd) Webpack'],
                correctAnswer: 'c) Yeoman'
            },
            {
                question: '¿Cómo se instala el CLI de Angular?',
                options: ['a) npm install -g @angular\\cli', 'b) ng install angular-cli', 'c) yarn add angular-cli', 'd) composer require angular/cli'],
                correctAnswer: 'a) npm install -g @angular\\cli'
            },
            {
                question: '¿Qué comando se utiliza para crear un nuevo proyecto Angular?',
                options: ['a) ng create', 'b) ng init', 'c) ng new', 'd) ng generate'],
                correctAnswer: 'c) ng new'
            },
            {
                question: '¿Qué herramientas se utilizan actualmente para gestionar dependencias en frontend en lugar de Bower?',
                options: ['a) Gulp y Grup', 'b) Webpack y Browserify', 'c) Yarn o npm', 'd) ESLint y JSHint'],
                correctAnswer: 'c) Yarn o npm'
            },
            {
                question: '¿Qué fichero contiene todas las dependencias en proyectos que usan npm o Yarn?',
                options: ['a) config.json', 'b) yarn.lock', 'c) package.json', 'd) dependencies.xml'],
                correctAnswer: 'c) package.json'
            },
            {
                question: '¿Cuál de los siguientes no es un "package bundler" o empaquetador?',
                options: ['a) Webpack', 'b) Browserify', 'c) ESLint', 'd) Rollup'],
                correctAnswer: 'c) ESLint'
            },
            {
                question: '¿Para qué sirven los Linters como ESLint?',
                options: ['a) Para empaquetar archivos', 'b) Para gestionar dependencias', 'c) Para mejorar el código mediante análisis e identificar fallos', 'd) Para automatizar tareas'],
                correctAnswer: 'c) Para mejorar el código mediante análisis e identificar fallos'
            },
            {
                question: 'En HTML5, ¿qué etiqueta se utiliza para llamar al código JavaScript?',
                options: ['a) <js>', 'b) <script>', 'c) <javascript>', 'd) <codejs>'],
                correctAnswer: 'b) <script>'
            },
            {
                question: '¿Qué permite la DOM API en JavaScript?',
                options: ['a) Modificar, crear y eliminar nodos del documento', 'b) Realizar peticiones HTTP asíncronas', 'c) Gestionar dependencias', 'd) Compilar código JavaScript'],
                correctAnswer: 'a) Modificar, crear y eliminar nodos del documento'
            },
            {
                question: '¿Qué técnica de desarrollo favorece la creación de aplicaciones web RIA (Rich Internet Applications)?',
                options: ['a) CSS3', 'b) HTML5', 'c) AJAX', 'd) SQL'],
                correctAnswer: 'c) AJAX'
            },
            {
                question: '¿Qué objeto se utiliza en AJAX para realizar peticiones HTTP asíncronas?',
                options: ['a) XMLHttpRequest', 'b) HttpRequest', 'c) AsyncRequest', 'd) HTTPClient'],
                correctAnswer: 'a) XMLHttpRequest'
            },
            {
                question: 'En una petición AJAX, ¿qué valor de readyState indica que la respuesta ha sido completada?',
                options: ['a) 0', 'b) 1', 'c) 3', 'd) 4'],
                correctAnswer: 'd) 4'
            },
            {
                question: 'Si una petición AJAX devuelve JSON, ¿en qué atributo se guardará la respuesta?',
                options: ['a) responseXML', 'b) responseJSON', 'c) responseText', 'd) responseData'],
                correctAnswer: 'c) responseText'
            },
            {
                question: '¿Qué método de XMLHttpRequest se utiliza para preparar la llamada?',
                options: ['a) send()', 'b) prepare()', 'c) open()', 'd) init()'],
                correctAnswer: 'c) open()'
            },
            {
                question: '¿Qué evento se dispara en XMLHttpRequest con cada cambio de estado?',
                options: ['a) onstatuschange', 'b) onload', 'c) onreadystatechange', 'd) onerror'],
                correctAnswer: 'c) onreadystatechange'
            },
            {
                question: '¿Qué nueva API ha sustituido a XMLHttpRequest para hacer peticiones asíncronas?',
                options: ['a) Axios', 'b) jQuery.ajax()', 'c) Fetch', 'd) SuperAgent'],
                correctAnswer: 'c) Fetch'
            },
            {
                question: '¿Qué librería se menciona para hacer peticiones asíncronas en JavaScript?',
                options: ['a) Fetch', 'b) Axios', 'c) jQuery', 'd) Prototype'],
                correctAnswer: 'b) Axios'
            },
            {
                question: '¿En qué estado puede estar una Promesa en JavaScript?',
                options: ['a) Start, Running, End', 'b) Pending, Fulfilled, Rejected', 'c) Active, Inactive, Completed', 'd) Initial, Processing, Final'],
                correctAnswer: 'b) Pending, Fulfilled, Rejected'
            },
            {
                question: '¿Qué palabra clave se utiliza en JavaScript para convertir una función en asíncrona?',
                options: ['a) await', 'b) then', 'c) async', 'd) promise'],
                correctAnswer: 'c) async'
            },
            {
                question: '¿Qué palabra clave se utiliza en JavaScript para esperar el resultado de una función asíncrona y evitar encadenar muchos .then?',
                options: ['a) async', 'b) wait', 'c) await', 'd) delay'],
                correctAnswer: 'c) await'
            },
            {
                question: '¿Cuál de las siguientes afirmaciones sobre JavaScript es correcta?',
                options: ['a) Es orientado a objetos con clases tradicionales.', 'b) No tiene clases, pero sí trabaja con objetos.', 'c) No es dinámico.', 'd) No es interpretado.'],
                correctAnswer: 'b) No tiene clases, pero sí trabaja con objetos.'
            },
            {
                question: '¿Qué concepto en JavaScript se refiere a que las funciones se tratan como cualquier otra variable (se pueden asignar, pasar como parámetro, retornar)?',
                options: ['a) Clausuras', 'b) Promesas', 'c) Funciones de primera clase', 'd) Herencia prototípica'],
                correctAnswer: 'c) Funciones de primera clase'
            },
            {
                question: '¿Qué método de un array en JavaScript devuelve un nuevo array mapeado/correspondido?',
                options: ['a) forEach()', 'b) filter()', 'c) map()', 'd) reduce()'],
                correctAnswer: 'c) map()'
            },
            {
                question: '¿Qué método de un array en JavaScript añade un elemento al final del array?',
                options: ['a) pop()', 'b) shift()', 'c) unshift()', 'd) push()'],
                correctAnswer: 'd) push()'
            },
            {
                question: '¿Qué método de un array en JavaScript elimina el último elemento del array?',
                options: ['a) push()', 'b) pop()', 'c) splice()', 'd) slice()'],
                correctAnswer: 'b) pop()'
            },
            {
                question: '¿Qué método de un array en JavaScript devuelve un array filtrado según una condición?',
                options: ['a) map()', 'b) forEach()', 'c) filter()', 'd) reduce()'],
                correctAnswer: 'c) filter()'
            },
            {
                question: '¿Qué método JSON en JavaScript convierte un objeto JavaScript a cadena?',
                options: ['a) JSON.parse()', 'b) JSON.toObject()', 'c) JSON.stringify()', 'd) JSON.encode()'],
                correctAnswer: 'c) JSON.stringify()'
            },
            {
                question: '¿Qué método JSON en JavaScript convierte una cadena a objeto JavaScript?',
                options: ['a) JSON.stringify()', 'b) JSON.toObject()', 'c) JSON.decode()', 'd) JSON.parse()'],
                correctAnswer: 'd) JSON.parse()'
            },
            {
                question: '¿Qué evento se dispara en JavaScript cuando se hace click en un elemento?',
                options: ['a) focus', 'b) change', 'c) click', 'd) input'],
                correctAnswer: 'c) click'
            },
            {
                question: '¿Qué evento se dispara en JavaScript cuando se introduce texto en una caja de texto?',
                options: ['a) keypress', 'b) blur', 'c) input', 'd) select'],
                correctAnswer: 'c) input'
            },
            {
                question: '¿Cuál es la primera fase en el manejo de eventos en el DOM?',
                options: ['a) Burbujeo', 'b) Target', 'c) Captura', 'd) Propagación'],
                correctAnswer: 'c) Captura'
            },
            {
                question: 'En el manejo de eventos del DOM, ¿qué fase se encarga de gestionar el evento en el propio objeto que lo ha generado?',
                options: ['a) Captura', 'b) Target', 'c) Burbujeo', 'd) Propagación'],
                correctAnswer: 'b) Target'
            },
            {
                question: '¿Qué método en JavaScript detiene el burbujeo de un evento?',
                options: ['a) preventDefault()', 'b) stopBubbling()', 'c) stopPropagation()', 'd) cancelEvent()'],
                correctAnswer: 'c) stopPropagation()'
            },
            {
                question: '¿Qué método en JavaScript previene el comportamiento por defecto de un evento?',
                options: ['a) stopPropagation()', 'b) cancelDefault()', 'c) preventAction()', 'd) preventDefault()'],
                correctAnswer: 'd) preventDefault()'
            },
            {
                question: '¿Qué propiedad de event devuelve el objeto original que ha provocado el evento?',
                options: ['a) event.currentTarget', 'b) event.target', 'c) event.srcElement', 'd) event.originalTarget'],
                correctAnswer: 'b) event.target'
            },
            {
                question: 'En JavaScript, ¿qué operador compara valor y tipo?',
                options: ['a) ==', 'b) =', 'c) ===', 'd) !='],
                correctAnswer: 'c) ==='
            },
            {
                question: '¿Cuál es el operador de exponenciación en JavaScript?',
                options: ['a) ^', 'b) **', 'c) pow()', 'd) exp'],
                correctAnswer: 'b) **'
            },
            {
                question: '¿Qué operador lógico en JavaScript devuelve true si ambas condiciones son verdaderas y false si alguna es falsa?',
                options: ['a) ||', 'b) !', 'c) &&', 'd) ??'],
                correctAnswer: 'c) &&'
            }
        ];

       
        // Variables de estado del quiz
        let currentQuestionIndex = 0;
        let score = 0;
        // userAnswers guarda el texto de la opción seleccionada (o null)
        const userAnswers = new Array(questions.length).fill(null);
        // scoredQuestions guarda true si la pregunta fue respondida correctamente, false si fue incorrecta o no respondida
        const scoredQuestions = new Array(questions.length).fill(false); 

        // Referencias a los elementos del DOM
        const quizContainer = document.getElementById('quizContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const restartBtn = document.getElementById('restartBtn');
        const restartInlineBtn = document.getElementById('restartInlineBtn');
        const finalScoreDiv = document.getElementById('finalScore');
        const progressBar = document.getElementById('progressBar');
        const finalScoreDisplay = finalScoreDiv.querySelector('.score-display');
        const correctCountSpan = document.getElementById('correctCount');
        const incorrectCountSpan = document.getElementById('incorrectCount');
        const unansweredCountSpan = document.getElementById('unansweredCount');

        /**
         * Carga el estado del quiz guardado en localStorage.
         * Si no existe, inicializa un nuevo estado.
         */
        function loadQuizState() {
            try {
                const savedState = JSON.parse(localStorage.getItem('quizState'));
                if (savedState) {
                    currentQuestionIndex = savedState.currentQuestionIndex;
                    score = savedState.score;
                    // Asegurarse de que los arrays tengan el tamaño correcto y copiar los valores
                    userAnswers.splice(0, savedState.userAnswers.length, ...savedState.userAnswers);
                    scoredQuestions.splice(0, savedState.scoredQuestions.length, ...savedState.scoredQuestions);
                }
            } catch (e) {
                console.error("Error al cargar el estado del quiz:", e);
                // Si hay un error, el estado se reiniciará a los valores por defecto
            }
        }

        /**
         * Guarda el estado actual del quiz en localStorage.
         */
        function saveQuizState() {
            const quizState = {
                currentQuestionIndex: currentQuestionIndex,
                score: score,
                userAnswers: userAnswers,
                scoredQuestions: scoredQuestions
            };
            localStorage.setItem('quizState', JSON.stringify(quizState));
        }

        /**
         * Carga y muestra la pregunta actual.
         */
        function loadQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResults();
                return;
            }

            const currentQuestion = questions[currentQuestionIndex];
            quizContainer.innerHTML = `
                <div class="question-card">
                    <p class="question-text"></p>
                    <div class="options-container">
                        ${currentQuestion.options.map(() => `
                            <button class="option-button"></button>
                        `).join('')}
                    </div>
                    <div class="solution hidden">
                        <strong>Solución:</strong> <span class="solution-text"></span>
                    </div>
                </div>
            `;

            const questionTextElement = quizContainer.querySelector('.question-text');
            const optionsContainer = quizContainer.querySelector('.options-container');
            const questionCard = quizContainer.querySelector('.question-card');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');

            // Usar textContent para insertar el texto de la pregunta de forma segura
            questionTextElement.textContent = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;

            // Asignar el texto y los atributos data-option a cada botón de opción
            currentQuestion.options.forEach((option, index) => {
                optionButtons[index].textContent = option; // Inserta el texto como texto plano
                optionButtons[index].dataset.option = option; // Guarda la opción original para la lógica
                optionButtons[index].addEventListener('click', handleOptionClick);
            });

            // Resalta la respuesta del usuario si ya ha respondido y aplica estilos
            const savedAnswer = userAnswers[currentQuestionIndex];
            if (savedAnswer !== null) {
                // Encuentra el botón por su atributo data-option, que contiene la respuesta guardada
                const selectedButton = optionsContainer.querySelector(`[data-option="${savedAnswer}"]`);
                if (selectedButton) {
                    // Deshabilita todos los botones para que no se pueda cambiar la respuesta
                    optionButtons.forEach(button => {
                        button.classList.add('disabled');
                        button.removeEventListener('click', handleOptionClick); // Remover listener si ya está respondida
                    });

                    // Aplica los estilos de la respuesta guardada
                    const isCorrect = (savedAnswer === currentQuestion.correctAnswer);
                    if (isCorrect) {
                        selectedButton.classList.add('correct-answer');
                        questionCard.classList.add('correct');
                    } else {
                        selectedButton.classList.add('incorrect-answer');
                        questionCard.classList.add('incorrect');
                        // Muestra la respuesta correcta si la guardada fue incorrecta
                        const correctButton = optionsContainer.querySelector(`[data-option="${currentQuestion.correctAnswer}"]`);
                        if (correctButton) {
                            correctButton.classList.add('correct-answer');
                        }
                    }
                    // Añadir feedback visual (Correcto/Incorrecto)
                    updateQuestionCardVisuals(isCorrect);
                }
            }

            // Actualiza el estado de los botones de navegación y la barra de progreso
            updateNavButtons();
            updateProgressBar();
        }

        /**
         * Maneja el evento de clic en una opción de respuesta.
         * @param {Event} event - El evento de clic.
         */
        function handleOptionClick(event) {
            const selectedOptionButton = event.target;
            const selectedOption = selectedOptionButton.dataset.option; // Obtiene la opción del atributo data-option
            const currentQuestion = questions[currentQuestionIndex];
            const optionsContainer = quizContainer.querySelector('.options-container');
            const questionCard = quizContainer.querySelector('.question-card');

            // Deshabilita todos los botones de opción para evitar múltiples respuestas
            optionsContainer.querySelectorAll('.option-button').forEach(button => {
                button.classList.add('disabled');
                button.removeEventListener('click', handleOptionClick);
            });

            // Actualiza la respuesta del usuario y la guarda
            userAnswers[currentQuestionIndex] = selectedOption;
            
            // Comprueba si la respuesta es correcta
            const isCorrectAttempt = (selectedOption === currentQuestion.correctAnswer);

            if (isCorrectAttempt) {
                selectedOptionButton.classList.add('correct-answer');
                questionCard.classList.add('correct');
                // Si no se ha puntuado antes, añade un punto y marca como correcta
                if (!scoredQuestions[currentQuestionIndex]) { // scoredQuestions[index] will be false if not yet scored
                    score++;
                    scoredQuestions[currentQuestionIndex] = true; // Marca como correcta
                }
            } else {
                selectedOptionButton.classList.add('incorrect-answer');
                questionCard.classList.add('incorrect');
                // Si se había puntuado como correcta (porque el usuario cambió de opinión), quita el punto
                if (scoredQuestions[currentQuestionIndex]) { // scoredQuestions[index] will be true if it was previously correct
                    score--;
                    scoredQuestions[currentQuestionIndex] = false; // Marca como incorrecta
                }
                // Resalta la respuesta correcta
                const correctAnswerButton = optionsContainer.querySelector(`[data-option="${currentQuestion.correctAnswer}"]`);
                if (correctAnswerButton) {
                    correctAnswerButton.classList.add('correct-answer');
                }
            }
            
            saveQuizState(); // Guarda el estado después de actualizar score y scoredQuestions

            // Añadir feedback visual (Correcto/Incorrecto)
            updateQuestionCardVisuals(isCorrectAttempt);

            // Muestra la solución detallada si existe (aunque no hay en tu questions actual)
            if (currentQuestion.solution) {
                const solutionDiv = quizContainer.querySelector('.solution');
                solutionDiv.classList.remove('hidden');
                solutionDiv.querySelector('.solution-text').textContent = currentQuestion.solution;
            }
        }

        /**
         * Actualiza el estilo de la tarjeta de pregunta y añade feedback visual.
         * @param {boolean} isCorrect - Indica si la respuesta es correcta.
         */
        function updateQuestionCardVisuals(isCorrect) {
            const questionCard = document.querySelector('.question-card');
            // Eliminar feedback anterior si existe
            const existingFeedback = questionCard.querySelector('.feedback');
            if (existingFeedback) {
                existingFeedback.remove();
            }

            const feedbackMessage = document.createElement('p');
            feedbackMessage.classList.add('feedback');

            if (isCorrect) {
                feedbackMessage.textContent = '¡Correcto!';
                feedbackMessage.classList.add('correct');
            } else {
                feedbackMessage.textContent = 'Incorrecto. La respuesta correcta es la marcada en verde.';
                feedbackMessage.classList.add('incorrect');
            }
            questionCard.appendChild(feedbackMessage);
        }

        /**
         * Muestra los resultados finales del quiz.
         */
        function showResults() {
            quizContainer.classList.add('hidden');
            prevBtn.classList.add('hidden');
            nextBtn.classList.add('hidden');
            restartInlineBtn.classList.add('hidden');
            progressBar.parentElement.classList.add('hidden');
            finalScoreDiv.classList.remove('hidden');

            // Calcula y muestra las estadísticas
            const correctAnswers = scoredQuestions.filter(isCorrect => isCorrect).length;
            // Una respuesta es incorrecta si el usuario respondió (no es null) Y no fue marcada como correcta (scoredQuestions[index] es false)
            const incorrectAnswers = userAnswers.filter((answer, index) => answer !== null && !scoredQuestions[index]).length;
            const unansweredQuestions = userAnswers.filter(answer => answer === null).length;

            finalScoreDisplay.textContent = `Tu puntuación final es ${correctAnswers} de ${questions.length}`;
            correctCountSpan.textContent = correctAnswers;
            incorrectCountSpan.textContent = incorrectAnswers;
            unansweredCountSpan.textContent = unansweredQuestions;
        }
		
        /**
         * Actualiza el estado de los botones de navegación.
         */
        function updateNavButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.textContent = currentQuestionIndex === questions.length - 1 ? 'Finalizar' : 'Siguiente';
        }

        /**
         * Actualiza la barra de progreso.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        /**
         * Reinicia el quiz a su estado inicial.
         */
        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers.fill(null);
            scoredQuestions.fill(false);
            localStorage.clear(); // Limpia el localStorage
            
            quizContainer.classList.remove('hidden');
            prevBtn.classList.remove('hidden');
            nextBtn.classList.remove('hidden');
            restartInlineBtn.classList.remove('hidden');
            progressBar.parentElement.classList.remove('hidden');
            finalScoreDiv.classList.add('hidden');
            loadQuestion();
        }

        // Event listeners
        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                showResults();
            }
        });

        restartBtn.addEventListener('click', restartQuiz);
        restartInlineBtn.addEventListener('click', restartQuiz);

        // Carga inicial
        window.onload = function() {
            loadQuizState();
            loadQuestion();
        };
    </script>
</body>
</html>




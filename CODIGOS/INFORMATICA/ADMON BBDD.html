<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADMON BBDD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin-top: 20px;
        }
        .question-card {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
        }
        .question-text {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        .options-grid {
            display: grid;
            gap: 15px;
        }
        .option-button {
            width: 100%;
            padding: 15px 20px;
            border-radius: 8px;
            background-color: #edf2f7;
            color: #4a5568;
            font-size: 1rem;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .option-button:hover:not(.correct):not(.incorrect) {
            background-color: #e2e8f0;
            border-color: #cbd5e0;
        }
        .option-button.correct {
            background-color: #d4edda; /* Verde claro */
            color: #155724; /* Verde oscuro */
            border-color: #28a745;
            font-weight: 600;
            pointer-events: none; /* Deshabilitar clics después de la selección */
        }
        .option-button.incorrect {
            background-color: #f8d7da; /* Rojo claro */
            color: #721c24; /* Rojo oscuro */
            border-color: #dc3545;
            font-weight: 600;
            pointer-events: none; /* Deshabilitar clics después de la selección */
        }
        .solution-text {
            margin-top: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.95rem;
            line-height: 1.5;
            display: none; /* Oculto por defecto */
        }
        .solution-text.correct-solution {
            background-color: #e6ffed; /* Verde aún más claro */
            color: #1a6e3a;
            border: 1px solid #48bb78;
        }
        .solution-text.incorrect-solution {
            background-color: #ffe6e6; /* Rojo aún más claro */
            color: #993a3a;
            border: 1px solid #ef4444;
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }
        .nav-button {
            padding: 12px 25px;
            border-radius: 8px;
            background-color: #4299e1;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
            box-shadow: 0 4px 10px rgba(66, 153, 225, 0.2);
            flex-grow: 1;
            text-align: center;
            margin: 0 10px;
        }
        .nav-button:hover {
            background-color: #3182ce;
        }
        .nav-button:disabled {
            background-color: #a0aec0;
            cursor: not-allowed;
            box-shadow: none;
        }
        .reset-button {
            background-color: #e53e3e;
        }
        .reset-button:hover {
            background-color: #c53030;
        }
        .progress-indicator {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.1rem;
            color: #4a5568;
            font-weight: 600;
        }
        .title {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 20px;
        }
        .results-container {
            text-align: center;
            font-size: 1.5rem;
            line-height: 2;
        }
        .results-container h2 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 20px;
        }
        .results-container p {
            font-size: 1.25rem;
        }
        .correct-count { color: #28a745; }
        .incorrect-count { color: #dc3545; }
        .unanswered-count { color: #4a5568; }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">ADMON BBDD</h1>
        <div id="quizContainer"></div>
        <div class="navigation-buttons">
            <button id="prevButton" class="nav-button" disabled>Anterior</button>
            <button id="resetButton" class="nav-button reset-button">Reiniciar Test</button>
            <button id="nextButton" class="nav-button">Siguiente</button>
        </div>
    </div>

    <script>
        // Array de preguntas y respuestas
        const questions = [
            {
                question: "¿Qué puerto es el que utiliza una instancia de Oracle por defecto para las conexiones de usuario no TLS?",
                options: ["a) 2483", "b) 1521", "c) 3306", "d) 5432"],
                correctAnswer: "b) 1521"
            },
            {
                question: "En Oracle, ¿qué proceso es el encargado de atender las peticiones de los procesos de usuario?",
                options: ["a) LGWR", "b) DBWn", "c) PGA", "d) SGA"],
                correctAnswer: "c) PGA"
            },
            {
                question: "¿Cuál es el proceso en Oracle responsable de escribir los logs en los archivos redo log?",
                options: ["a) DBWn", "b) PGA", "c) LGWR", "d) Listener"],
                correctAnswer: "c) LGWR"
            },
            {
                question: "En la estructura lógica de Oracle, ¿qué elemento agrupa segmentos u objetos?",
                options: ["a) Base de datos", "b) Extensión", "c) Tablespace", "d) Bloque"],
                correctAnswer: "c) Tablespace"
            },
            {
                question: "¿Qué comando SQL se utiliza en Oracle para permitir el crecimiento automático de un tablespace?",
                options: ["a) AUTOEXTEND TRUE", "b) AUTOEXTEND ON", "c) ENABLE AUTOGROW", "d) SIZE AUTO"],
                correctAnswer: "b) AUTOEXTEND ON"
            },
            {
                question: "Para que un usuario recién creado en Oracle pueda conectarse a la base de datos, ¿qué permiso fundamental se le debe otorgar?",
                options: ["a) CREATE TABLE", "b) SELECT ANY TABLE", "c) CONNECT", "d) DBA"],
                correctAnswer: "c) CONNECT"
            },
            {
                question: "¿Qué tecnología de Oracle permite ejecutar una sola base de datos en múltiples servidores para maximizar la disponibilidad y escalabilidad horizontal?",
                options: ["a) Exadata", "b) Data Pump", "c) RMAN", "d) RAC"],
                correctAnswer: "d) RAC"
            },
            {
                question: "¿Qué es NLS_LANG en el contexto de Oracle?",
                options: ["a) Un lenguaje de programación para procedimientos almacenados.", "b) El nombre de un tablespace del sistema.", "c) El conjunto de caracteres usado en el lado del cliente.", "d) Una herramienta de backup."],
                correctAnswer: "c) El conjunto de caracteres usado en el lado del cliente."
            },
            {
                question: "¿Cuál es la característica principal de las vistas materializadas en Oracle respecto a la actualización de datos?",
                options: ["a) Se actualizan en tiempo real con cada consulta.", "b) Son una foto de los datos en el momento de su creación y pueden refrescarse.", "c) Son dinámicas y no almacenan datos físicos.", "d) Solo se usan para agregar datos."],
                correctAnswer: "b) Son una foto de los datos en el momento de su creación y pueden refrescarse."
            },
            {
                question: "¿Qué tipo de licencia utiliza MariaDB?",
                options: ["a) Propietaria", "b) Apache", "c) GPL", "d) MIT"],
                correctAnswer: "c) GPL"
            },
            {
                question: "¿Qué puerto utiliza por defecto una instancia de MySQL/MariaDB?",
                options: ["a) 1521", "b) 1433", "c) 5432", "d) 3306"],
                correctAnswer: "d) 3306"
            },
            {
                question: "En MySQL, si se utiliza el motor de almacenamiento MyISAM, ¿qué característica de ACID no se asegura?",
                options: ["a) Atomicity", "b) Consistency", "c) Isolation", "d) Durability"],
                correctAnswer: "d) Durability"
            },
            {
                question: "¿Cuál de los siguientes motores de almacenamiento de MySQL/MariaDB soporta transacciones y cumple con ACID?",
                options: ["a) MyISAM", "b) Memory", "c) InnoDB", "d) CSV"],
                correctAnswer: "c) InnoDB"
            },
            {
                question: "¿Cuál es el nombre del nuevo MyISAM?",
                options: ["a) XtraDB", "b) NDB Cluster", "c) Aria", "d) Spider"],
                correctAnswer: "c) Aria"
            },
            {
                question: "En MySQL, al realizar una copia de seguridad con mysqldump, ¿qué opción se utiliza para generar solo las sentencias DDL (sin datos)?",
                options: ["a) --no-data", "b) --data-only", "c) --schema-only", "d) --skip-data"],
                correctAnswer: "a) --no-data"
            },
            {
                question: "¿Qué comando se utiliza para restaurar una base de datos desde un fichero SQL en MySQL?",
                options: ["a) mysqlimport", "b) mysqlrestore", "c) mysql -u [usuario] -p [db_name] < fichero.sql", "d) mysqldump -u [usuario] -p [db_name] < fichero.sql"],
                correctAnswer: "c) mysql -u [usuario] -p [db_name] < fichero.sql"
            },
            {
                question: "¿Qué comando de administración de MySQL se utiliza para verificar si el servidor está en funcionamiento?",
                options: ["a) mysqladmin status", "b) mysqladmin ping", "c) mysqladmin health", "d) mysqladmin check"],
                correctAnswer: "b) mysqladmin ping"
            },
            {
                question: "¿Qué puerto utiliza por defecto una instancia de PostgreSQL?",
                options: ["a) 3306", "b) 1433", "c) 5432", "d) 1521"],
                correctAnswer: "c) 5432"
            },
            {
                question: "En PostgreSQL, ¿en qué se basa la seguridad de usuarios?",
                options: ["a) Esquemas", "b) Roles", "c) Permisos directos", "d) Grupos de usuarios"],
                correctAnswer: "b) Roles"
            },
            {
                question: "¿Qué comando se utiliza en PostgreSQL para crear un rol con capacidad de login?",
                options: ["a) CREATE USER", "b) CREATE ROLE con la opción LOGIN", "c) ADD USER", "d) GRANT LOGIN"],
                correctAnswer: "b) CREATE ROLE con la opción LOGIN"
            },
            {
                question: "¿Qué es RLS en PostgreSQL?",
                options: ["a) Read Lock System", "b) Row Level Security", "c) Recovery Log System", "d) Remote Login Service"],
                correctAnswer: "b) Row Level Security"
            },
            {
                question: "¿Qué archivo guarda la información de las transacciones y los cambios para la replicación Master-Slave en PostgreSQL?",
                options: ["a) pg_log", "b) pg_replog", "c) WAL (Write Ahead Log)", "d) redo.log"],
                correctAnswer: "c) WAL (Write Ahead Log)"
            },
            {
                question: "¿Qué modelo de concurrencia avanzada utiliza PostgreSQL?",
                options: ["a) OCC (Optimistic Concurrency Control)", "b) MCC (Multi-Version Concurrency Control)", "c) MVCC (Multi-Version Concurrency Control)", "d) LCC (Lock-Based Concurrency Control)"],
                correctAnswer: "c) MVCC (Multi-Version Concurrency Control)"
            },
            {
                question: "¿Qué comando se utiliza en PostgreSQL para realizar una copia de seguridad de todas las bases de datos?",
                options: ["a) pg_dumpall", "b) pg_dump --all", "c) pg_backup_all", "d) pg_exportall"],
                correctAnswer: "a) pg_dumpall"
            },
            {
                question: "¿Qué comando en PostgreSQL se utiliza para limpiar y analizar una base de datos, recuperando almacenamiento de tuplas muertas?",
                options: ["a) reindexdb", "b) pg_clean", "c) vacuumdb", "d) analyze"],
                correctAnswer: "c) vacuumdb"
            },
            {
                question: "¿Qué puerto utiliza por defecto una instancia de SQL Server?",
                options: ["a) 3306", "b) 5432", "c) 1433", "d) 1521"],
                correctAnswer: "c) 1433"
            },
            {
                question: "¿Cuál es el lenguaje de procedimientos almacenados en SQL Server?",
                options: ["a) PL/SQL", "b) Transact-SQL", "c) T-SQL", "d) SQL/PSM"],
                correctAnswer: "b) Transact-SQL"
            },
            {
                question: "Una de las funciones del DBA es la monitorización y optimización del rendimiento. ¿Qué herramienta se menciona para este propósito en Oracle?",
                options: ["a) SQL Analyzer", "b) Query Optimizer", "c) Explain Plan", "d) Performance Monitor"],
                correctAnswer: "c) Explain Plan"
            },
            {
                question: "En Oracle, ¿cuál es el propósito de un 'Listener'?",
                options: ["a) Gestionar las cachés de datos.", "b) Atender a los procesos de usuario.", "c) Escribir en los archivos de datos.", "d) Escuchar constantemente las peticiones."],
                correctAnswer: "d) Escuchar constantemente las peticiones."
            },
            {
                question: "¿Qué es un 'Segmento' en la estructura de almacenamiento de Oracle?",
                options: ["a) Un fichero físico en el sistema operativo.", "b) Una parte de un tablespace que puede ser una Tabla, Índice, Undo, LOB, etc.", "c) Un conjunto de bloques contiguos.", "d) El área de memoria dedicada a un usuario."],
                correctAnswer: "b) Una parte de un tablespace que puede ser una Tabla, Índice, Undo, LOB, etc."
            },
            {
                question: "¿Qué utilidad de Oracle se utiliza para la importación y exportación de datos y metadatos?",
                options: ["a) RMAN", "b) Data Pump", "c) SQL Loader", "d) Exp/Imp"],
                correctAnswer: "b) Data Pump"
            },
            {
                question: "¿Qué es un SYNONYM en Oracle?",
                options: ["a) Un tipo de restricción de integridad.", "b) Un alias para un objeto de base de datos.", "c) Un procedimiento almacenado.", "d) Un tipo de índice."],
                correctAnswer: "b) Un alias para un objeto de base de datos."
            },
            {
                question: "¿Cuál es la principal diferencia de licencia entre MySQL y MariaDB?",
                options: ["a) MySQL es siempre de pago, MariaDB es siempre gratuita.", "b) MySQL se ofrece bajo licencia GPL o propietaria, mientras la licencia de MariaDB es GPL.", "c) MySQL es de código abierto, MariaDB es propietaria.", "d) No hay diferencia de licencia."],
                correctAnswer: "b) MySQL se ofrece bajo licencia GPL o propietaria, mientras la licencia de MariaDB es GPL."
            },
            {
                question: "MyISAM tiene ficheros para la estructura de una tabla, datos e índices. ¿Qué extensión corresponde a los datos?",
                options: ["a) .frm", "b) .myi", "c) .myd", "d) .dbf"],
                correctAnswer: "c) .myd"
            },
            {
                question: "En la replicación Master-Slave de MySQL, ¿dónde se guardan las sentencias ejecutadas sobre el Master antes de pasarse a los esclavos?",
                options: ["a) RelayLog", "b) ErrorLog", "c) BinLog", "d) SlowQueryLog"],
                correctAnswer: "c) BinLog"
            },
            {
                question: "¿Qué comando de MySQL se utiliza para mostrar qué se está ejecutando actualmente en la base de datos?",
                options: ["a) show databases", "b) processlist", "c) show tables", "d) show status"],
                correctAnswer: "b) processlist"
            },
            {
                question: "¿Qué script de MariaDB/MySQL permite poner una nueva contraseña a usuarios root, borrar cuentas root, etc.?",
                options: ["a) mysql_configure", "b) mariadb-secure-installation", "c) mysql_setup", "d) mariadb_config"],
                correctAnswer: "b) mariadb-secure-installation"
            },
            {
                question: "En PostgreSQL, ¿se pueden definir tablespaces?",
                options: ["a) No, PostgreSQL no soporta tablespaces.", "b) Sí, para organizar físicamente las tablas, índices, etc.", "c) Solo para datos temporales.", "d) Únicamente en la versión Enterprise."],
                correctAnswer: "b) Sí, para organizar físicamente las tablas, índices, etc."
            },
            {
                question: "¿Qué comando se utiliza en PostgreSQL para que una tabla herede los campos de otra?",
                options: ["a) CREATE TABLE ... INHERITS (...)", "b) ALTER TABLE ... ADD INHERITS (...)", "c) COPY TABLE ... FROM ...", "d) EXTEND TABLE ... WITH ..."],
                correctAnswer: "a) CREATE TABLE ... INHERITS (...)"
            },
            {
                question: "En PostgreSQL, ¿qué concepto describe que cada transacción tiene su propia 'foto' de los datos, reduciendo bloqueos?",
                options: ["a) Snapshot Isolation", "b) Pessimistic Locking", "c) Multi-Version Concurrency Control (MVCC)", "d) Serializability"],
                correctAnswer: "c) Multi-Version Concurrency Control (MVCC)"
            },
            {
                question: "¿Qué comando se utiliza en PostgreSQL para crear una base de datos?",
                options: ["a) create database", "b) createbd", "c) createdb", "d) new database"],
                correctAnswer: "c) createdb"
            },
            {
                question: "¿Qué archivo de configuración en PostgreSQL define las opciones de usuario y sus métodos de autenticación?",
                options: ["a) postgresql.conf", "b) pg_hba.conf", "c) pg_ident.conf", "d) pg_service.conf"],
                correctAnswer: "b) pg_hba.conf"
            },
            {
                question: "¿Qué extensión de fichero corresponde a los datos primarios en SQL Server?",
                options: ["a) .ndf", "b) .ldf", "c) .mdf", "d) .bak"],
                correctAnswer: "c) .mdf"
            },
            {
                question: "¿Qué es un DBA (Administrador de Bases de Datos)?",
                options: ["a) Un desarrollador de aplicaciones que usa bases de datos.", "b) Un profesional encargado de la gestión, mantenimiento y optimización de bases de datos.", "c) Un experto en seguridad informática.", "d) Un analista de datos."],
                correctAnswer: "b) Un profesional encargado de la gestión, mantenimiento y optimización de bases de datos."
            },
            {
                question: "¿Cuál es una de las principales responsabilidades de un DBA en relación con la seguridad?",
                options: ["a) Diseñar la interfaz de usuario de la base de datos.", "b) Implementar mecanismos de seguridad que aplican a datos y servicios.", "c) Desarrollar nuevas funcionalidades para la base de datos.", "d) Crear informes de datos."],
                correctAnswer: "b) Implementar mecanismos de seguridad que aplican a datos y servicios."
            },
            {
                question: "En Oracle, ¿cómo se diferencia la estructura física de la estructura lógica de la base de datos?",
                options: ["a) La estructura física está dentro del SO, la lógica es el diseño de tablas.", "b) La estructura lógica son los ficheros del sistema, la física es el esquema.", "c) La estructura física son los tablespaces, la lógica son los data files.", "d) La estructura lógica se refiere a los data files, la física a los segmentos."],
                correctAnswer: "a) La estructura física está dentro del SO, la lógica es el diseño de tablas."
            },
            {
                question: "¿Qué es una 'Extensión' en el contexto de la estructura de almacenamiento de Oracle?",
                options: ["a) Un bloque de datos.", "b) Una unidad lógica de almacenamiento compuesta por bloques contiguos.", "c) Un archivo de datos.", "d) Un segmento."],
                correctAnswer: "b) Una unidad lógica de almacenamiento compuesta por bloques contiguos."
            },
            {
                question: "Si al crear una tabla en Oracle, se especifica TABLESPACE ts_data, ¿qué se está indicando?",
                options: ["a) Que la tabla se almacenará en el tablespace ts_data.", "b) Que el tablespace ts_data contendrá la definición de la tabla.", "c) Que ts_data es el propietario de la tabla.", "d) Que se creará un nuevo tablespace llamado ts_data."],
                correctAnswer: "a) Que la tabla se almacenará en el tablespace ts_data."
            },
            {
                question: "¿Qué comando se utiliza en RMAN para realizar una copia de seguridad específica de un tablespace en Oracle?",
                options: ["a) BACKUP TABLESPACE ts_data", "b) CREATE BACKUP ts_data", "c) EXPORT TABLESPACE ts_data", "d) DUMP TABLESPACE ts_data"],
                correctAnswer: "a) BACKUP TABLESPACE ts_data"
            },
            {
                question: "En el contexto de MySQL/MariaDB, ¿qué es MyISAM en relación con las transacciones?",
                options: ["a) Un motor de almacenamiento transaccional.", "b) Un motor de almacenamiento que soporta ACID.", "c) Un motor de almacenamiento no transaccional.", "d) Un motor de almacenamiento que soporta transacciones distribuidas."],
                correctAnswer: "c) Un motor de almacenamiento no transaccional."
            },
            {
                question: "¿Qué tipos de ficheros son generados por MyISAM para almacenar la estructura de una tabla, los datos y los índices?",
                options: ["a) .dbf, .log, .ctl", "b) .frm, .myd, .myi", "c) .dat, .idx, .sch", "d) .tbl, .rec, .idx"],
                correctAnswer: "b) .frm, .myd, .myi"
            },
            {
                question: "¿Qué motor de almacenamiento de MySQL está diseñado para clústeres distribuidos?",
                options: ["a) InnoDB", "b) Memory", "c) NDB Cluster", "d) MyISAM"],
                correctAnswer: "c) NDB Cluster"
            },
            {
                question: "¿Qué demonio es el encargado de forzar las transacciones distribuidas en NDB Cluster?",
                options: ["a) mysqld", "b) ndbd", "c) mysqlrouter", "d) mcc"],
                correctAnswer: "b) ndbd"
            },
            {
                question: "¿Qué comando de MySQL se utiliza para realizar una copia de seguridad de una base de datos y generar un script con sentencias DDL y DML?",
                options: ["a) mysqlbackup", "b) mysqldump", "c) mysqlcopy", "d) mysqlsave"],
                correctAnswer: "b) mysqldump"
            },
            {
                question: "En la restauración de una base de datos MySQL desde un fichero SQL, ¿qué debe contener el fichero o realizarse previamente?",
                options: ["a) Solo las sentencias DML.", "b) La creación de la base de datos y un USE de la misma, o crearla por fuera.", "c) Solo las sentencias DDL.", "d) Un listado de usuarios autorizados."],
                correctAnswer: "b) La creación de la base de datos y un USE de la misma, o crearla por fuera."
            },
            {
                question: "¿Qué herramienta se utiliza para el mantenimiento y posible reparación de tablas MyISAM?",
                options: ["a) innodb_tools", "b) myisamchk", "c) mysqloptimize", "d) mysqlrepair"],
                correctAnswer: "b) myisamchk"
            },
            {
                question: "¿Qué significa 'Consistency' en el contexto de ACID?",
                options: ["a) Que las transacciones se ejecutan de forma independiente.", "b) Que una transacción es atómica.", "c) Que los datos permanecen válidos y cumplen con las reglas de integridad.", "d) Que los cambios persisten en el tiempo."],
                correctAnswer: "c) Que los datos permanecen válidos y cumplen con las reglas de integridad."
            },
            {
                question: "¿Qué significa bind-address = 127.0.0.1 en la configuración de MySQL/MariaDB?",
                options: ["a) Que el servidor solo escucha conexiones desde localhost.", "b) Que el servidor escucha conexiones desde cualquier dirección IP.", "c) Que el servidor utiliza el puerto 127.0.0.1.", "d) Que el servidor está en modo de depuración."],
                correctAnswer: "a) Que el servidor solo escucha conexiones desde localhost."
            },
            {
                question: "¿Se pueden particionar tablas en PostgreSQL?",
                options: ["a) No, PostgreSQL no soporta particionamiento de tablas.", "b) Sí, principalmente para tablas muy grandes.", "c) Solo para índices.", "d) Únicamente en la versión Enterprise."],
                correctAnswer: "b) Sí, principalmente para tablas muy grandes."
            },
            {
                question: "¿Qué se entiende por 'tablas heredadas' en PostgreSQL?",
                options: ["a) Tablas que se crean a partir de una plantilla.", "b) Tablas que heredan los campos de otra tabla existente.", "c) Tablas que almacenan datos históricos.", "d) Tablas creadas por un usuario con permisos heredados."],
                correctAnswer: "b) Tablas que heredan los campos de otra tabla existente."
            },
            {
                question: "¿Qué concepto describe que cada transacción tiene su propia 'foto' de los datos, reduciendo bloqueos?",
                options: ["a) Snapshot Isolation", "b) Pessimistic Locking", "c) Multi-Version Concurrency Control (MVCC)", "d) Serializability"],
                correctAnswer: "c) Multi-Version Concurrency Control (MVCC)"
            },
            {
                question: "¿Qué comando se utiliza en PostgreSQL para crear una base de datos?",
                options: ["a) create database", "b) createbd", "c) createdb", "d) new database"],
                correctAnswer: "c) createdb"
            },
            {
                question: "¿Qué archivo de configuración en PostgreSQL define las opciones de usuario y sus métodos de autenticación?",
                options: ["a) postgresql.conf", "b) pg_hba.conf", "c) pg_ident.conf", "d) pg_service.conf"],
                correctAnswer: "b) pg_hba.conf"
            },
            {
                question: "¿Qué extensión de fichero corresponde a los datos primarios en SQL Server?",
                options: ["a) .ndf", "b) .ldf", "c) .mdf", "d) .bak"],
                correctAnswer: "c) .mdf"
            },
            {
                question: "¿Qué es un DBA (Administrador de Bases de Datos)?",
                options: ["a) Un desarrollador de aplicaciones que usa bases de datos.", "b) Un profesional encargado de la gestión, mantenimiento y optimización de bases de datos.", "c) Un experto en seguridad informática.", "d) Un analista de datos."],
                correctAnswer: "b) Un profesional encargado de la gestión, mantenimiento y optimización de bases de datos."
            },
            {
                question: "¿Cuál es una de las principales responsabilidades de un DBA en relación con la seguridad?",
                options: ["a) Diseñar la interfaz de usuario de la base de datos.", "b) Implementar mecanismos de seguridad que aplican a datos y servicios.", "c) Desarrollar nuevas funcionalidades para la base de datos.", "d) Crear informes de datos."],
                correctAnswer: "b) Implementar mecanismos de seguridad que aplican a datos y servicios."
            },
            {
                question: "En Oracle, ¿cómo se diferencia la estructura física de la estructura lógica de la base de datos?",
                options: ["a) La estructura física está dentro del SO, la lógica es el diseño de tablas.", "b) La estructura lógica son los ficheros del sistema, la física es el esquema.", "c) La estructura física son los tablespaces, la lógica son los data files.", "d) La estructura lógica se refiere a los data files, la física a los segmentos."],
                correctAnswer: "a) La estructura física está dentro del SO, la lógica es el diseño de tablas."
            },
            {
                question: "¿Qué es una 'Extensión' en el contexto de la estructura de almacenamiento de Oracle?",
                options: ["a) Un bloque de datos.", "b) Una unidad lógica de almacenamiento compuesta por bloques contiguos.", "c) Un archivo de datos.", "d) Un segmento."],
                correctAnswer: "b) Una unidad lógica de almacenamiento compuesta por bloques contiguos."
            },
            {
                question: "Si al crear una tabla en Oracle, se especifica TABLESPACE ts_data, ¿qué se está indicando?",
                options: ["a) Que la tabla se almacenará en el tablespace ts_data.", "b) Que el tablespace ts_data contendrá la definición de la tabla.", "c) Que ts_data es el propietario de la tabla.", "d) Que se creará un nuevo tablespace llamado ts_data."],
                correctAnswer: "a) Que la tabla se almacenará en el tablespace ts_data."
            },
            {
                question: "¿Qué comando se utiliza en RMAN para realizar una copia de seguridad específica de un tablespace en Oracle?",
                options: ["a) BACKUP TABLESPACE ts_data", "b) CREATE BACKUP ts_data", "c) EXPORT TABLESPACE ts_data", "d) DUMP TABLESPACE ts_data"],
                correctAnswer: "a) BACKUP TABLESPACE ts_data"
            },
            {
                question: "En el contexto de MySQL/MariaDB, ¿qué es MyISAM en relación con las transacciones?",
                options: ["a) Un motor de almacenamiento transaccional.", "b) Un motor de almacenamiento que soporta ACID.", "c) Un motor de almacenamiento no transaccional.", "d) Un motor de almacenamiento que soporta transacciones distribuidas."],
                correctAnswer: "c) Un motor de almacenamiento no transaccional."
            },
            {
                question: "¿Qué tipos de ficheros son generados por MyISAM para almacenar la estructura de una tabla, los datos y los índices?",
                options: ["a) .dbf, .log, .ctl", "b) .frm, .myd, .myi", "c) .dat, .idx, .sch", "d) .tbl, .rec, .idx"],
                correctAnswer: "b) .frm, .myd, .myi"
            },
            {
                question: "¿Qué motor de almacenamiento de MySQL está diseñado para clústeres distribuidos?",
                options: ["a) InnoDB", "b) Memory", "c) NDB Cluster", "d) MyISAM"],
                correctAnswer: "c) NDB Cluster"
            },
            {
                question: "¿Qué demonio es el encargado de forzar las transacciones distribuidas en NDB Cluster?",
                options: ["a) mysqld", "b) ndbd", "c) mysqlrouter", "d) mcc"],
                correctAnswer: "b) ndbd"
            },
            {
                question: "¿Qué comando de MySQL se utiliza para realizar una copia de seguridad de una base de datos y generar un script con sentencias DDL y DML?",
                options: ["a) mysqlbackup", "b) mysqldump", "c) mysqlcopy", "d) mysqlsave"],
                correctAnswer: "b) mysqldump"
            },
            {
                question: "En la restauración de una base de datos MySQL desde un fichero SQL, ¿qué debe contener el fichero o realizarse previamente?",
                options: ["a) Solo las sentencias DML.", "b) La creación de la base de datos y un USE de la misma, o crearla por fuera.", "c) Solo las sentencias DDL.", "d) Un listado de usuarios autorizados."],
                correctAnswer: "b) La creación de la base de datos y un USE de la misma, o crearla por fuera."
            },
            {
                question: "¿Qué herramienta se utiliza para el mantenimiento y posible reparación de tablas MyISAM?",
                options: ["a) innodb_tools", "b) myisamchk", "c) mysqloptimize", "d) mysqlrepair"],
                correctAnswer: "b) myisamchk"
            },
            {
                question: "¿Qué significa 'Consistency' en el contexto de ACID?",
                options: ["a) Que las transacciones se ejecutan de forma independiente.", "b) Que una transacción es atómica.", "c) Que los datos permanecen válidos y cumplen con las reglas de integridad.", "d) Que los cambios persisten en el tiempo."],
                correctAnswer: "c) Que los datos permanecen válidos y cumplen con las reglas de integridad."
            },
            {
                question: "¿Qué significa bind-address = 127.0.0.1 en la configuración de MySQL/MariaDB?",
                options: ["a) Que el servidor solo escucha conexiones desde localhost.", "b) Que el servidor escucha conexiones desde cualquier dirección IP.", "c) Que el servidor utiliza el puerto 127.0.0.1.", "d) Que el servidor está en modo de depuración."],
                correctAnswer: "a) Que el servidor solo escucha conexiones desde localhost."
            },
            {
                question: "¿Se pueden particionar tablas en PostgreSQL?",
                options: ["a) No, PostgreSQL no soporta particionamiento de tablas.", "b) Sí, principalmente para tablas muy grandes.", "c) Solo para índices.", "d) Únicamente en la versión Enterprise."],
                correctAnswer: "b) Sí, principalmente para tablas muy grandes."
            },
            {
                question: "¿Qué se entiende por 'tablas heredadas' en PostgreSQL?",
                options: ["a) Tablas que se crean a partir de una plantilla.", "b) Tablas que heredan los campos de otra tabla existente.", "c) Tablas que almacenan datos históricos.", "d) Tablas creadas por un usuario con permisos heredados."],
                correctAnswer: "b) Tablas que heredan los campos de otra tabla existente."
            },
            {
                question: "¿Qué concepto describe que cada transacción tiene su propia 'foto' de los datos, reduciendo bloqueos?",
                options: ["a) Snapshot Isolation", "b) Pessimistic Locking", "c) Multi-Version Concurrency Control (MVCC)", "d) Serializability"],
                correctAnswer: "c) Multi-Version Concurrency Control (MVCC)"
            },
            {
                question: "¿Qué comando se utiliza en PostgreSQL para crear una base de datos?",
                options: ["a) create database", "b) createbd", "c) createdb", "d) new database"],
                correctAnswer: "c) createdb"
            },
            {
                question: "¿Qué archivo de configuración en PostgreSQL define las opciones de usuario y sus métodos de autenticación?",
                options: ["a) postgresql.conf", "b) pg_hba.conf", "c) pg_ident.conf", "d) pg_service.conf"],
                correctAnswer: "b) pg_hba.conf"
            },
            {
                question: "¿Qué extensión de fichero corresponde a los datos primarios en SQL Server?",
                options: ["a) .ndf", "b) .ldf", "c) .mdf", "d) .bak"],
                correctAnswer: "c) .mdf"
            },
            {
                question: "¿Qué es un DBA (Administrador de Bases de Datos)?",
                options: ["a) Un desarrollador de aplicaciones que usa bases de datos.", "b) Un profesional encargado de la gestión, mantenimiento y optimización de bases de datos.", "c) Un experto en seguridad informática.", "d) Un analista de datos."],
                correctAnswer: "b) Un profesional encargado de la gestión, mantenimiento y optimización de bases de datos."
            },
            {
                question: "¿Cuál es una de las principales responsabilidades de un DBA en relación con la seguridad?",
                options: ["a) Diseñar la interfaz de usuario de la base de datos.", "b) Implementar mecanismos de seguridad que aplican a datos y servicios.", "c) Desarrollar nuevas funcionalidades para la base de datos.", "d) Crear informes de datos."],
                correctAnswer: "b) Implementar mecanismos de seguridad que aplican a datos y servicios."
            },
            {
                question: "En Oracle, ¿cómo se diferencia la estructura física de la estructura lógica de la base de datos?",
                options: ["a) La estructura física está dentro del SO, la lógica es el diseño de tablas.", "b) La estructura lógica son los ficheros del sistema, la física es el esquema.", "c) La estructura física son los tablespaces, la lógica son los data files.", "d) La estructura lógica se refiere a los data files, la física a los segmentos."],
                correctAnswer: "a) La estructura física está dentro del SO, la lógica es el diseño de tablas."
            },
            {
                question: "¿Qué es una 'Extensión' en el contexto de la estructura de almacenamiento de Oracle?",
                options: ["a) Un bloque de datos.", "b) Una unidad lógica de almacenamiento compuesta por bloques contiguos.", "c) Un archivo de datos.", "d) Un segmento."],
                correctAnswer: "b) Una unidad lógica de almacenamiento compuesta por bloques contiguos."
            },
            {
                question: "Si al crear una tabla en Oracle, se especifica TABLESPACE ts_data, ¿qué se está indicando?",
                options: ["a) Que la tabla se almacenará en el tablespace ts_data.", "b) Que el tablespace ts_data contendrá la definición de la tabla.", "c) Que ts_data es el propietario de la tabla.", "d) Que se creará un nuevo tablespace llamado ts_data."],
                correctAnswer: "a) Que la tabla se almacenará en el tablespace ts_data."
            },
            {
                question: "¿Qué comando se utiliza en RMAN para realizar una copia de seguridad específica de un tablespace en Oracle?",
                options: ["a) BACKUP TABLESPACE ts_data", "b) CREATE BACKUP ts_data", "c) EXPORT TABLESPACE ts_data", "d) DUMP TABLESPACE ts_data"],
                correctAnswer: "a) BACKUP TABLESPACE ts_data"
            }
        ];

        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);

        const quizContainer = document.getElementById('quizContainer');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const resetButton = document.getElementById('resetButton');

        // Clave para localStorage
        const localStorageKey = 'admonBBDDTestState';

        // Cargar el estado del test desde localStorage
        function loadState() {
            const savedState = localStorage.getItem(localStorageKey);
            if (savedState) {
                const state = JSON.parse(savedState);
                currentQuestionIndex = state.currentQuestionIndex;
                userAnswers = state.userAnswers;
            }
        }

        // Guardar el estado del test en localStorage
        function saveState() {
            const state = {
                currentQuestionIndex: currentQuestionIndex,
                userAnswers: userAnswers
            };
            localStorage.setItem(localStorageKey, JSON.stringify(state));
        }

        // Renderiza la pregunta actual y sus opciones
        function renderQuestion() {
            // Si el test ha terminado, muestra los resultados
            if (currentQuestionIndex >= questions.length) {
                showResults();
                return;
            }

            const questionData = questions[currentQuestionIndex];
            const quizContent = `
                <div class="progress-indicator" id="progressIndicator">Pregunta ${currentQuestionIndex + 1} de ${questions.length}</div>
                <div class="question-card" id="questionCard">
                    <p class="question-text">${questionData.question}</p>
                    <div class="options-grid" id="optionsGrid">
                        ${questionData.options.map((option, index) => `
                            <button class="option-button" data-index="${index}">${option}</button>
                        `).join('')}
                    </div>
                    <div class="solution-text" id="solutionText"></div>
                </div>
            `;
            quizContainer.innerHTML = quizContent;

            // Añadir el event listener a los botones de opción
            const optionsGrid = document.getElementById('optionsGrid');
            optionsGrid.addEventListener('click', handleOptionClick);

            // Resaltar la opción seleccionada si existe
            if (userAnswers[currentQuestionIndex] !== null) {
                highlightSelectedOption(userAnswers[currentQuestionIndex]);
            }

            updateNavigationButtons();
        }

        // Maneja el clic en una opción de respuesta
        function handleOptionClick(event) {
            const selectedButton = event.target.closest('.option-button');
            if (!selectedButton) return;

            const selectedOptionIndex = parseInt(selectedButton.dataset.index);
            const questionData = questions[currentQuestionIndex];

            userAnswers[currentQuestionIndex] = selectedOptionIndex;
            saveState();

            highlightSelectedOption(selectedOptionIndex);
        }

        // Resalta la opción seleccionada y muestra la solución
        function highlightSelectedOption(selectedOptionIndex) {
            const questionData = questions[currentQuestionIndex];
            const optionsGrid = document.getElementById('optionsGrid');
            const solutionTextElement = document.getElementById('solutionText');

            // Deshabilitar todos los botones de opción
            Array.from(optionsGrid.children).forEach(btn => {
                btn.disabled = true;
            });

            const allButtons = optionsGrid.querySelectorAll('.option-button');
            const selectedAnswer = questionData.options[selectedOptionIndex];

            // Buscar el botón de la respuesta correcta y la seleccionada
            allButtons.forEach(button => {
                if (button.textContent === questionData.correctAnswer) {
                    button.classList.add('correct');
                }
                if (button.textContent === selectedAnswer) {
                    if (selectedAnswer === questionData.correctAnswer) {
                        button.classList.add('correct');
                        solutionTextElement.classList.add('correct-solution');
                        solutionTextElement.innerHTML = `Correcto. ¡Bien hecho!`;
                    } else {
                        button.classList.add('incorrect');
                        solutionTextElement.classList.add('incorrect-solution');
                        solutionTextElement.innerHTML = `Incorrecto. La respuesta correcta es: <strong>${questionData.correctAnswer}</strong>`;
                    }
                }
            });
            solutionTextElement.style.display = 'block';
        }

        // Actualiza los botones de navegación
        function updateNavigationButtons() {
            prevButton.disabled = currentQuestionIndex === 0;
            nextButton.disabled = currentQuestionIndex >= questions.length;
        }

        // Muestra la pantalla de resultados
        function showResults() {
            let correctCount = 0;
            let incorrectCount = 0;
            let unansweredCount = 0;

            userAnswers.forEach((answerIndex, index) => {
                if (answerIndex === null) {
                    unansweredCount++;
                } else {
                    const questionData = questions[index];
                    const selectedAnswer = questionData.options[answerIndex];
                    if (selectedAnswer === questionData.correctAnswer) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });

            const resultsContent = `
                <div class="results-container">
                    <h2>Resultados del Test</h2>
                    <p class="correct-count">Respuestas correctas: <strong>${correctCount}</strong></p>
                    <p class="incorrect-count">Respuestas incorrectas: <strong>${incorrectCount}</strong></p>
                    <p class="unanswered-count">Preguntas sin contestar: <strong>${unansweredCount}</strong></p>
                </div>
            `;
            quizContainer.innerHTML = resultsContent;
            
            // Ocultar botones de navegación en la pantalla de resultados
            prevButton.style.display = 'none';
            nextButton.style.display = 'none';
            resetButton.style.flexGrow = 'initial';
        }

        // Reinicia el test
        function resetTest() {
            localStorage.removeItem(localStorageKey);
            currentQuestionIndex = 0;
            userAnswers = new Array(questions.length).fill(null);
            prevButton.style.display = 'block';
            nextButton.style.display = 'block';
            resetButton.style.flexGrow = '1';
            renderQuestion();
        }

        // Event listeners para los botones de navegación
        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                saveState();
                renderQuestion();
            }
        });

        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length) {
                currentQuestionIndex++;
                saveState();
                renderQuestion();
            }
        });

        resetButton.addEventListener('click', resetTest);

        // Inicializar el test al cargar la página
        document.addEventListener('DOMContentLoaded', () => {
            loadState();
            renderQuestion();
        });
    </script>
</body>
</html>

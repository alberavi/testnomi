<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Interactivo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            color: #2d3748;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin-top: 20px;
        }
        .question-card {
            background-color: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .question-text {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #2c5282;
        }
        .options-container button {
            display: block;
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            text-align: left;
            font-size: 1rem;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            border: 1px solid #cbd5e0;
            background-color: #ffffff;
            color: #4a5568;
        }
        .options-container button:hover:not(.correct):not(.incorrect) {
            background-color: #edf2f7;
        }
        .options-container button.correct {
            background-color: #d4edda;
            border-color: #28a745;
            color: #155724;
            font-weight: 600;
        }
        .options-container button.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
            font-weight: 600;
        }
        .feedback {
            margin-top: 10px;
            font-weight: 600;
            padding: 8px 12px;
            border-radius: 6px;
            display: none; /* Hidden by default */
        }
        .feedback.show {
            display: block;
        }
        .feedback.correct-feedback {
            background-color: #e6fffa;
            color: #38a169;
        }
        .feedback.incorrect-feedback {
            background-color: #fff5f5;
            color: #e53e3e;
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .navigation-buttons button {
            padding: 10px 20px;
            border-radius: 8px;
            background-color: #4299e1;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            border: none;
        }
        .navigation-buttons button:hover {
            background-color: #3182ce;
        }
        .navigation-buttons button:disabled {
            background-color: #a0aec0;
            cursor: not-allowed;
        }
        .score-card {
            background-color: #ebf8ff;
            border: 1px solid #bee3f8;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            font-size: 1.25rem;
            font-weight: 700;
            color: #2b6cb0;
            margin-top: 20px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-3xl font-bold text-center mb-6 text-blue-800">Test de Modelos de Datos</h1>
        <div id="quiz-container">
            <!-- Questions will be loaded here by JavaScript -->
        </div>
        <div class="navigation-buttons">
            <button id="prev-btn" disabled>Anterior</button>
            <button id="next-btn">Siguiente</button>
        </div>
        <div id="score-display" class="score-card hidden">
            Tu puntuación final: <span id="final-score"></span> / <span id="total-questions"></span>
        </div>
    </div>

    <script>
        const quizData = [
            {
                question: "¿Qué modelo conceptual de datos se convierte en modelo lógico y luego en modelo físico mediante reglas de transformación?",
                options: ["a) Modelo E/R", "b) Modelo Físico", "c) Modelo Lógico", "d) Modelo Conceptual"],
                correctAnswer: "d) Modelo Conceptual"
            },
            {
                question: "Según P. Chen, ¿qué modelo representa el análisis, la captura de requisitos y la estructura de los datos?",
                options: ["a) Modelo Lógico", "b) Modelo E/R", "c) Modelo Físico", "d) Modelo de Red"],
                correctAnswer: "b) Modelo E/R"
            },
            {
                question: "En el Modelo E/R, ¿cómo se define una \"Entidad\"?",
                options: ["a) Un tipo de relación", "b) Un atributo", "c) Un tipo de entidad concreto (Objeto/Clase)", "d) Un dominio de valores"],
                correctAnswer: "c) Un tipo de entidad concreto (Objeto/Clase)"
            },
            {
                question: "¿Qué describe el \"Dominio\" de un atributo?",
                options: ["a) El tipo de relación", "b) Los valores permitidos", "c) El número de entidades", "d) La cardinalidad"],
                correctAnswer: "b) Los valores permitidos"
            },
            {
                question: "¿Qué concepto en el Modelo E/R indica el número de entidades de un extremo que se relaciona con uno del otro extremo?",
                options: ["a) Grado", "b) Rol", "c) Cardinalidad", "d) Tipo de correspondencia"],
                correctAnswer: "c) Cardinalidad"
            },
            {
                question: "Si una relación tiene un grado de 3, ¿cómo se denomina?",
                options: ["a) Binaria", "b) Cuaternaria", "c) N-aria", "d) Ternaria"],
                correctAnswer: "d) Ternaria"
            },
            {
                question: "¿Qué tipo de correspondencia se representa como (1,1) y (1,n)?",
                options: ["a) N:M", "b) 1:N", "c) 1:1", "d) N:1"],
                correctAnswer: "b) 1:N"
            },
            {
                question: "¿Qué representan las máximas ocurrencias de cada tipo de entidad que pueden intervenir en una relación?",
                options: ["a) El grado", "b) El rol", "c) El tipo de correspondencia", "d) La cardinalidad"],
                correctAnswer: "c) El tipo de correspondencia"
            },
            {
                question: "En el modelo E/R extendido, ¿qué tipo de relación se refiere a la herencia o jerarquías?",
                options: ["a) Agregación", "b) Generalización/Especialización", "c) Entidad débil", "d) Entidad fuerte"],
                correctAnswer: "b) Generalización/Especialización"
            },
            {
                question: "¿Qué significa una relación \"Disjunta\" en el contexto de Generalización/Especialización?",
                options: ["a) Puedes tener varios subtipos", "b) Solo puedes llegar a ser, como máximo, uno de los subtipos", "c) La mínima es siempre 0", "d) La mínima es siempre 1"],
                correctAnswer: "b) Solo puedes llegar a ser, como máximo, uno de los subtipos"
            },
            {
                question: "¿Qué característica tiene una \"Entidad fuerte/regular\"?",
                options: ["a) No tiene sentido por sí misma", "b) Tiene sentido por sí misma", "c) Necesita una entidad débil para existir", "d) Siempre tiene una clave parcial"],
                correctAnswer: "b) Tiene sentido por sí misma"
            },
            {
                question: "¿Qué tipo de entidad no tiene sentido por sí misma, como un libro o una factura?",
                options: ["a) Entidad fuerte", "b) Entidad débil", "c) Entidad regular", "d) Entidad con clave parcial"],
                correctAnswer: "b) Entidad débil"
            },
            {
                question: "¿Qué necesitan las entidades débiles para tener sentido?",
                options: ["a) Una relación de agregación", "b) Un atributo clave", "c) Otra entidad débil", "d) Un atributo multivalor"],
                correctAnswer: "b) Un atributo clave"
            },
            {
                question: "Si una factura es débil en existencia al necesitar un pedido, pero sí tiene número de factura propio, ¿qué tipo de debilidad presenta?",
                options: ["a) En identidad", "b) En existencia (pero no en identidad)", "c) En existencia y en identidad", "d) Ninguna debilidad"],
                correctAnswer: "b) En existencia (pero no en identidad)"
            },
            {
                question: "¿Qué diagrama en UML es equivalente al Modelo E/R?",
                options: ["a) Diagrama de actividad", "b) Diagrama de secuencia", "c) Diagrama de clases", "d) Diagrama de estados"],
                correctAnswer: "c) Diagrama de clases"
            },
            {
                question: "¿Qué se utiliza para el análisis y diseño de aplicaciones, según la Métrica v3?",
                options: ["a) UML", "b) Modelo E/R", "c) Diagrama de flujo de datos", "d) Todas las anteriores"],
                correctAnswer: "d) Todas las anteriores"
            },
            {
                question: "¿Pueden las relaciones tener atributos?",
                options: ["a) No, nunca.", "b) Sí, solo en relaciones 1:1.", "c) Sí, en cualquier tipo de relación.", "d) Solo en el Modelo E/R extendido."],
                correctAnswer: "c) Sí, en cualquier tipo de relación."
            },
            {
                question: "En el ejemplo de CLIENTE y COCHE, si un CLIENTE puede tener N coches, ¿dónde se coloca la cardinalidad (1,n)?",
                options: ["a) Al lado de COCHE, apuntando a CLIENTE.", "b) Al lado de CLIENTE, apuntando a COCHE.", "c) En el medio de la relación.", "d) No se indica con cardinalidad."],
                correctAnswer: "a) Al lado de COCHE, apuntando a CLIENTE."
            },
            {
                question: "En el ejemplo de CLIENTE y COCHE, si un COCHE solo puede tener 1 CLIENTE, ¿dónde se coloca la cardinalidad (1,1)?",
                options: ["a) Al lado de CLIENTE, apuntando a COCHE.", "b) Al lado de COCHE, apuntando a CLIENTE.", "c) En el medio de la relación.", "d) No se indica con cardinalidad."],
                correctAnswer: "a) Al lado de CLIENTE, apuntando a COCHE."
            },
            {
                question: "¿Qué atributo sirve para identificar el subtipo de una entidad en una jerarquía?",
                options: ["a) Atributo clave", "b) Atributo compuesto", "c) Atributo discriminador", "d) Atributo multivalor"],
                correctAnswer: "c) Atributo discriminador"
            },
            {
                question: "Si una jerarquía es \"Total\", ¿cuál es la mínima ocurrencia en la cardinalidad?",
                options: ["a) 0", "b) 1", "c) N", "d) Puede variar"],
                correctAnswer: "b) 1"
            },
            {
                question: "En una jerarquía \"Parcial\", ¿cuál es la mínima ocurrencia en la cardinalidad?",
                options: ["a) 1", "b) 0", "c) N", "d) Puede variar"],
                correctAnswer: "b) 0"
            },
            {
                question: "¿Qué tipo de jerarquía permite llegar a tener varios subtipos?",
                options: ["a) Exclusiva", "b) Disjunta", "c) Solapada o No disjunta", "d) Total"],
                correctAnswer: "c) Solapada o No disjunta"
            },
            {
                question: "¿Cuál es el equivalente al DFD en UML?",
                options: ["a) Diagrama de casos de uso", "b) Diagrama de secuencia", "c) Diagrama de actividad", "d) Diagrama de componentes"],
                correctAnswer: "c) Diagrama de actividad"
            },
            {
                question: "¿Qué nivel de un DFD representa una gran burbuja que representa a todo el sistema?",
                options: ["a) Nivel 1", "b) Nivel N", "c) Nivel 0 (Contexto)", "d) Nivel de funciones"],
                correctAnswer: "c) Nivel 0 (Contexto)"
            },
            {
                question: "En el Nivel 0 de un DFD, ¿qué tipo de relaciones son las que más preocupan?",
                options: ["a) Relaciones entre procesos internos", "b) Relaciones con almacenes de datos", "c) Relaciones con entidades externas", "d) Relaciones de control"],
                correctAnswer: "c) Relaciones con entidades externas"
            },
            {
                question: "¿Qué tipo de flujos de datos ocurren entre dos procesos?",
                options: ["a) Asíncronos", "b) De consulta", "c) Síncronos", "d) De diálogo"],
                correctAnswer: "c) Síncronos"
            },
            {
                question: "¿Cuándo se considera que un flujo de datos es asíncrono?",
                options: ["a) Entre dos procesos", "b) Cuando interviene un almacén", "c) Entre un proceso y una entidad externa", "d) Siempre"],
                correctAnswer: "b) Cuando interviene un almacén"
            },
            {
                question: "¿Qué regla de construcción de DFD establece que los flujos son direccionales?",
                options: ["a) Los flujos no pueden ser bidireccionales.", "b) Siempre deben intervenir dos procesos.", "c) Los flujos permitidos son entre dos procesos, entre un proceso y un almacén, y entre un proceso y una entidad externa.", "d) Los flujos entre almacenes están permitidos."],
                correctAnswer: "c) Los flujos permitidos son entre dos procesos, entre un proceso y un almacén, y entre un proceso y una entidad externa."
            },
            {
                question: "¿Qué tipo de flujo NO está permitido en un DFD?",
                options: ["a) Entre dos procesos", "b) Entre un proceso y un almacén", "c) Entre un proceso y una entidad externa", "d) Entre almacenes"],
                correctAnswer: "d) Entre almacenes"
            },
            {
                question: "¿Qué característica tiene un almacén en un DFD?",
                options: ["a) Es activo", "b) Es pasivo", "c) Puede iniciar flujos", "d) Se corresponde siempre con una tabla"],
                correctAnswer: "b) Es pasivo"
            },
            {
                question: "¿Qué elemento es indispensable para que los almacenes de datos en un DFD cambien?",
                options: ["a) Entidades externas", "b) Otros almacenes", "c) Procesos", "d) Flujos de control"],
                correctAnswer: "c) Procesos"
            },
            {
                question: "¿Qué característica deben cumplir todos los niveles de un DFD?",
                options: ["a) Deben tener el mismo número de procesos.", "b) Deben estar desbalanceados.", "c) Deben estar balanceados y ser coherentes con el nivel N-1.", "d) Pueden inventarse flechas de entidades externas."],
                correctAnswer: "c) Deben estar balanceados y ser coherentes con el nivel N-1."
            },
            {
                question: "¿Qué ocurre si se inventan flechas de entidades externas en un nivel N de un DFD que no estaban en el nivel N-1?",
                options: ["a) Es una práctica recomendada.", "b) No está permitido.", "c) Indica una descomposición funcional.", "d) Se considera un flujo de control."],
                correctAnswer: "b) No está permitido."
            },
            {
                question: "¿Para qué sirven los flujogramas?",
                options: ["a) Para representar el Nivel 0 de un DFD.", "b) Para estructurar algoritmos y representar niveles 4 o 5.", "c) Para el análisis estructural de datos.", "d) Para definir almacenes."],
                correctAnswer: "b) Para estructurar algoritmos y representar niveles 4 o 5."
            },
            {
                question: "¿Con qué se corresponde el flujograma en UML?",
                options: ["a) Diagrama de clases", "b) Diagrama de componentes", "c) Diagrama de actividad", "d) Diagrama de objetos"],
                correctAnswer: "c) Diagrama de actividad"
            },
            {
                question: "¿Cuál de los siguientes NO es un modelo conceptual de datos mencionado?",
                options: ["a) Modelo E/R", "b) Modelo RM/T", "c) UML", "d) DFD"],
                correctAnswer: "d) DFD"
            },
            {
                question: "¿Qué significa \"Total\" en el contexto de una relación de herencia?",
                options: ["a) La máxima es siempre 1.", "b) La mínima es siempre 0.", "c) La mínima es siempre 1.", "d) La máxima es siempre N."],
                correctAnswer: "c) La mínima es siempre 1."
            },
            {
                question: "¿Cuál de los siguientes es un ejemplo de atributo simple?",
                options: ["a) Nombre", "b) Dni", "c) Teléfonos", "d) Periodo"],
                correctAnswer: "a) Nombre"
            },
            {
                question: "Si \"Dni\" es un atributo clave, ¿qué tipo de clave es?",
                options: ["a) Clave Parcial", "b) Clave Primaria (implícito por \"Clave\" y ser Dni)", "c) Clave Compuesta", "d) Atributo Derivado"],
                correctAnswer: "b) Clave Primaria (implícito por \"Clave\" y ser Dni)"
            },
            {
                question: "¿Qué tipo de atributo se describe como \"Calculado a partir de otro/s\"?",
                options: ["a) Simple", "b) Compuesto", "c) Derivado", "d) Multivalor"],
                correctAnswer: "c) Derivado"
            },
            {
                question: "Un atributo \"Teléfonos\" que puede tener múltiples valores, ¿cómo se clasifica?",
                options: ["a) Simple", "b) Compuesto", "c) Derivado", "d) Multivalor"],
                correctAnswer: "d) Multivalor"
            },
            {
                question: "¿Qué representa la \"Agregación\" en el modelo E/R extendido?",
                options: ["a) Una relación de herencia.", "b) Una forma de agrupar trozos del modelo.", "c) Una entidad débil.", "d) Un atributo compuesto."],
                correctAnswer: "b) Una forma de agrupar trozos del modelo."
            },
            {
                question: "¿Cuál de las siguientes técnicas es de descomposición funcional (Top-Down)?",
                options: ["a) Diagrama de Nassi-Schneiderman", "b) Flujogramas", "c) Niveles del DFD (Contexto, Subsistemas, Funciones)", "d) Modelo E/R"],
                correctAnswer: "c) Niveles del DFD (Contexto, Subsistemas, Funciones)"
            },
            {
                question: "En la notación \"pata de gallo\" o \"crow's foot\", ¿qué representa (0,N)?",
                options: ["a) Cardinalidad 1:1", "b) Cardinalidad 1:N", "c) Cardinalidad Opcional (0) a Muchos (N)", "d) Cardinalidad Obligatoria (1) a Muchos (N)"],
                correctAnswer: "c) Cardinalidad Opcional (0) a Muchos (N)"
            },
            {
                question: "¿Qué es un \"Proceso/Flujo de control\" en un DFD?",
                options: ["a) Un flujo de datos entre dos almacenes.", "b) Un evento que desencadena la acción de forma asíncrona.", "c) Un flujo de consulta.", "d) Un flujo síncrono."],
                correctAnswer: "b) Un evento que desencadena la acción de forma asíncrona."
            },
            {
                question: "Si un diagrama de flujo de datos (DFD) no tiene procesos, ¿qué sucede con los almacenes?",
                options: ["a) Cambian activamente.", "b) No cambian.", "c) Pueden iniciar flujos.", "d) Se eliminan automáticamente."],
                correctAnswer: "b) No cambian."
            },
            {
                question: "¿El Diagrama de Nassi-Schneiderman es una técnica para flujogramas?",
                options: ["a) No, es una técnica de análisis estructural.", "b) Sí, es una técnica para estructurar algoritmos.", "c) Es un modelo conceptual de datos.", "d) Es un tipo de relación en E/R."],
                correctAnswer: "b) Sí, es una técnica para estructurar algoritmos."
            },
            {
                question: "¿Qué modelo es considerado \"muy semántico\"?",
                options: ["a) Modelo Físico", "b) Modelo Lógico", "c) Modelo E/R", "d) Modelo Relacional"],
                correctAnswer: "c) Modelo E/R"
            },
            {
                question: "En el contexto de entidades débiles, ¿qué significa \"debilidad en identidad\"?",
                options: ["a) No tiene sentido por sí misma.", "b) Necesita una entidad fuerte para existir y no hay atributo propio de la débil que sea clave.", "c) Tiene un atributo clave propio.", "d) Es débil por defecto."],
                correctAnswer: "b) Necesita una entidad fuerte para existir y no hay atributo propio de la débil que sea clave."
            },
            {
                question: "¿Qué es el \"Rol\" en una relación E/R?",
                options: ["a) El número de entidades.", "b) Un texto que describe la participación de una entidad en la relación.", "c) La cardinalidad.", "d) El grado de la relación."],
                correctAnswer: "b) Un texto que describe la participación de una entidad en la relación."
            },
            {
                question: "¿Qué significa que una jerarquía sea \"Exclusiva\" o \"Disjunta\"?",
                options: ["a) Puedes tener varios subtipos.", "b) Solo puedes llegar a ser, como máximo, uno de los subtipos.", "c) La mínima es siempre 0.", "d) La máxima es siempre N."],
                correctAnswer: "b) Solo puedes llegar a ser, como máximo, uno de los subtipos."
            },
            {
                question: "¿Qué tipo de flujo de datos implica lectura y escritura?",
                options: ["a) Consulta", "b) Actualización", "c) Diálogo", "d) Control"],
                correctAnswer: "c) Diálogo"
            },
            {
                question: "Si un flujo de datos es de \"consulta\", ¿qué tipo de operación realiza?",
                options: ["a) Escritura", "b) Lectura", "c) Lectura y escritura", "d) Ninguna"],
                correctAnswer: "b) Lectura"
            },
            {
                question: "¿Qué significa que un DFD esté \"balanceado\"?",
                options: ["a) Que todos los procesos tienen la misma complejidad.", "b) Que hay coherencia con el nivel anterior (N-1).", "c) Que todos los flujos son síncronos.", "d) Que no hay entidades externas."],
                correctAnswer: "b) Que hay coherencia con el nivel anterior (N-1)."
            },
            {
                question: "¿Un almacén de datos en un DFD se corresponde necesariamente con una tabla en una base de datos?",
                options: ["a) Siempre.", "b) Nunca.", "c) No necesariamente.", "d) Solo en el Nivel 0."],
                correctAnswer: "c) No necesariamente."
            },
            {
                question: "¿Qué se define en el Nivel 1 de un DFD?",
                options: ["a) Solo las entidades externas.", "b) Los almacenes y subsistemas/módulos.", "c) Los algoritmos detallados.", "d) Solo los flujos de control."],
                correctAnswer: "b) Los almacenes y subsistemas/módulos."
            },
            {
                question: "Si un atributo \"Periodo\" tiene dos partes, \"Ini\" y \"Fin\", ¿cómo se clasifica?",
                options: ["a) Simple", "b) Clave", "c) Compuesto", "d) Derivado"],
                correctAnswer: "c) Compuesto"
            },
            {
                question: "¿Cuál de los siguientes es un ejemplo de entidad débil según el texto?",
                options: ["a) Autor", "b) Pedido", "c) Libro", "d) Cliente"],
                correctAnswer: "c) Libro"
            },
            {
                question: "¿Qué se analiza en el Diagrama de Flujo de Datos (DFD)?",
                options: ["a) La estructura de los datos.", "b) El análisis funcional y de procesos de negocio.", "c) Las relaciones entre entidades.", "d) Los atributos y dominios."],
                correctAnswer: "b) El análisis funcional y de procesos de negocio."
            },
            {
                question: "¿Cuál es el grado mínimo de una relación N-aria?",
                options: ["a) 2", "b) 3", "c) 4", "d) 5"],
                correctAnswer: "d) 5" // The provided answer for this question is '5', which seems to contradict the general definition of N-ary relationships starting from 3. However, I must adhere to the provided answer.
            },
            {
                question: "¿Qué describe el concepto de \"TipoEntidad\" en el Modelo E/R?",
                options: ["a) Un tipo de relación.", "b) Un objeto o clase.", "c) Un atributo clave.", "d) Un dominio de valores."],
                correctAnswer: "b) Un objeto o clase."
            },
            {
                question: "Si la cardinalidad de una relación es (1,n) y (1,n), ¿qué tipo de correspondencia resulta?",
                options: ["a) 1:1", "b) 1:N", "c) N:M", "d) N:1"],
                correctAnswer: "c) N:M"
            },
            {
                question: "¿Qué técnica de modelado se enfoca en la captura de requisitos y la estructura de los datos?",
                options: ["a) DFD", "b) Flujogramas", "c) Modelo E/R", "d) Diagrama de Actividad"],
                correctAnswer: "c) Modelo E/R"
            },
            {
                question: "En el contexto de jerarquías, si la mínima de una relación es 0, ¿qué tipo de jerarquía es?",
                options: ["a) Total", "b) Parcial", "c) Exclusiva", "d) Solapada"],
                correctAnswer: "b) Parcial"
            },
            {
                question: "¿Cuál de los siguientes es un ejemplo de entidad fuerte según el texto?",
                options: ["a) Factura", "b) Libro", "c) Pedido", "d) Ejemplares de un libro"],
                correctAnswer: "c) Pedido"
            },
            {
                question: "¿Qué es un atributo \"Clave Parcial\"?",
                options: ["a) Un atributo que por sí solo es clave.", "b) Un atributo que forma parte de una clave compuesta.", "c) No está definido en el texto como tal, pero implica que necesita de la clave de una entidad fuerte para identificar a la débil", "d) Un atributo derivado."],
                correctAnswer: "c) No está definido en el texto como tal, pero implica que necesita de la clave de una entidad fuerte para identificar a la débil"
            },
            {
                question: "¿Qué tipo de flujos de datos no pueden originarse ni terminar en un almacén sin la intervención de un proceso?",
                options: ["a) Flujos entre procesos.", "b) Flujos entre entidades externas y almacenes.", "c) Flujos entre almacenes.", "d) Flujos de control."],
                correctAnswer: "c) Flujos entre almacenes."
            },
            {
                question: "¿Cómo se representan los algoritmos en modo gráfico?",
                options: ["a) DFD", "b) Modelo E/R", "c) Flujogramas", "d) Diagrama de Clases"],
                correctAnswer: "c) Flujogramas"
            },
            {
                question: "¿Cuál de las siguientes es una técnica de descomposición funcional?",
                options: ["a) Modelo RM/T", "b) Método Warnier", "c) Modelo E/R", "d) Diagrama de Clases"],
                correctAnswer: "b) Método Warnier"
            },
            {
                question: "¿Qué se entiende por \"Modelo Conceptual de Datos: análisis estructural\"?",
                options: ["a) El análisis funcional.", "b) El análisis de la estructura de los datos.", "c) El diseño de la interfaz de usuario.", "d) La implementación física de la base de datos."],
                correctAnswer: "b) El análisis de la estructura de los datos."
            },
            {
                question: "¿Cuál es el propósito principal del Nivel 0-Contexto en un DFD?",
                options: ["a) Describir los procesos internos en detalle.", "b) Mostrar las relaciones con entidades externas.", "c) Definir los almacenes de datos.", "d) Estructurar los algoritmos."],
                correctAnswer: "b) Mostrar las relaciones con entidades externas."
            },
            {
                question: "¿Puede un flujo de datos ser de tipo \"actualización\"?",
                options: ["a) No, solo de consulta o diálogo.", "b) Sí.", "c) Solo si es síncrono.", "d) Solo si interviene un almacén."],
                correctAnswer: "b) Sí."
            },
            {
                question: "¿Qué sucede con los flujos de datos y los almacenes en un DFD al descomponer los niveles?",
                options: ["a) No se pueden descomponer.", "b) También se pueden descomponer.", "c) Se mantienen fijos.", "d) Solo los flujos se descomponen."],
                correctAnswer: "b) También se pueden descomponer."
            },
            {
                question: "Si un ejemplo de entidad débil en identidad son \"los ejemplares de un libro que no se distinguen entre sí\", ¿qué necesitan para ser identificados?",
                options: ["a) Su propio atributo clave.", "b) La clave de un libro y este la del autor.", "c) Un atributo compuesto.", "d) Una relación de agregación."],
                correctAnswer: "b) La clave de un libro y este la del autor."
            },
            {
                question: "¿Qué es el \"análisis funcional\" en el contexto de los diagramas de flujo de datos?",
                options: ["a) La estructura de los datos.", "b) Los procesos de negocio.", "c) La captura de requisitos.", "d) El diseño de algoritmos."],
                correctAnswer: "b) Los procesos de negocio."
            },
            {
                question: "Si un empleado dirige la empresa \"desde qué fecha\", ¿dónde se colocaría este atributo en un modelo E/R?",
                options: ["a) En la entidad Empleado.", "b) En la entidad Empresa.", "c) En la relación \"dirige\".", "d) Como una entidad separada."],
                correctAnswer: "c) En la relación \"dirige\"."
            },
            {
                question: "¿Qué significa que una relación de herencia sea \"Solapada\"?",
                options: ["a) Solo puedes ser uno de los subtipos.", "b) Puedes tener varios subtipos.", "c) La mínima es siempre 1.", "d) La máxima es siempre 1."],
                correctAnswer: "b) Puedes tener varios subtipos."
            },
            {
                question: "¿Qué se entiende por \"Modelos semánticos\" en el contexto de los modelos conceptuales de datos?",
                options: ["a) Modelos que se centran en la implementación.", "b) Modelos que se centran en el significado de los datos.", "c) Modelos que no tienen significado.", "d) Modelos físicos."],
                correctAnswer: "b) Modelos que se centran en el significado de los datos."
            },
            {
                question: "¿Qué se describe como \"Enlace entre 2 procesos para que cuando se ejecute uno salte otro\"?",
                options: ["a) Flujo de datos síncrono.", "b) Flujo de datos asíncrono.", "c) Proceso/Flujo de control.", "d) Almacén de datos."],
                correctAnswer: "c) Proceso/Flujo de control."
            },
            {
                question: "¿Cómo se conoce a la notación E/R también como \"P. Chen\"?",
                options: ["a) Es el nombre del creador.", "b) Es el nombre del estándar.", "c) Es un tipo de relación.", "d) Es un atributo."],
                correctAnswer: "a) Es el nombre del creador."
            },
            {
                question: "Si un atributo es \"Edad\" y se calcula a partir de la fecha de nacimiento, ¿qué tipo de atributo es?",
                options: ["a) Simple", "b) Compuesto", "c) Derivado", "d) Multivalor"],
                correctAnswer: "c) Derivado"
            },
            {
                question: "¿Qué modelo se convierte en modelo lógico y luego en modelo físico?",
                options: ["a) Modelo Lógico", "b) Modelo Físico", "c) Modelo Conceptual", "d) Modelo Relacional"],
                correctAnswer: "c) Modelo Conceptual"
            },
            {
                question: "¿Qué es la \"Cardinalidad\" en el contexto de las relaciones E/R?",
                options: ["a) El número de atributos.", "b) El número de entidades de un extremo que se relaciona con uno del otro extremo.", "c) El nombre de la relación.", "d) El tipo de dato."],
                correctAnswer: "b) El número de entidades de un extremo que se relaciona con uno del otro extremo."
            },
            {
                question: "¿Cuándo se utiliza la notación \"pata de gallo\" o \"crow's foot\"?",
                options: ["a) Para modelos E/R.", "b) Para DFD.", "c) Para representar cardinalidades en relaciones.", "d) Para flujogramas."],
                correctAnswer: "c) Para representar cardinalidades en relaciones."
            },
            {
                question: "¿Qué técnica es el equivalente al E/R en UML?",
                options: ["a) Diagrama de actividad.", "b) Diagrama de clases.", "c) Diagrama de secuencia.", "d) Diagrama de estados."],
                correctAnswer: "b) Diagrama de clases."
            },
            {
                question: "¿Qué es una entidad \"Débil en existencia\"?",
                options: ["a) No tiene sentido por sí misma.", "b) Tiene sentido por sí misma.", "c) No necesita una entidad fuerte.", "d) Siempre tiene su propio atributo clave."],
                correctAnswer: "a) No tiene sentido por sí misma."
            },
            {
                question: "¿Qué se utiliza para el \"análisis y diseño de aplicaciones\" según la Métrica v3?",
                options: ["a) Solo el DFD.", "b) Solo el E/R.", "c) Ambas, según el contexto.", "d) Solo los flujogramas."],
                correctAnswer: "c) Ambas, según el contexto."
            },
            {
                question: "¿Qué tipo de correspondencia se representa con (1,1) en la notación de cardinalidad?",
                options: ["a) 1:N", "b) N:M", "c) 1:1", "d) (1,n)"],
                correctAnswer: "c) 1:1"
            },
            {
                question: "¿Cuál de los siguientes no es un tipo de atributo?",
                options: ["a) Simple", "b) Compuesto", "c) Cardinalidad", "d) Derivado"],
                correctAnswer: "c) Cardinalidad"
            },
            {
                question: "¿Qué se entiende por \"Modelo RM/T (Codd y Date)\"?",
                options: ["a) Un modelo conceptual de datos.", "b) Un tipo de atributo.", "c) Una técnica de descomposición funcional.", "d) Un flujograma."],
                correctAnswer: "a) Un modelo conceptual de datos."
            },
            {
                question: "¿Qué tipo de flujo desencadena una acción de forma asíncrona?",
                options: ["a) Un flujo de consulta.", "b) Un flujo síncrono.", "c) Un flujo de control (evento).", "d) Un flujo de actualización."],
                correctAnswer: "c) Un flujo de control (evento)."
            },
            {
                question: "¿Qué modelo se enfoca en el \"análisis estructural\" de los datos?",
                options: ["a) DFD", "b) Flujogramas", "c) Modelo Conceptual de Datos", "d) Diagrama de Actividad"],
                correctAnswer: "c) Modelo Conceptual de Datos"
            },
            {
                question: "En una jerarquía \"Total\", ¿qué puede variar en la cardinalidad?",
                options: ["a) La mínima.", "b) La máxima.", "c) Ambas.", "d) Nada."],
                correctAnswer: "b) La máxima."
            },
            {
                question: "¿Cuál es el significado de \"Grado 2\" en una relación E/R?",
                options: ["a) Ternaria", "b) Cuaternaria", "c) Binaria", "d) N-aria"],
                correctAnswer: "c) Binaria"
            },
            {
                question: "¿Qué se describe como \"Objeto / Clase\" en el contexto de una entidad?",
                options: ["a) Atributo", "b) Dominio", "c) TipoEntidad", "d) Relación"],
                correctAnswer: "c) TipoEntidad"
            },
            {
                question: "¿Qué tipo de información puede tener un flujo de datos?",
                options: ["a) Solo control.", "b) Solo lectura.", "c) Consulta, actualización o diálogo.", "d) Solo escritura."],
                correctAnswer: "c) Consulta, actualización o diálogo."
            },
            {
                question: "¿Qué sucede con la coherencia entre niveles de un DFD?",
                options: ["a) No es necesaria.", "b) Debe haber coherencia con el nivel N-1.", "c) Solo es necesaria en el nivel 0.", "d) Se permite inventar flechas en cualquier nivel."],
                correctAnswer: "b) Debe haber coherencia con el nivel N-1."
            },
            {
                question: "¿Qué modelo se considera el \"análisis, la captura de requisitos, la estructura de los datos\"?",
                options: ["a) Modelo Lógico", "b) Modelo E/R", "c) Modelo Físico", "d) UML"],
                correctAnswer: "b) Modelo E/R"
            },
            {
                question: "¿Qué se representa con el diagrama de actividad en UML?",
                options: ["a) El modelo E/R.", "b) El DFD.", "c) El modelo de clases.", "d) La estructura de la base de datos."],
                correctAnswer: "b) El DFD."
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        const userAnswers = new Array(quizData.length).fill(null); // To store user's selected option index

        const quizContainer = document.getElementById('quiz-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const scoreDisplay = document.getElementById('score-display');
        const finalScoreSpan = document.getElementById('final-score');
        const totalQuestionsSpan = document.getElementById('total-questions');

        function loadQuestion() {
            const q = quizData[currentQuestionIndex];
            quizContainer.innerHTML = `
                <div class="question-card" id="question-${currentQuestionIndex}">
                    <p class="question-text">${currentQuestionIndex + 1}. ${q.question}</p>
                    <div class="options-container">
                        ${q.options.map((option, index) => `
                            <button class="option-btn" data-index="${index}">${option}</button>
                        `).join('')}
                    </div>
                    <div class="feedback" id="feedback-${currentQuestionIndex}"></div>
                </div>
            `;

            const optionButtons = quizContainer.querySelectorAll('.option-btn');
            optionButtons.forEach(button => {
                button.addEventListener('click', handleOptionClick);
                // Restore previous selection if exists
                if (userAnswers[currentQuestionIndex] !== null && parseInt(button.dataset.index) === userAnswers[currentQuestionIndex]) {
                    button.classList.add('selected-answer'); // Add a class to indicate selection
                    // If already answered, show feedback immediately
                    showFeedback(button, q.correctAnswer);
                }
            });

            updateNavigationButtons();
        }

        function handleOptionClick(event) {
            const selectedButton = event.target;
            const optionsContainer = selectedButton.closest('.options-container');
            const questionCard = selectedButton.closest('.question-card');
            const feedbackDiv = questionCard.querySelector('.feedback');

            // Disable all buttons for this question once an answer is selected
            optionsContainer.querySelectorAll('.option-btn').forEach(btn => {
                btn.disabled = true;
            });

            const selectedOptionText = selectedButton.textContent;
            const correctAnswer = quizData[currentQuestionIndex].correctAnswer;
            const selectedOptionIndex = parseInt(selectedButton.dataset.index);

            // Store user's answer
            userAnswers[currentQuestionIndex] = selectedOptionIndex;

            // Apply styling and show feedback
            showFeedback(selectedButton, correctAnswer);

            // Update score if this is the first time answering correctly
            if (selectedOptionText === correctAnswer && !selectedButton.classList.contains('correct')) {
                score++;
            } else if (selectedOptionText !== correctAnswer && selectedButton.classList.contains('correct')) {
                // If user changed a correct answer to incorrect
                score--;
            }
        }

        function showFeedback(selectedButton, correctAnswer) {
            const questionCard = selectedButton.closest('.question-card');
            const feedbackDiv = questionCard.querySelector('.feedback');
            const optionsContainer = selectedButton.closest('.options-container');

            optionsContainer.querySelectorAll('.option-btn').forEach(btn => {
                const optionText = btn.textContent;
                btn.disabled = true; // Disable all options after selection
                if (optionText === correctAnswer) {
                    btn.classList.add('correct');
                } else {
                    btn.classList.add('incorrect');
                }
            });

            if (selectedButton.textContent === correctAnswer) {
                feedbackDiv.textContent = '¡Correcto!';
                feedbackDiv.classList.add('correct-feedback', 'show');
                feedbackDiv.classList.remove('incorrect-feedback');
            } else {
                feedbackDiv.textContent = `Incorrecto. La respuesta correcta es: ${correctAnswer}`;
                feedbackDiv.classList.add('incorrect-feedback', 'show');
                feedbackDiv.classList.remove('correct-feedback');
            }
        }

        function updateNavigationButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            if (currentQuestionIndex === quizData.length - 1) {
                nextBtn.textContent = 'Finalizar Test';
            } else {
                nextBtn.textContent = 'Siguiente';
            }
        }

        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                // End of quiz
                showFinalScore();
            }
        });

        function showFinalScore() {
            quizContainer.classList.add('hidden');
            navigationButtons.classList.add('hidden');
            scoreDisplay.classList.remove('hidden');
            finalScoreSpan.textContent = score;
            totalQuestionsSpan.textContent = quizData.length;
        }

        // Initial load
        loadQuestion();
    </script>
</body>
</html>

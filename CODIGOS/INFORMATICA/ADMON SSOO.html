<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADMON SSOO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin-top: 20px;
        }
        .question-card {
            background-color: #f8fafc;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease-in-out;
        }
        .question-card.correct {
            background-color: #d4edda;
            border-color: #28a745;
        }
        .question-card.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
        }
        .question-text {
            font-size: 1.15rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        .option-button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 12px 18px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #cbd5e0;
            background-color: #ffffff;
            color: #4a5568;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .option-button:hover:not(.disabled) {
            background-color: #e2e8f0;
            border-color: #a0aec0;
        }
        .option-button.selected {
            border-color: #4299e1;
            background-color: #ebf8ff;
            font-weight: 600;
        }
        .option-button.correct-answer {
            background-color: #28a745;
            color: #ffffff;
            border-color: #28a745;
            font-weight: 700;
        }
        .option-button.incorrect-answer {
            background-color: #dc3545;
            color: #ffffff;
            border-color: #dc3545;
            font-weight: 700;
        }
        .option-button.disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }
        .solution {
            margin-top: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            background-color: #e0f2f7;
            color: #2c5282;
            font-size: 0.95rem;
            font-weight: 500;
            border: 1px solid #90cdf4;
        }
        .feedback {
            margin-top: 15px;
            font-weight: 600;
            font-size: 1rem;
            text-align: center;
        }
        .feedback.correct {
            color: #28a745;
        }
        .feedback.incorrect {
            color: #dc3545;
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center; /* Align items vertically */
            margin-top: 30px;
            flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
            gap: 10px; /* Space between buttons */
        }
        .nav-button {
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            flex-grow: 1; /* Allow buttons to grow */
            text-align: center;
        }
        .nav-button.prev {
            background-color: #6b7280;
            color: #ffffff;
        }
        .nav-button.prev:hover:not(:disabled) {
            background-color: #4b5563;
            transform: translateY(-2px);
        }
        .nav-button.next {
            background-color: #4299e1;
            color: #ffffff;
        }
        .nav-button.next:hover:not(:disabled) {
            background-color: #3182ce;
            transform: translateY(-2px);
        }
        .nav-button.restart-inline { /* New style for inline restart button */
            background-color: #48bb78;
            color: #ffffff;
        }
        .nav-button.restart-inline:hover:not(:disabled) {
            background-color: #38a169;
            transform: translateY(-2px);
        }
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .progress-bar-container {
            width: 100%;
            background-color: #e2e8f0;
            border-radius: 5px;
            height: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background-color: #4299e1;
            width: 0%;
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }
        .score-display {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-top: 20px;
        }
        .restart-button {
            display: block;
            width: fit-content;
            margin: 20px auto 0 auto;
            padding: 12px 30px;
            background-color: #48bb78;
            color: #ffffff;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .restart-button:hover {
            background-color: #38a169;
            transform: translateY(-2px);
        }
        .results-summary {
            margin-top: 20px;
            padding: 20px;
            background-color: #f8fafc;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
        }
        .results-summary p {
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: #2d3748;
        }
        .results-summary p strong {
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">ADMON SSOO</h1>

        <div class="progress-bar-container">
            <div id="progressBar" class="progress-bar"></div>
        </div>

        <div id="quizContainer">
            <!-- Las preguntas se cargarán aquí -->
        </div>

        <div class="navigation-buttons">
            <button id="prevBtn" class="nav-button prev" disabled>Anterior</button>
            <button id="restartInlineBtn" class="nav-button restart-inline">Reiniciar Test</button> <!-- New inline restart button -->
            <button id="nextBtn" class="nav-button next">Siguiente</button>
        </div>

        <div id="finalScore" class="hidden">
            <div class="score-display"></div>
            <div class="results-summary">
                <p><strong>Preguntas Correctas:</strong> <span id="correctCount">0</span></p>
                <p><strong>Preguntas Incorrectas:</strong> <span id="incorrectCount">0</span></p>
                <p><strong>Preguntas Sin Contestar:</strong> <span id="unansweredCount">0</span></p>
            </div>
            <button id="restartBtn" class="restart-button">Reiniciar Test</button>
        </div>
    </div>

    <script>
        const quizData = [
            {
                question: "¿Qué objetivo principal tienen las herramientas de gestión de la configuración?",
                options: [
                    "a) Aumentar la complejidad de la administración.",
                    "b) Ayudar al administrador a hacer su trabajo rápido y bien.",
                    "c) Reemplazar por completo al administrador.",
                    "d) Monitorizar únicamente el rendimiento de los equipos."
                ],
                correctAnswer: "b) Ayudar al administrador a hacer su trabajo rápido y bien."
            },
            {
                question: "¿Cuál es la nueva figura de administrador mencionada en el texto?",
                options: [
                    "a) SysAdmin.",
                    "b) DBA.",
                    "c) DevOps.",
                    "d) Network Engineer."
                ],
                correctAnswer: "c) DevOps."
            },
            {
                question: "¿Qué significa la sigla IaC?",
                options: [
                    "a) Internet as Code.",
                    "b) Infrastructure as Cloud.",
                    "c) Infrastructure as Code.",
                    "d) Integrated as Code."
                ],
                correctAnswer: "c) Infrastructure as Code."
            },
            {
                question: "¿Qué tipo de archivos se utilizan en IaC para definir las tareas del administrador?",
                options: [
                    "a) Archivos ejecutables.",
                    "b) Archivos de definición.",
                    "c) Archivos de registro.",
                    "d) Archivos de copia de seguridad."
                ],
                correctAnswer: "b) Archivos de definición."
            },
            {
                question: "¿Qué es CCA?",
                options: [
                    "a) Continuous Code Analysis.",
                    "b) Centralized Configuration Archive.",
                    "c) Continuous Configuration Automation.",
                    "d) Cloud Computing Administration."
                ],
                correctAnswer: "c) Continuous Configuration Automation."
            },
            {
                question: "¿Cuál de las siguientes herramientas NO es una herramienta de gestión de la configuración mencionada?",
                options: [
                    "a) Ansible.",
                    "b) Chef.",
                    "c) Photoshop.",
                    "d) Puppet."
                ],
                correctAnswer: "c) Photoshop."
            },
            {
                question: "Un enfoque de configuración donde se indica lo que se necesita, sin especificar cómo hacerlo, se denomina:",
                options: [
                    "a) Imperativo.",
                    "b) Programático.",
                    "c) Declarativo.",
                    "d) Reactivo."
                ],
                correctAnswer: "c) Declarativo."
            },
            {
                question: "Un enfoque de configuración donde se indica qué y cómo hacerlo, se denomina:",
                options: [
                    "a) Declarativo.",
                    "b) Imperativo.",
                    "c) Automático.",
                    "d) Estático."
                ],
                correctAnswer: "b) Imperativo."
            },
            {
                question: "Según el texto, ¿cuál de las siguientes herramientas es únicamente declarativa?",
                options: [
                    "a) Ansible.",
                    "b) Chef.",
                    "c) CFEngine.",
                    "d) Puppet."
                ],
                correctAnswer: "c) CFEngine."
            },
            {
                question: "¿Qué modelo de despliegue utiliza Ansible?",
                options: [
                    "a) Pull.",
                    "b) Push.",
                    "c) Push y Pull.",
                    "d) Desconocido."
                ],
                correctAnswer: "b) Push."
            },
            {
                question: "Para la administración con Ansible, ¿es necesario instalar agentes en los servidores a administrar?",
                options: [
                    "a) Sí, en todos.",
                    "b) Solo en algunos específicos.",
                    "c) No, no requiere de agentes.",
                    "d) Depende del sistema operativo."
                ],
                correctAnswer: "c) No, no requiere de agentes."
            },
            {
                question: "¿Qué requisito es suficiente para que Ansible administre un servidor?",
                options: [
                    "a) Tener una interfaz gráfica.",
                    "b) Tener SSH.",
                    "c) Tener un agente instalado.",
                    "d) Tener un servidor web."
                ],
                correctAnswer: "b) Tener SSH."
            },
            {
                question: "¿En qué fichero se encuentra el inventario de equipos a administrar en Ansible?",
                options: [
                    "a) /etc/ansible/config.",
                    "b) /var/log/ansible.log.",
                    "c) /etc/ansible/hosts.",
                    "d) /usr/local/bin/ansible."
                ],
                correctAnswer: "c) /etc/ansible/hosts."
            },
            {
                question: "¿Qué son los PlayBooks en Ansible?",
                options: [
                    "a) Archivos binarios ejecutables.",
                    "b) Ficheros YAML donde se define lo que se quiere hacer.",
                    "c) Herramientas de depuración.",
                    "d) Manuales de usuario."
                ],
                correctAnswer: "b) Ficheros YAML donde se define lo que se quiere hacer."
            },
            {
                question: "Para SaltStack, ¿qué se requiere instalar en los equipos a administrar?",
                options: [
                    "a) Nada, solo SSH.",
                    "b) Un agente.",
                    "c) Un servidor web.",
                    "d) Un gestor de bases de datos."
                ],
                correctAnswer: "b) Un agente."
            },
            {
                question: "¿Qué significa LVM en el contexto de gestión del almacenamiento?",
                options: [
                    "a) Linux Virtual Machine.",
                    "b) Logical Volume Manager.",
                    "c) Large Volume Mount.",
                    "d) Local Volume Management."
                ],
                correctAnswer: "b) Logical Volume Manager."
            },
            {
                question: "Antes de poder usar un volumen lógico o una partición, ¿qué acciones son necesarias?",
                options: [
                    "a) Solo formatearlo.",
                    "b) Solo montarlo.",
                    "c) Formatearlo y montarlo.",
                    "d) Reiniciar el sistema."
                ],
                correctAnswer: "c) Formatearlo y montarlo."
            },
            {
                question: "¿Qué comando se utiliza para crear un volumen lógico (LV)?",
                options: [
                    "a) vgcreate.",
                    "b) pvcreate.",
                    "c) lvcreate.",
                    "d) mkfs."
                ],
                correctAnswer: "c) lvcreate."
            },
            {
                question: "¿Qué comando se utiliza para extender un volumen lógico (LV)?",
                options: [
                    "a) lvreduce.",
                    "b) lvextend.",
                    "c) lvdisplay.",
                    "d) lvremove."
                ],
                correctAnswer: "b) lvextend."
            },
            {
                question: "¿En qué se dividen los volúmenes lógicos (LV)?",
                options: [
                    "a) En PE (Physical Extents).",
                    "b) En VG (Volume Groups).",
                    "c) En LE (Logical Extents).",
                    "d) En PV (Physical Volumes)."
                ],
                correctAnswer: "c) En LE (Logical Extents)."
            },
            {
                question: "¿Qué se considera equivalente a una partición en LVM?",
                options: [
                    "a) Un VG.",
                    "b) Un LV.",
                    "c) Un PV.",
                    "d) Un PE."
                ],
                correctAnswer: "b) Un LV."
            },
            {
                question: "¿Qué comando se utiliza para crear un grupo de volúmenes (VG)?",
                options: [
                    "a) lvcreate.",
                    "b) vgcreate.",
                    "c) pvcreate.",
                    "d) vgdisplay."
                ],
                correctAnswer: "b) vgcreate."
            },
            {
                question: "¿Qué comando se utiliza para cambiar un volumen físico (PV) de grupo de volúmenes (VG)?",
                options: [
                    "a) pvcreate.",
                    "b) pvdisplay.",
                    "c) pvmove.",
                    "d) pvremove."
                ],
                correctAnswer: "c) pvmove."
            },
            {
                question: "¿En qué se dividen los volúmenes físicos (PV)?",
                options: [
                    "a) En LV (Logical Volumes).",
                    "b) En LE (Logical Extents).",
                    "c) En PE (Physical Extents).",
                    "d) En VG (Volume Groups)."
                ],
                correctAnswer: "c) En PE (Physical Extents)."
            },
            {
                question: "¿Qué significa DAS en el contexto de sistemas de almacenamiento?",
                options: [
                    "a) Distributed Access Storage.",
                    "b) Direct Attached Storage.",
                    "c) Data Archiving System.",
                    "d) Dynamic Array Storage."
                ],
                correctAnswer: "b) Direct Attached Storage."
            },
            {
                question: "¿Cuál es una característica principal del DAS en cuanto a su consumo?",
                options: [
                    "a) Orientado a ser consumido por múltiples servidores.",
                    "b) Orientado a ser consumido por un único servidor.",
                    "c) Orientado a ser consumido por máquinas virtuales.",
                    "d) Orientado a ser consumido por dispositivos móviles."
                ],
                correctAnswer: "b) Orientado a ser consumido por un único servidor."
            },
            {
                question: "¿Qué significa SAN en el contexto de sistemas de almacenamiento?",
                options: [
                    "a) System Area Network.",
                    "b) Server Access Network.",
                    "c) Storage Area Network.",
                    "d) Secure Access Node."
                ],
                correctAnswer: "c) Storage Area Network."
            },
            {
                question: "¿Cómo se accede a un sistema SAN?",
                options: [
                    "a) Directamente por USB.",
                    "b) A través de la red IP principal.",
                    "c) A través de switches, por la red.",
                    "d) Mediante conexión inalámbrica."
                ],
                correctAnswer: "c) A través de switches, por la red."
            },
            {
                question: "¿Son los servidores que necesitan SAN tienen acceso a la red de almacenamiento y a la red de máquinas?",
                options: [
                    "a) Solo a la red de almacenamiento.",
                    "b) Solo a la red de máquinas.",
                    "c) Sí, tienen acceso a las 2 redes.",
                    "d) No, solo a una de ellas a la vez."
                ],
                correctAnswer: "c) Sí, tienen acceso a las 2 redes."
            },
            {
                question: "¿Qué tipo de switches en una SAN son más caros pero más rápidos?",
                options: [
                    "a) Switches Ethernet.",
                    "b) Switches IP.",
                    "c) Switches FC (Fiber Channel).",
                    "d) Switches USB."
                ],
                correctAnswer: "c) Switches FC (Fiber Channel)."
            },
            {
                question: "¿A través de qué comandos se realiza el acceso a una SAN, sea FC o IP?",
                options: [
                    "a) Comandos HTTP.",
                    "b) Comandos FTP.",
                    "c) Comandos SCSI.",
                    "d) Comandos TCP/IP."
                ],
                correctAnswer: "c) Comandos SCSI."
            },
            {
                question: "¿Cómo se llaman también las cabinas de discos en una SAN?",
                options: [
                    "a) Servidores de archivos.",
                    "b) Storage Arrays.",
                    "c) Unidades NAS.",
                    "d) Cintas de backup."
                ],
                correctAnswer: "b) Storage Arrays."
            },
            {
                question: "¿Qué dirección tiene la tarjeta HBA (Host Bus Adapter)?",
                options: [
                    "a) Una dirección IP.",
                    "b) Una dirección MAC.",
                    "c) Una dirección de 64 bits llamada WWN (World Wide Name).",
                    "d) Una dirección de puerto."
                ],
                correctAnswer: "c) Una dirección de 64 bits llamada WWN (World Wide Name)."
            },
            {
                question: "En DAS y SAN, ¿en qué modo de acceso se encuentra el sistema de ficheros?",
                options: [
                    "a) Modo fichero.",
                    "b) Modo bloque.",
                    "c) Modo mixto.",
                    "d) Modo virtual."
                ],
                correctAnswer: "b) Modo bloque."
            },
            {
                question: "¿Qué significa NAS en el contexto de sistemas de almacenamiento?",
                options: [
                    "a) Network Administration System.",
                    "b) Network Attached Storage.",
                    "c) Node Access Server.",
                    "d) Network Area Security."
                ],
                correctAnswer: "b) Network Attached Storage."
            },
            {
                question: "¿Cómo se accede a un sistema NAS?",
                options: [
                    "a) Por fibra óptica directa.",
                    "b) Por la propia red IP, por ethernet.",
                    "c) A través de comandos SCSI directos.",
                    "d) Mediante un canal FC."
                ],
                correctAnswer: "b) Por la propia red IP, por ethernet."
            },
            {
                question: "¿Qué protocolos son considerados \"file system instrumental\" en un NAS?",
                options: [
                    "a) HTTP/HTTPS.",
                    "b) FTP/SFTP.",
                    "c) NFS/CIFS.",
                    "d) SMB/AFP."
                ],
                correctAnswer: "c) NFS/CIFS."
            },
            {
                question: "En NAS, ¿en qué modo de acceso se realiza la operación?",
                options: [
                    "a) Modo bloque.",
                    "b) Modo de aplicación.",
                    "c) Modo fichero.",
                    "d) Modo híbrido."
                ],
                correctAnswer: "c) Modo fichero."
            },
            {
                question: "Si se tiene una tarjeta HBA a un FC, ¿qué sistema de ficheros se menciona que se utiliza?",
                options: [
                    "a) EXT4.",
                    "b) NTFS.",
                    "c) ZFS.",
                    "d) ReiserFS."
                ],
                correctAnswer: "c) ZFS."
            },
            {
                question: "¿Cuál de los siguientes comandos NO se utiliza para obtener información de la tarjeta HBA de FC?",
                options: [
                    "a) syming hba.",
                    "b) /usr/sbin/hbanyware/hbacmd listHBAs.",
                    "c) systool -c fc_host -v.",
                    "d) ifconfig."
                ],
                correctAnswer: "d) ifconfig."
            },
            {
                question: "¿Qué es LUN Masking en el almacenamiento SAN?",
                options: [
                    "a) Una forma de ocultar LUNs al administrador.",
                    "b) La definición de qué equipos pueden ver determinados LUN.",
                    "c) Un método para cifrar LUNs.",
                    "d) La agregación de varios LUNs en uno."
                ],
                correctAnswer: "b) La definición de qué equipos pueden ver determinados LUN."
            },
            {
                question: "¿Qué es un LUN?",
                options: [
                    "a) Una red de área local.",
                    "b) Una unidad lógica de almacenamiento, un trozo de la cabina.",
                    "c) Un identificador de red.",
                    "d) Un tipo de protocolo de almacenamiento."
                ],
                correctAnswer: "b) Una unidad lógica de almacenamiento, un trozo de la cabina."
            },
            {
                question: "¿Qué es Zoning en el contexto de una SAN?",
                options: [
                    "a) La asignación de direcciones IP a los hosts.",
                    "b) La creación de zonas a nivel del switch FC para aislar hosts.",
                    "c) El mapeo de LUNs a volúmenes físicos.",
                    "d) La configuración de la calidad de servicio."
                ],
                correctAnswer: "b) La creación de zonas a nivel del switch FC para aislar hosts."
            },
            {
                question: "¿En base a qué se realiza el Zoning?",
                options: [
                    "a) Direcciones IP.",
                    "b) Nombres de host.",
                    "c) WWNs.",
                    "d) Direcciones MAC de Ethernet."
                ],
                correctAnswer: "c) WWNs."
            },
            {
                question: "¿Qué se activa en un fichero si se modifica, según las estrategias de backup?",
                options: [
                    "a) El bit de lectura.",
                    "b) El bit de seguridad.",
                    "c) El bit de modificado.",
                    "d) El bit de compresión."
                ],
                correctAnswer: "c) El bit de modificado."
            },
            {
                question: "En una copia de seguridad completa, ¿se desactiva el bit de modificado?",
                options: [
                    "a) No.",
                    "b) Sí.",
                    "c) Depende del tipo de archivo.",
                    "d) Solo si es un backup programado."
                ],
                correctAnswer: "b) Sí."
            },
            {
                question: "¿Qué tipo de copia de seguridad se guarda y NO desactiva el bit de modificado, acumulando los cambios?",
                options: [
                    "a) Completa.",
                    "b) Incremental.",
                    "c) Diferencial.",
                    "d) Parcial."
                ],
                correctAnswer: "c) Diferencial."
            },
            {
                question: "Para restaurar con una copia de seguridad incremental, ¿qué se necesita?",
                options: [
                    "a) Solo la última copia incremental.",
                    "b) La última copia completa y todos los incrementales.",
                    "c) La última copia completa y la última copia diferencial.",
                    "d) Solo la copia completa más antigua."
                ],
                correctAnswer: "b) La última copia completa y todos los incrementales."
            },
            {
                question: "Para restaurar con una copia de seguridad diferencial, ¿qué se necesita?",
                options: [
                    "a) Solo la última copia diferencial.",
                    "b) La última copia completa y todos los incrementales.",
                    "c) La última copia completa y la última copia diferencial.",
                    "d) Todas las copias diferenciales desde la primera."
                ],
                correctAnswer: "c) La última copia completa y la última copia diferencial."
            },
            {
                question: "La política de backup \"3-2-1\" implica:",
                options: [
                    "a) 3 copias de los datos, en 2 medios diferentes y 1 fuera del sitio.",
                    "b) 3 backups al día, 2 semanales y 1 mensual.",
                    "c) 3 servidores, 2 discos y 1 sistema operativo.",
                    "d) 3 usuarios, 2 permisos y 1 grupo."
                ],
                correctAnswer: "a) 3 copias de los datos, en 2 medios diferentes y 1 fuera del sitio."
            },
            {
                question: "¿Qué es la política GFS en el contexto de backup?",
                options: [
                    "a) Global File System.",
                    "b) Grandfather-Father-Son (Abuelo-Padre-Hijo).",
                    "c) General File Storage.",
                    "d) Grouped File System."
                ],
                correctAnswer: "b) Grandfather-Father-Son (Abuelo-Padre-Hijo)."
            },
            {
                question: "¿Qué herramienta de backup se menciona para Windows?",
                options: [
                    "a) Rsync.",
                    "b) Robocopy.",
                    "c) Veeam Backup.",
                    "d) Veritas Backup Exec."
                ],
                correctAnswer: "b) Robocopy."
            },
            {
                question: "¿Cuál es el formato estándar abierto para las cintas de backup?",
                options: [
                    "a) DAT.",
                    "b) DLT.",
                    "c) LTO.",
                    "d) AIT."
                ],
                correctAnswer: "c) LTO."
            },
            {
                question: "¿Cuál es el sistema de ficheros de la cinta?",
                options: [
                    "a) NTFS.",
                    "b) EXT4.",
                    "c) LTFS.",
                    "d) HFS+."
                ],
                correctAnswer: "c) LTFS."
            },
            {
                question: "¿Qué significa WORM en el contexto de las cintas de backup?",
                options: [
                    "a) Write Once Read Many.",
                    "b) Write On Remote Media.",
                    "c) WithOut Recovery Mode.",
                    "d) Wireless Optical Read Memory."
                ],
                correctAnswer: "a) Write Once Read Many."
            },
            {
                question: "¿Cuál es la capacidad máxima comprimida de una cinta LTO-9?",
                options: [
                    "a) 12 TB.",
                    "b) 18 TB.",
                    "c) 30 TB.",
                    "d) 45 TB."
                ],
                correctAnswer: "d) 45 TB."
            },
            {
                question: "¿Qué mide el RPO (Recovery Point Objective)?",
                options: [
                    "a) El tiempo de recuperación.",
                    "b) El tiempo entre la última copia y el desastre.",
                    "c) El coste de la recuperación.",
                    "d) La cantidad de datos restaurados."
                ],
                correctAnswer: "b) El tiempo entre la última copia y el desastre."
            },
            {
                question: "¿Qué mide el RTO (Recovery Time Objective)?",
                options: [
                    "a) El tiempo durante el que se pierden datos.",
                    "b) El tiempo desde el desastre hasta la recuperación.",
                    "c) La frecuencia de los backups.",
                    "d) La velocidad de la red."
                ],
                correctAnswer: "b) El tiempo desde el desastre hasta la recuperación."
            },
            {
                question: "En Debian, ¿qué comando se utiliza para instalar paquetes?",
                options: [
                    "a) yum install.",
                    "b) apt install.",
                    "c) dpkg -i.",
                    "d) rpm -i."
                ],
                correctAnswer: "b) apt install."
            },
            {
                question: "En Red Hat, ¿qué comando se utiliza para actualizar paquetes?",
                options: [
                    "a) apt update.",
                    "b) yum update.",
                    "c) zypper update.",
                    "d) pacman -Syu."
                ],
                correctAnswer: "b) yum update."
            },
            {
                question: "¿Cuál de los siguientes es un frontend de consola para la administración de paquetes en Debian?",
                options: [
                    "a) Synaptic.",
                    "b) Aptitude.",
                    "c) Yumex.",
                    "d) Discover."
                ],
                correctAnswer: "b) Aptitude."
            },
            {
                question: "¿En qué directorio se encuentran las URLs de los repositorios en Debian?",
                options: [
                    "a) /etc/yum.repos.d.",
                    "b) /etc/apt/sources.list.",
                    "c) /var/cache/apt/archives.",
                    "d) /var/lib/apt/lists."
                ],
                correctAnswer: "b) /etc/apt/sources.list."
            },
            {
                question: "¿En qué directorio se almacenan los paquetes descargados en Debian?",
                options: [
                    "a) /etc/apt/sources.list.",
                    "b) /var/cache/apt/archives.",
                    "c) /var/lib/apt/lists.",
                    "d) /tmp."
                ],
                correctAnswer: "b) /var/cache/apt/archives."
            },
            {
                question: "¿Qué comando se utiliza para instalar archivos .deb en modo offline?",
                options: [
                    "a) apt install.",
                    "b) yum install.",
                    "c) dpkg.",
                    "d) rpm."
                ],
                correctAnswer: "c) dpkg."
            },
            {
                question: "¿Qué comando se utiliza para instalar archivos .rpm en modo offline?",
                options: [
                    "a) apt install.",
                    "b) yum install.",
                    "c) dpkg.",
                    "d) rpm."
                ],
                correctAnswer: "d) rpm."
            },
            {
                question: "¿Cuál de los siguientes comandos se utiliza para gestionar permisos en ficheros?",
                options: [
                    "a) chown.",
                    "b) fdisk.",
                    "c) ps.",
                    "d) useradd."
                ],
                correctAnswer: "a) chown."
            },
            {
                question: "¿Qué comando se utiliza para cambiar el propietario de un fichero?",
                options: [
                    "a) chmod.",
                    "b) chown.",
                    "c) setfacl.",
                    "d) umask."
                ],
                correctAnswer: "b) chown."
            },
            {
                question: "¿Qué comando se utiliza para mostrar información detallada de un fichero, incluyendo el tamaño del bloque?",
                options: [
                    "a) ls.",
                    "b) df.",
                    "c) stat.",
                    "d) du."
                ],
                correctAnswer: "c) stat."
            },
            {
                question: "¿Qué fichero contiene la tabla de sistemas de ficheros a montar al inicio?",
                options: [
                    "a) /etc/mtab.",
                    "b) /etc/fstab.",
                    "c) /proc/mounts.",
                    "d) /var/log/mount."
                ],
                correctAnswer: "b) /etc/fstab."
            },
            {
                question: "¿Qué comando se utiliza para listar procesos en ejecución?",
                options: [
                    "a) kill.",
                    "b) top.",
                    "c) ps.",
                    "d) nice."
                ],
                correctAnswer: "c) ps."
            },
            {
                question: "¿En qué fichero se definen las tareas programadas con cron?",
                options: [
                    "a) /etc/systemd/system.",
                    "b) /etc/crontab.",
                    "c) /etc/security/limits.conf.",
                    "d) /etc/passwd."
                ],
                correctAnswer: "b) /etc/crontab."
            },
            {
                question: "¿Qué comando se utiliza para gestionar unidades de systemd?",
                options: [
                    "a) init.",
                    "b) service.",
                    "c) systemctl.",
                    "d) upstart."
                ],
                correctAnswer: "c) systemctl."
            },
            {
                question: "¿Qué comando se utiliza para añadir un nuevo usuario al sistema?",
                options: [
                    "a) passwd.",
                    "b) usermod.",
                    "c) useradd.",
                    "d) groupadd."
                ],
                correctAnswer: "c) useradd."
            },
            {
                question: "¿En qué fichero se almacena la información de los usuarios (excepto la contraseña encriptada)?",
                options: [
                    "a) /etc/shadow.",
                    "b) /etc/group.",
                    "c) /etc/passwd.",
                    "d) ~/.bashrc."
                ],
                correctAnswer: "c) /etc/passwd."
            },
            {
                question: "¿En qué fichero se almacena la contraseña encriptada de los usuarios?",
                options: [
                    "a) /etc/passwd.",
                    "b) /etc/shadow.",
                    "c) /etc/group.",
                    "d) /etc/profile."
                ],
                correctAnswer: "b) /etc/shadow."
            },
            {
                question: "¿Qué comando se utiliza para resolver nombres de dominio a direcciones IP (consulta inversa)?",
                options: [
                    "a) dig.",
                    "b) ping.",
                    "c) nslookup.",
                    "d) traceroute."
                ],
                correctAnswer: "c) nslookup."
            },
            {
                question: "¿Qué comando se utiliza para listar las conexiones de red activas y las tablas de enrutamiento?",
                options: [
                    "a) ip.",
                    "b) nmap.",
                    "c) netstat.",
                    "d) tcpdump."
                ],
                correctAnswer: "c) netstat."
            },
            {
                question: "¿Qué fichero contiene la configuración de las interfaces de red en Debian/Ubuntu?",
                options: [
                    "a) /etc/resolv.conf.",
                    "b) /etc/network/interfaces.",
                    "c) /etc/hosts.",
                    "d) /etc/hostname."
                ],
                correctAnswer: "b) /etc/network/interfaces."
            },
            {
                question: "¿Qué fichero contiene la configuración de los servidores DNS?",
                options: [
                    "a) /etc/hosts.",
                    "b) /etc/host.conf.",
                    "c) /etc/resolv.conf.",
                    "d) /etc/inetd.conf."
                ],
                correctAnswer: "c) /etc/resolv.conf."
            },
            {
                question: "¿Qué comando se utiliza para copiar archivos de forma segura a través de la red?",
                options: [
                    "a) ftp.",
                    "b) wget.",
                    "c) scp.",
                    "d) telnet."
                ],
                correctAnswer: "c) scp."
            },
            {
                question: "¿Cuál de las siguientes herramientas de gestión de la configuración tiene como enfoque \"Pull\"?",
                options: [
                    "a) Ansible.",
                    "b) Chef.",
                    "c) Terraform.",
                    "d) StackStorm."
                ],
                correctAnswer: "b) Chef."
            },
            {
                question: "¿Qué significa \"Push\" como enfoque de despliegue en herramientas de gestión de la configuración?",
                options: [
                    "a) El agente del servidor solicita la configuración al servidor central.",
                    "b) El servidor central envía la configuración a los servidores gestionados.",
                    "c) La configuración se realiza manualmente en cada servidor.",
                    "d) La configuración se extrae de una base de datos externa."
                ],
                correctAnswer: "b) El servidor central envía la configuración a los servidores gestionados."
            },
            {
                question: "En LVM, ¿qué es un \"Cluster\"?",
                options: [
                    "a) Una agrupación de Physical Extents.",
                    "b) Una agrupación de Logical Volumes.",
                    "c) Una agrupación de sectores.",
                    "d) Una agrupación de Volume Groups."
                ],
                correctAnswer: "c) Una agrupación de sectores."
            },
            {
                question: "¿Qué es una \"tabla de mapeo\" en LVM?",
                options: [
                    "a) Un registro de los discos físicos.",
                    "b) Un mapa de la red de almacenamiento.",
                    "c) Un mapeo entre los PE y los LE.",
                    "d) Un listado de los sistemas de ficheros."
                ],
                correctAnswer: "c) Un mapeo entre los PE y los LE."
            },
            {
                question: "¿Qué componente de una SAN tiene una dirección de 64 bits llamada WWN?",
                options: [
                    "a) El switch FC.",
                    "b) La cabina de discos.",
                    "c) La tarjeta HBA.",
                    "d) El servidor."
                ],
                correctAnswer: "c) La tarjeta HBA."
            },
            {
                question: "¿Qué identifica el WWNN (World Wide Node Name)?",
                options: [
                    "a) Un puerto específico.",
                    "b) Toda la cabina.",
                    "c) Un host.",
                    "d) Un volumen lógico."
                ],
                correctAnswer: "b) Toda la cabina."
            },
            {
                question: "¿Qué identificador de una tarjeta HBA tiene 8 bytes y se refiere a un puerto específico?",
                options: [
                    "a) WWNN.",
                    "b) WWPN.",
                    "c) MAC Address.",
                    "d) IP Address."
                ],
                correctAnswer: "b) WWPN."
            },
            {
                question: "¿Qué significa que NFS/CIFS sea un \"file system instrumental\" en NAS?",
                options: [
                    "a) Que permite ejecutar instrumentos musicales.",
                    "b) Que es una vista de los ficheros de abajo.",
                    "c) Que es un sistema de ficheros de bajo nivel.",
                    "d) Que solo soporta ficheros de texto."
                ],
                correctAnswer: "b) Que es una vista de los ficheros de abajo."
            },
            {
                question: "¿Qué sistema operativo coge el almacenamiento para las máquinas virtuales de discos de SAN?",
                options: [
                    "a) Windows Server.",
                    "b) Linux.",
                    "c) VMWare Xserver.",
                    "d) macOS."
                ],
                correctAnswer: "c) VMWare Xserver."
            },
            {
                question: "En las estrategias de backup, si se hace una copia de seguridad \"diferencial\", el bit de modificado:",
                options: [
                    "a) Se desactiva.",
                    "b) No se desactiva.",
                    "c) Se activa siempre.",
                    "d) No se utiliza."
                ],
                correctAnswer: "b) No se desactiva."
            },
            {
                question: "¿Qué tipo de backup implica un mayor tiempo de restauración al necesitar la última copia completa y todos los incrementales?",
                options: [
                    "a) Completa.",
                    "b) Diferencial.",
                    "c) Incremental.",
                    "d) Sintética."
                ],
                correctAnswer: "c) Incremental."
            },
            {
                question: "¿Qué tipo de backup va acumulando los ficheros modificados sin desactivar el bit?",
                options: [
                    "a) Completa.",
                    "b) Incremental.",
                    "c) Diferencial.",
                    "d) Espejo."
                ],
                correctAnswer: "c) Diferencial."
            },
            {
                question: "¿Qué herramienta de backup se menciona que usa SSH, compresión y detección de cambios?",
                options: [
                    "a) Veeam Backup.",
                    "b) Robocopy.",
                    "c) Rsync.",
                    "d) Veritas Backup Exec."
                ],
                correctAnswer: "c) Rsync."
            },
            {
                question: "¿Cuál de las siguientes es una desventaja de las cintas de backup?",
                options: [
                    "a) Su alta velocidad de acceso.",
                    "b) Su bajo coste inicial.",
                    "c) Se desgastan y ocupan mucho espacio físicamente.",
                    "d) Son un medio de almacenamiento en línea."
                ],
                correctAnswer: "c) Se desgastan y ocupan mucho espacio físicamente."
            },
            {
                question: "¿Qué comando de gestión de ficheros se usa para cambiar los permisos, incluyendo setuid y sticky bit?",
                options: [
                    "a) chown.",
                    "b) chmod.",
                    "c) setfacl.",
                    "d) umask."
                ],
                correctAnswer: "b) chmod."
            },
            {
                question: "¿Qué comando se usa para ver la ocupación de disco por directorio o fichero?",
                options: [
                    "a) df.",
                    "b) du.",
                    "c) fdisk.",
                    "d) mount."
                ],
                correctAnswer: "b) du."
            },
            {
                question: "¿Qué fichero contiene información sobre los procesos que se ejecutan en segundo plano cuando el sistema arranca?",
                options: [
                    "a) /etc/passwd.",
                    "b) /etc/shadow.",
                    "c) /etc/systemd/system.",
                    "d) /etc/group."
                ],
                correctAnswer: "c) /etc/systemd/system."
            },
            {
                question: "¿Qué comando se utiliza para cambiar la prioridad de ejecución de un proceso?",
                options: [
                    "a) kill.",
                    "b) top.",
                    "c) nice.",
                    "d) free."
                ],
                correctAnswer: "c) nice."
            },
            {
                question: "¿Qué comando se utiliza para añadir un grupo nuevo al sistema?",
                options: [
                    "a) useradd.",
                    "b) usermod.",
                    "c) passwd.",
                    "d) groupadd."
                ],
                correctAnswer: "d) groupadd."
            },
            {
                question: "¿Qué comando de red se utiliza para realizar pruebas de conectividad a una dirección IP o nombre de host?",
                options: [
                    "a) nslookup.",
                    "b) dig.",
                    "c) ping.",
                    "d) traceroute."
                ],
                correctAnswer: "c) ping."
            }
        ];

        // Constants for LocalStorage keys
        const LOCAL_STORAGE_KEY_INDEX = 'quizCurrentQuestionIndex';
        const LOCAL_STORAGE_KEY_ANSWERS = 'quizUserAnswers';
        const LOCAL_STORAGE_KEY_SCORED = 'quizScoredQuestions';

        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = new Array(quizData.length).fill(null); // To store user's selected answer index
        let scoredQuestions = new Array(quizData.length).fill(false); // To track if a question has been scored

        const quizContainer = document.getElementById('quizContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const restartInlineBtn = document.getElementById('restartInlineBtn'); // New inline restart button
        const progressBar = document.getElementById('progressBar');
        const finalScoreDiv = document.getElementById('finalScore');
        const scoreDisplay = finalScoreDiv.querySelector('.score-display');
        const restartBtn = document.getElementById('restartBtn');
        const correctCountSpan = document.getElementById('correctCount');
        const incorrectCountSpan = document.getElementById('incorrectCount');
        const unansweredCountSpan = document.getElementById('unansweredCount');

        // Function to save quiz state to LocalStorage
        function saveQuizState() {
            localStorage.setItem(LOCAL_STORAGE_KEY_INDEX, currentQuestionIndex);
            localStorage.setItem(LOCAL_STORAGE_KEY_ANSWERS, JSON.stringify(userAnswers));
            localStorage.setItem(LOCAL_STORAGE_KEY_SCORED, JSON.stringify(scoredQuestions));
        }

        // Function to load quiz state from LocalStorage
        function loadQuizState() {
            const savedIndex = localStorage.getItem(LOCAL_STORAGE_KEY_INDEX);
            const savedAnswers = localStorage.getItem(LOCAL_STORAGE_KEY_ANSWERS);
            const savedScored = localStorage.getItem(LOCAL_STORAGE_KEY_SCORED);

            if (savedIndex !== null) {
                currentQuestionIndex = parseInt(savedIndex);
            }
            if (savedAnswers !== null) {
                userAnswers = JSON.parse(savedAnswers);
            }
            if (savedScored !== null) {
                scoredQuestions = JSON.parse(savedScored);
            }

            // Recalculate score based on loaded answers
            score = 0;
            userAnswers.forEach((answerIndex, index) => {
                if (answerIndex !== null && quizData[index].options[answerIndex] === quizData[index].correctAnswer) {
                    score++;
                }
            });
        }

        function loadQuestion() {
            const q = quizData[currentQuestionIndex];
            quizContainer.innerHTML = `
                <div id="questionCard-${currentQuestionIndex}" class="question-card">
                    <p class="question-text">${currentQuestionIndex + 1}. ${q.question}</p>
                    <div class="options-container">
                        ${q.options.map((option, index) => `
                            <button class="option-button" data-index="${index}">${option}</button>
                        `).join('')}
                    </div>
                    <div class="solution hidden"></div>
                    <div class="feedback hidden"></div>
                </div>
            `;

            const optionButtons = quizContainer.querySelectorAll('.option-button');
            optionButtons.forEach(button => {
                button.addEventListener('click', (event) => selectAnswer(event, currentQuestionIndex));
            });

            // Restore previous selection if exists
            if (userAnswers[currentQuestionIndex] !== null) {
                const selectedButton = optionButtons[userAnswers[currentQuestionIndex]];
                selectedButton.classList.add('selected');
                showSolution(currentQuestionIndex, userAnswers[currentQuestionIndex]);
            }

            updateNavigationButtons();
            updateProgressBar();
            saveQuizState(); // Save state after loading question
        }

        function selectAnswer(event, questionIndex) {
            const selectedButton = event.target;
            const optionButtons = quizContainer.querySelectorAll('.option-button');
            const solutionDiv = quizContainer.querySelector('.solution');
            const feedbackDiv = quizContainer.querySelector('.feedback');
            const questionCard = quizContainer.querySelector(`#questionCard-${questionIndex}`);

            // Disable all buttons for this question
            optionButtons.forEach(button => {
                button.classList.add('disabled');
                button.removeEventListener('click', (event) => selectAnswer(event, questionIndex)); // Remove listener to prevent re-selection
            });

            const selectedOptionText = selectedButton.textContent;
            const previousAnswerIndex = userAnswers[questionIndex];
            userAnswers[questionIndex] = parseInt(selectedButton.dataset.index); // Store the index of the selected answer

            const correctAnswerText = quizData[questionIndex].correctAnswer;

            // Highlight correct and incorrect answers
            optionButtons.forEach(button => {
                if (button.textContent === correctAnswerText) {
                    button.classList.add('correct-answer');
                } else if (button.textContent === selectedOptionText) {
                    button.classList.add('incorrect-answer');
                }
            });

            // Show solution and feedback
            solutionDiv.textContent = `Respuesta correcta: ${correctAnswerText}`;
            solutionDiv.classList.remove('hidden');

            // Update score based on the new selection
            if (previousAnswerIndex !== null) {
                // If previously answered, check if the previous answer was correct
                if (quizData[questionIndex].options[previousAnswerIndex] === quizData[questionIndex].correctAnswer) {
                    score--; // Decrement if previous was correct
                }
            }

            if (selectedOptionText === correctAnswerText) {
                feedbackDiv.textContent = '¡Correcto!';
                feedbackDiv.classList.add('correct');
                questionCard.classList.add('correct');
                score++; // Increment for the new correct answer
                scoredQuestions[questionIndex] = true;
            } else {
                feedbackDiv.textContent = 'Incorrecto. Inténtalo de nuevo.';
                feedbackDiv.classList.add('incorrect');
                questionCard.classList.add('incorrect');
                scoredQuestions[questionIndex] = true; // Mark as attempted
            }
            feedbackDiv.classList.remove('hidden');
            saveQuizState(); // Save state after answering
        }

        function showSolution(questionIndex, selectedOptionIndex) {
            const q = quizData[questionIndex];
            const optionButtons = quizContainer.querySelectorAll('.option-button');
            const solutionDiv = quizContainer.querySelector('.solution');
            const feedbackDiv = quizContainer.querySelector('.feedback');
            const questionCard = quizContainer.querySelector(`#questionCard-${questionIndex}`);

            // Disable all buttons
            optionButtons.forEach(button => {
                button.classList.add('disabled');
                button.removeEventListener('click', (event) => selectAnswer(event, questionIndex));
            });

            // Highlight correct and selected answers
            optionButtons.forEach((button, index) => {
                if (button.textContent === q.correctAnswer) {
                    button.classList.add('correct-answer');
                }
                if (index === selectedOptionIndex && button.textContent !== q.correctAnswer) {
                    button.classList.add('incorrect-answer');
                }
            });

            solutionDiv.textContent = `Respuesta correcta: ${q.correctAnswer}`;
            solutionDiv.classList.remove('hidden');

            if (q.options[selectedOptionIndex] === q.correctAnswer) {
                feedbackDiv.textContent = '¡Correcto!';
                feedbackDiv.classList.add('correct');
                questionCard.classList.add('correct');
            } else {
                feedbackDiv.textContent = 'Incorrecto.'; // Simplified feedback for already answered questions
                feedbackDiv.classList.add('incorrect');
                questionCard.classList.add('incorrect');
            }
            feedbackDiv.classList.remove('hidden');
        }


        function updateNavigationButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = false; // Next button is always enabled until the last question

            if (currentQuestionIndex === quizData.length - 1) {
                nextBtn.textContent = 'Ver Resultados';
            } else {
                nextBtn.textContent = 'Siguiente';
            }
        }

        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function showResults() {
            quizContainer.classList.add('hidden');
            prevBtn.classList.add('hidden');
            nextBtn.classList.add('hidden');
            restartInlineBtn.classList.add('hidden'); // Hide inline restart button
            progressBar.parentElement.classList.add('hidden'); // Hide progress bar container
            finalScoreDiv.classList.remove('hidden');

            let correctAnswers = 0;
            let incorrectAnswers = 0;
            let unansweredQuestions = 0;

            userAnswers.forEach((answerIndex, index) => {
                if (answerIndex !== null) {
                    if (quizData[index].options[answerIndex] === quizData[index].correctAnswer) {
                        correctAnswers++;
                    } else {
                        incorrectAnswers++;
                    }
                } else {
                    unansweredQuestions++;
                }
            });

            scoreDisplay.textContent = `Has obtenido ${correctAnswers} de ${quizData.length} respuestas correctas.`;
            correctCountSpan.textContent = correctAnswers;
            incorrectCountSpan.textContent = incorrectAnswers;
            unansweredCountSpan.textContent = unansweredQuestions;
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers.fill(null);
            scoredQuestions.fill(false);
            localStorage.clear(); // Clear LocalStorage
            
            quizContainer.classList.remove('hidden');
            prevBtn.classList.remove('hidden');
            nextBtn.classList.remove('hidden');
            restartInlineBtn.classList.remove('hidden'); // Show inline restart button
            progressBar.parentElement.classList.remove('hidden'); // Show progress bar container
            finalScoreDiv.classList.add('hidden');
            loadQuestion();
        }

        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                showResults();
            }
        });

        restartBtn.addEventListener('click', restartQuiz);
        restartInlineBtn.addEventListener('click', restartQuiz); // Event listener for the new inline restart button

        // Initial load
        loadQuizState(); // Load state before initial question load
        loadQuestion();
    </script>
</body>
</html>


<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LINUX Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .quiz-container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            width: 100%;
            max-width: 800px;
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .question-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .question-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
            align-items: flex-start; /* Alinea las opciones a la izquierda */
        }
        .option-button {
            background-color: #e2e8f0;
            color: #334155;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            width: 100%;
            text-align: left;
            border: none;
            font-size: 1rem;
        }
        .option-button:hover {
            background-color: #cbd5e1;
            transform: translateY(-2px);
        }
        .option-button.selected {
            background-color: #a7d9f7;
            color: #1e40af;
            border: 2px solid #3b82f6;
        }
        .option-button.correct {
            background-color: #d1fae5;
            color: #065f46;
            border: 2px solid #10b981;
        }
        .option-button.incorrect {
            background-color: #fee2e2;
            color: #991b1b;
            border: 2px solid #ef4444;
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-top: 20px;
        }
        .nav-button {
            background-color: #3b82f6;
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 700;
            border: none;
            transition: background-color 0.3s ease, transform 0.2s ease;
            flex-grow: 1;
        }
        .nav-button:hover {
            background-color: #2563eb;
            transform: translateY(-2px);
        }
        .nav-button:disabled {
            background-color: #93c5fd;
            cursor: not-allowed;
        }
        .restart-button {
            background-color: #f97316;
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 700;
            border: none;
            transition: background-color 0.3s ease, transform 0.2s ease;
            flex-grow: 1;
        }
        .restart-button:hover {
            background-color: #ea580c;
            transform: translateY(-2px);
        }
        .feedback-message {
            margin-top: 10px;
            font-size: 1.1rem;
            font-weight: 600;
        }
        .feedback-message.correct {
            color: #10b981;
        }
        .feedback-message.incorrect {
            color: #ef4444;
        }
        .results-section {
            text-align: left;
            gap: 15px;
            font-size: 1.2rem;
            color: #2c3e50;
        }
        .results-section h2 {
            font-size: 2rem;
            color: #1e40af;
            margin-bottom: 20px;
        }
        .results-section p {
            margin-bottom: 10px;
        }
        .results-section .score {
            font-weight: 700;
            color: #065f46;
        }
        .hidden {
            display: none;
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
            .quiz-container {
                padding: 20px;
            }
            .question-text {
                font-size: 1.2rem;
            }
            .option-button, .nav-button, .restart-button {
                font-size: 0.9rem;
                padding: 10px 15px;
            }
            .navigation-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1 class="text-3xl font-bold text-gray-800">LINUX</h1>

        <!-- Sección de preguntas -->
        <div id="questionSection" class="question-section">
            <p id="questionNumber" class="text-lg text-gray-600">Pregunta 1 de 100</p>
            <p id="questionText" class="question-text">Cargando pregunta...</p>
            <div id="optionsContainer" class="options-container">
                <!-- Las opciones se insertarán aquí dinámicamente -->
            </div>
            <div id="feedbackMessage" class="feedback-message hidden"></div>
            <div class="navigation-buttons">
                <button id="prevButton" class="nav-button">Anterior</button>
                <button id="restartButton" class="restart-button">Reiniciar Test</button>
                <button id="nextButton" class="nav-button">Siguiente</button>
            </div>
        </div>

        <!-- Sección de resultados -->
        <div id="resultsSection" class="results-section hidden">
            <h2 class="text-center">Resultados del Test</h2>
            <p>Preguntas Correctas: <span id="correctCount" class="score">0</span></p>
            <p>Preguntas Incorrectas: <span id="incorrectCount" class="score">0</span></p>
            <p>Preguntas Sin Contestar: <span id="unansweredCount" class="score">0</span></p>
            <div class="navigation-buttons">
                <button id="restartResultsButton" class="restart-button">Reiniciar Test</button>
            </div>
        </div>
    </div>

    <script>
        // Array de preguntas y respuestas
        const questions = [
            {
                question: "¿Cuál es la filosofía principal de Linux en cuanto a su construcción?",
                options: ["Modular", "Monolítica", "Distribuida", "Híbrida"],
                correctAnswer: "Monolítica"
            },
            {
                question: "¿Qué rutina hace el cambio a modo kernel en Linux?",
                options: ["int 80h", "syscall 0x80", "kernel_switch", "mode_change"],
                correctAnswer: "int 80h"
            },
            {
                question: "¿Qué capa del sistema operativo Linux usa de modo homogéneo todo el almacenamiento?",
                options: ["HAL", "SCI", "VFS", "LKM"],
                correctAnswer: "VFS"
            },
            {
                question: "¿Qué versión de Debian es 'bookworm'?",
                options: ["Debian 10", "Debian 11", "Debian 12", "Debian 9"],
                correctAnswer: "Debian 12"
            },
            {
                question: "¿Qué comando lista el directorio actual?",
                options: ["ls", "dir", "pwd", "cd"],
                correctAnswer: "pwd"
            },
            {
                question: "¿Qué comando cambia de directorio y si se usa solo, cambia al HOME?",
                options: ["ls", "cd", "pwd", "home"],
                correctAnswer: "cd"
            },
            {
                question: "¿Qué comando muestra los usuarios conectados?",
                options: ["whoami", "users", "who", "logins"],
                correctAnswer: "who"
            },
            {
                question: "¿Qué comando mueve y renombra ficheros?",
                options: ["copy", "cp", "mv", "rename"],
                correctAnswer: "mv"
            },
            {
                question: "¿Qué comando borra ficheros y pregunta antes de sobrescribir si se usa con '-i'?",
                options: ["del", "delete", "rm", "erase"],
                correctAnswer: "rm"
            },
            {
                question: "¿Qué comando muestra la configuración de idioma, teclado, codificación, etc.?",
                options: ["config", "setup", "locale", "lang"],
                correctAnswer: "locale"
            },
            {
                question: "¿Cuál de las siguientes no es una familia de UNIX?",
                options: ["Solaris", "SCO", "Windows", "HP-UX"],
                correctAnswer: "Windows"
            },
            {
                question: "¿Qué distribución de Linux se basa en .deb?",
                options: ["RedHat", "Fedora", "Ubuntu", "CentOS"],
                correctAnswer: "Ubuntu"
            },
            {
                question: "¿Qué comando se usa para instalar paquetes .deb offline?",
                options: ["apt-get install", "dpkg -i", "yum install", "rpm -Uvh"],
                correctAnswer: "dpkg -i"
            },
            {
                question: "¿Qué fichero contiene la lista de repositorios para apt-get?",
                options: ["/etc/yum.repos.d", "/etc/apt/sources.list", "/etc/dpkg/sources", "/etc/packages.list"],
                correctAnswer: "/etc/apt/sources.list"
            },
            {
                question: "¿Qué comando se usa para instalar paquetes .rpm offline?",
                options: ["apt-get install", "dpkg -i", "yum install", "rpm -Uvh"],
                correctAnswer: "rpm -Uvh"
            },
            {
                question: "¿Qué es DNF en el contexto de paquetería RedHat?",
                options: ["Un gestor de repositorios", "Una versión mejorada de YUM", "Un sistema de paquetes en Linux", "Un comando para listar paquetes"],
                correctAnswer: "Una versión mejorada de YUM"
            },
            {
                question: "¿Qué opción del comando 'ls' muestra los ficheros ocultos?",
                options: ["-l", "-R", "-a", "-F"],
                correctAnswer: "-a"
            },
            {
                question: "¿Qué comando copia ficheros y directorios?",
                options: ["mv", "cp", "copy", "duplicate"],
                correctAnswer: "cp"
            },
            {
                question: "¿Qué comando muestra el tiempo que tarda en ejecutarse otro comando?",
                options: ["date", "time", "uptime", "exec_time"],
                correctAnswer: "time"
            },
            {
                question: "¿Qué comando crea directorios y la opción '-p' crea todos los subdirectorios necesarios?",
                options: ["mkdir", "make_dir", "create_dir", "mkd"],
                correctAnswer: "mkdir"
            },
            {
                question: "¿Qué comando borra directorios y la opción '-p' borra todo el árbol?",
                options: ["rmdir", "del_dir", "remove_dir", "rd"],
                correctAnswer: "rmdir"
            },
            {
                question: "¿Qué comando muestra el usuario actual?",
                options: ["who", "id", "whoami", "users"],
                correctAnswer: "whoami"
            },
            {
                question: "¿Qué comando crea un fichero vacío o modifica las fechas de acceso y modificación si ya existe?",
                options: ["cat", "echo", "touch", "create"],
                correctAnswer: "touch"
            },
            {
                question: "¿Qué comando busca ficheros y puede buscar por tipo, permisos, usuario, nombre, etc.?",
                options: ["grep", "find", "locate", "search"],
                correctAnswer: "find"
            },
            {
                question: "¿Qué comando es similar a 'find' pero utiliza una base de datos índice?",
                options: ["grep", "search", "locate", "whereis"],
                correctAnswer: "locate"
            },
            {
                question: "¿Qué comando copia entre dispositivos a bajo nivel?",
                options: ["cp", "mv", "dd", "tar"],
                correctAnswer: "dd"
            },
            {
                question: "¿Qué comando empaqueta/desempaqueta ficheros y puede usar gzip?",
                options: ["zip", "unzip", "tar", "compress"],
                correctAnswer: "tar"
            },
            {
                question: "¿Qué comando transforma o traduce caracteres, por ejemplo, de mayúsculas a minúsculas?",
                options: ["cut", "sed", "tr", "awk"],
                correctAnswer: "tr"
            },
            {
                question: "¿Qué comando elimina líneas duplicadas de un fichero?",
                options: ["sort", "uniq", "grep", "cut"],
                correctAnswer: "uniq"
            },
            {
                question: "¿Qué comando es similar a 'cat' pero muestra números de línea?",
                options: ["more", "less", "nl", "head"],
                correctAnswer: "nl"
            },
            {
                question: "¿Qué comando muestra las primeras o últimas N líneas de un fichero?",
                options: ["cat", "more", "head/tail", "less"],
                correctAnswer: "head/tail"
            },
            {
                question: "¿Qué comando muestra el contenido de un fichero paginado y permite ir a una línea concreta?",
                options: ["more", "less", "cat", "tail"],
                correctAnswer: "less"
            },
            {
                question: "¿Qué comando corta en vertical por bytes, campos o caracteres?",
                options: ["grep", "awk", "cut", "sed"],
                correctAnswer: "cut"
            },
            {
                question: "¿Qué comando cuenta líneas, palabras, caracteres o bytes de un fichero?",
                options: ["ls", "du", "wc", "stat"],
                correctAnswer: "wc"
            },
            {
                question: "¿Qué comando muestra la información del i-nodo asociada a un fichero?",
                options: ["ls -l", "file", "stat", "info"],
                correctAnswer: "stat"
            },
            {
                question: "¿Qué comando cambia el propietario de un fichero o directorio y solo puede hacerlo el root?",
                options: ["chmod", "chgrp", "chown", "setowner"],
                correctAnswer: "chown"
            },
            {
                question: "¿Qué comando cambia el grupo propietario de un fichero o directorio?",
                options: ["chown", "chgrp", "chmod", "setgroup"],
                correctAnswer: "chgrp"
            },
            {
                question: "¿Qué comando cambia los permisos de un fichero o directorio?",
                options: ["chown", "chgrp", "chmod", "setperm"],
                correctAnswer: "chmod"
            },
            {
                question: "¿Qué tipo de enlace tiene i-nodos diferentes y es como un acceso directo?",
                options: ["Hard link", "Soft link", "Symbolic link", "Direct link"],
                correctAnswer: "Symbolic link"
            },
            {
                question: "¿Qué tipo de enlace tiene un único i-nodo y no puede usarse entre particiones?",
                options: ["Hard link", "Soft link", "Symbolic link", "Indirect link"],
                correctAnswer: "Hard link"
            },
            {
                question: "¿Qué comando se usa para buscar una cadena dentro de otra o extraer información usando expresiones regulares?",
                options: ["find", "locate", "grep", "cat"],
                correctAnswer: "grep"
            },
            {
                question: "¿Qué símbolo de expresión regular significa '0 o más ocurrencias'?",
                options: ["+", "?", "*", "{N}"],
                correctAnswer: "*"
            },
            {
                question: "¿Qué símbolo de expresión regular significa 'inicio de línea'?",
                options: ["$", "^", ".", "\\"],
                correctAnswer: "^"
            },
            {
                question: "¿Qué editor de texto permite borrar una línea con 'dd'?",
                options: ["nano", "emacs", "vi", "gedit"],
                correctAnswer: "vi"
            },
            {
                question: "¿Qué redirección crea el destino o lo sobrescribe?",
                options: [">>", "&>", ">", "2>&1"],
                correctAnswer: ">"
            },
            {
                question: "¿Qué redirección crea el destino o añade al final?",
                options: [">", "&>", ">>", "1>&2"],
                correctAnswer: ">>"
            },
            {
                question: "¿Qué comando redirige la salida a un fichero y a la salida estándar a la vez?",
                options: ["cat", "pipe", "tee", "xargs"],
                correctAnswer: "tee"
            },
            {
                question: "¿Qué comando concatena ficheros en horizontal?",
                options: ["cat", "join", "sort", "paste"],
                correctAnswer: "paste"
            },
            {
                question: "¿Qué sistema de ficheros no tiene journaling?",
                options: ["ext3", "ext4", "ext2", "xfs"],
                correctAnswer: "ext2"
            },
            {
                question: "¿Qué paquete hay que instalar para compartir carpetas de Linux actuando como un servidor de ficheros?",
                options: ["NFS", "FTP", "Samba", "Apache"],
                correctAnswer: "Samba"
            },
            {
                question: "¿Qué comando muestra el espacio disponible en un dispositivo en formato humano?",
                options: ["du", "ls -l", "df -h", "fdisk"],
                correctAnswer: "df -h"
            },
            {
                question: "¿Qué comando muestra el espacio que ocupa un fichero o un directorio?",
                options: ["df", "ls -s", "du", "stat"],
                correctAnswer: "du"
            },
            {
                question: "¿Qué comando se usa para montar un filesystem?",
                options: ["umount", "fdisk", "mount", "mkfs"],
                correctAnswer: "mount"
            },
            {
                question: "¿Qué fichero contiene los montajes permanentes de filesystems?",
                options: ["/etc/mtab", "/etc/fstab", "/etc/disks", "/etc/mounts"],
                correctAnswer: "/etc/fstab"
            },
            {
                question: "¿Qué sistema de ficheros virtual es una capa que ven los procesos y en función del sistema montado se usan las funciones específicas?",
                options: ["HAL", "SCI", "VFS", "LKM"],
                correctAnswer: "VFS"
            },
            {
                question: "¿Qué comando muestra las librerías compartidas de las que depende un programa?",
                options: ["ldconfig", "ldd", "libs", "showlib"],
                correctAnswer: "ldd"
            },
            {
                question: "¿Qué comando interno del shell NO genera un proceso?",
                options: ["ls", "grep", "cd", "find"],
                correctAnswer: "cd"
            },
            {
                question: "¿Qué PID tiene el proceso 'init'?",
                options: ["0", "1", "1000", "500"],
                correctAnswer: "1"
            },
            {
                question: "¿Qué comando cambia la prioridad de un comando, siendo 10 por defecto?",
                options: ["nice", "renice", "priority", "setprio"],
                correctAnswer: "nice"
            },
            {
                question: "¿Qué señal se envía a un proceso cuando se cierra la sesión (Hang Up)?",
                options: ["SIGINT", "SIGTERM", "SIGHUP", "SIGKILL"],
                correctAnswer: "SIGHUP"
            },
            {
                question: "¿Qué comando lanza un comando en background y evita que finalice si se sale de la sesión?",
                options: ["command &", "bg command", "nohup command &", "daemon command"],
                correctAnswer: "nohup command &"
            },
            {
                question: "¿Qué comando muestra los procesos ejecutándose en segundo plano?",
                options: ["ps", "top", "jobs", "pstree"],
                correctAnswer: "jobs"
            },
            {
                question: "¿Qué comando muestra el árbol de procesos?",
                options: ["ps", "top", "jobs", "pstree"],
                correctAnswer: "pstree"
            },
            {
                question: "¿Qué comando muestra los procesos de forma dinámica?",
                options: ["ps", "top", "jobs", "pstree"],
                correctAnswer: "top"
            },
            {
                question: "¿Qué comando manda una señal a un proceso para finalizarlo inmediatamente sin operaciones de limpieza?",
                options: ["kill -1", "kill -9", "kill -15", "kill -2"],
                correctAnswer: "kill -9"
            },
            {
                question: "¿Qué comando planifica la ejecución de un comando para un momento concreto?",
                options: ["cron", "anacron", "at", "schedule"],
                correctAnswer: "at"
            },
            {
                question: "¿Qué demonio va chequeando las planificaciones para ejecutarlas?",
                options: ["atd", "anacron", "cron", "systemd"],
                correctAnswer: "cron"
            },
            {
                question: "¿Cuál es el primer paso del proceso de arranque (BOOT PROCESS)?",
                options: ["GRUB", "MBR", "BIOS", "Kernel"],
                correctAnswer: "BIOS"
            },
            {
                question: "¿Qué gestor de arranque es el sucesor de LILO y soporta más particiones?",
                options: ["BIOS", "UEFI", "MBR", "GRUB"],
                correctAnswer: "GRUB"
            },
            {
                question: "¿Qué comando se usa para iniciar un servicio con Systemd?",
                options: ["service dummy start", "systemctl start dummy.service", "start dummy", "dummy start"],
                correctAnswer: "systemctl start dummy.service"
            },
            {
                question: "¿Qué comando se usa para habilitar un servicio al inicio con Systemd?",
                options: ["chkconfig dummy on", "systemctl enable dummy.service", "enable dummy", "dummy enable"],
                correctAnswer: "systemctl enable dummy.service"
            },
            {
                question: "¿Qué sistema de inicio es el nuevo estándar en muchas distribuciones Linux?",
                options: ["SysVinit", "Upstart", "Systemd", "OpenRC"],
                correctAnswer: "Systemd"
            },
            {
                question: "¿Qué fichero contiene la configuración del DNS en Linux?",
                options: ["/etc/hosts", "/etc/network/interfaces", "/etc/resolv.conf", "/etc/hostname"],
                correctAnswer: "/etc/resolv.conf"
            },
            {
                question: "¿Qué comando muestra la configuración de red de una interfaz?",
                options: ["route", "ping", "ifconfig", "netstat"],
                correctAnswer: "ifconfig"
            },
            {
                question: "¿Qué comando es el nuevo 'ifconfig'?",
                options: ["netstat", "ip", "route", "nmap"],
                correctAnswer: "ip"
            },
            {
                question: "¿Qué comando hace consultas a un servidor DNS?",
                options: ["ping", "nslookup", "traceroute", "dig"],
                correctAnswer: "dig"
            },
            {
                question: "¿Qué comando envía paquetes ICMP ECHO_REQUEST al host indicado?",
                options: ["traceroute", "nmap", "ping", "netstat"],
                correctAnswer: "ping"
            },
            {
                question: "¿Qué comando activa o desactiva una interfaz de red?",
                options: ["ifconfig", "ip link", "ifup/ifdown", "networkctl"],
                correctAnswer: "ifup/ifdown"
            },
            {
                question: "¿Qué comando muestra información sobre puertos abiertos en tu propia máquina?",
                options: ["nmap", "ss", "tcpdump", "netstat"],
                correctAnswer: "netstat"
            },
            {
                question: "¿Qué es BASH en el contexto de Linux?",
                options: ["Un gestor de paquetes", "Un editor de texto", "Un intérprete de comandos (shell)", "Un sistema de ficheros"],
                correctAnswer: "Un intérprete de comandos (shell)"
            },
            {
                question: "¿Qué variable de entorno contiene el path del directorio actual?",
                options: ["HOME", "USER", "SHELL", "PWD"],
                correctAnswer: "PWD"
            },
            {
                question: "¿Qué variable de entorno contiene el PID que ha asignado el SO para ejecutar un script?",
                options: ["$0", "$*", "$#", "$$"],
                correctAnswer: "$$"
            },
            {
                question: "¿Qué lenguaje de programación está diseñado para procesar datos basados en texto, ya sean ficheros o flujos de datos?",
                options: ["sed", "grep", "awk", "perl"],
                correctAnswer: "awk"
            },
            {
                question: "¿Qué protocolo es la base de los escritorios gráficos en Linux?",
                options: ["Wayland", "X-Window", "Mir", "OpenGL"],
                correctAnswer: "X-Window"
            },
            {
                question: "¿Qué gestor de ventanas utiliza el componente Qt?",
                options: ["GNOME", "xfce", "KDE", "LXDE"],
                correctAnswer: "KDE"
            },
            {
                question: "¿Qué sistema de impresión permite agregar impresoras tipo IPP?",
                options: ["LPD", "CUPS", "Samba", "IPPPrint"],
                correctAnswer: "CUPS"
            },
            {
                question: "¿Qué comando envía trabajos a imprimir?",
                options: ["lpq", "lpr", "print", "cupsprint"],
                correctAnswer: "lpr"
            },
            {
                question: "¿Qué comando muestra la cola de impresión?",
                options: ["lpr", "lpq", "printq", "showjobs"],
                correctAnswer: "lpq"
            },
            {
                question: "¿Qué fichero contiene la información de los usuarios en Linux?",
                options: ["/etc/shadow", "/etc/group", "/etc/passwd", "/etc/users"],
                correctAnswer: "/etc/passwd"
            },
            {
                question: "¿Qué significa una 'x' en el campo de contraseña de /etc/passwd?",
                options: ["Contraseña incorrecta", "Cuenta bloqueada", "Contraseña cifrada en /etc/shadow", "No tiene contraseña"],
                correctAnswer: "Contraseña cifrada en /etc/shadow"
            },
            {
                question: "¿Qué ID tiene el usuario root?",
                options: ["1000", "1", "0", "500"],
                correctAnswer: "0"
            },
            {
                question: "¿Qué comando crea un nuevo usuario?",
                options: ["adduser", "useradd", "mkuser", "newuser"],
                correctAnswer: "useradd"
            },
            {
                question: "¿Qué comando crea un nuevo grupo?",
                options: ["groupadd", "mkgroup", "newgroup", "addgroup"],
                correctAnswer: "groupadd"
            },
            {
                question: "¿Qué comando ejecuta un comando como otro usuario, usando el fichero /etc/sudoers?",
                options: ["su", "runas", "sudo", "execuser"],
                correctAnswer: "sudo"
            },
            {
                question: "¿Qué comando cambia de usuario para ejecutar comandos?",
                options: ["sudo", "su", "login", "switchuser"],
                correctAnswer: "su"
            },
            {
                question: "¿Qué comando modifica una cuenta de usuario?",
                options: ["useradd", "userdel", "usermod", "chown"],
                correctAnswer: "usermod"
            },
            {
                question: "¿Qué comando elimina un usuario y sus ficheros?",
                options: ["userdel", "rmuser", "deluser", "eraseuser"],
                correctAnswer: "userdel"
            },
            {
                question: "¿Qué comando administra un grupo, permitiendo añadir o borrar usuarios?",
                options: ["groupmod", "gpasswd", "groupdel", "chgrp"],
                correctAnswer: "gpasswd"
            },
            {
                question: "¿Qué herramienta es un cortafuegos que filtra tráfico TCP/IP en Linux?",
                options: ["ufw", "firewalld", "iptables", "netfilter"],
                correctAnswer: "iptables"
            },
            {
                question: "¿Qué Chain de iptables se usa para filtrar la información que llega?",
                options: ["OUTPUT", "FORWARD", "PREROUTING", "POSTROUTING"],
                correctAnswer: "PREROUTING"
            },
            {
                question: "¿Qué acción de iptables rechaza un paquete e informa al origen?",
                options: ["DROP", "ACCEPT", "REJECT", "MASQUERADE"],
                correctAnswer: "REJECT"
            },
            {
                question: "¿Qué herramienta banea/rechaza direcciones IP y protege de ataques DoS?",
                options: ["iptables", "ssh", "fail2ban", "nmap"],
                correctAnswer: "fail2ban"
            },
            {
                question: "¿Qué protocolo permite el control remoto de máquinas y la copia de seguridad remota de forma segura?",
                options: ["Telnet", "FTP", "SSH", "RDP"],
                correctAnswer: "SSH"
            },
            {
                question: "¿Qué comando limita el uso de recursos (número de ficheros abiertos, memoria consumida, etc.)?",
                options: ["cgroups", "nice", "ulimit", "quota"],
                correctAnswer: "ulimit"
            },
            {
                question: "¿Qué módulo fue diseñado por la NSA para implantar políticas de seguridad super restrictivas?",
                options: ["AppArmor", "SELinux", "FirewallD", "Grsecurity"],
                correctAnswer: "SELinux"
            },
            {
                question: "¿Qué fichero del sistema /proc contiene información de la memoria del sistema?",
                options: ["/proc/cpuinfo", "/proc/stat", "/proc/meminfo", "/proc/interrupts"],
                correctAnswer: "/proc/meminfo"
            },
            {
                question: "¿Qué comando lista los módulos cargados por el kernel (LKM)?",
                options: ["lsmod", "modprobe", "insmod", "rmmod"],
                correctAnswer: "lsmod"
            },
            {
                question: "¿Qué comando muestra información sobre buses y dispositivos del sistema?",
                options: ["lsusb", "lspci", "lshw", "dmidecode"],
                correctAnswer: "lspci"
            },
            {
                question: "¿Qué tipo de disco duro se identifica como /dev/hda?",
                options: ["SATA", "SCSI", "PATA/IDE", "USB"],
                correctAnswer: "PATA/IDE"
            },
            {
                question: "¿Qué comando se usa para crear particiones en MBR?",
                options: ["gdisk", "mkfs", "fdisk", "parted"],
                correctAnswer: "fdisk"
            },
            {
                question: "¿Qué comando se usa para formatear una partición con el filesystem indicado?",
                options: ["fdisk", "mount", "mkfs", "format"],
                correctAnswer: "mkfs"
            },
            {
                question: "¿Qué mecanismo permite hacer más flexible el almacenamiento y ampliar particiones en caliente?",
                options: ["RAID", "LVM", "NFS", "ZFS"],
                correctAnswer: "LVM"
            },
            {
                question: "¿Cómo se llama a los discos físicos o trozos (particiones) cuando se convierten en LVM?",
                options: ["Logical Volumes", "Volume Groups", "Physical Volumes", "Storage Blocks"],
                correctAnswer: "Physical Volumes"
            },
            {
                question: "¿En qué se meten los Physical Volumes (PV) antes de crear Logical Volumes (LV)?",
                options: ["Storage Blocks", "Volume Groups", "File Systems", "Partitions"],
                correctAnswer: "Volume Groups"
            },
            {
                question: "¿Qué directorio contiene los comandos binarios esenciales de usuario?",
                options: ["/sbin/", "/usr/", "/bin/", "/opt/"],
                correctAnswer: "/bin/"
            },
            {
                question: "¿Qué directorio contiene los archivos estáticos del selector de arranque?",
                options: ["/dev/", "/etc/", "/boot/", "/lib/"],
                correctAnswer: "/boot/"
            },
            {
                question: "¿Qué directorio contiene los archivos de unidades (dispositivos)?",
                options: ["/etc/", "/dev/", "/proc/", "/sys/"],
                correctAnswer: "/dev/"
            },
            {
                question: "¿Qué directorio contiene la configuración del sistema?",
                options: ["/bin/", "/home/", "/etc/", "/var/"],
                correctAnswer: "/etc/"
            },
            {
                question: "¿Qué directorio es el home del usuario root?",
                options: ["/home/", "/usr/", "/root/", "/var/"],
                correctAnswer: "/root/"
            },
            {
                question: "¿Qué directorio es un sistema de ficheros virtual del Kernel y las condiciones de los procesos?",
                options: ["/dev/", "/sys/", "/proc/", "/tmp/"],
                correctAnswer: "/proc/"
            },
            {
                question: "¿Qué comando de LVM se usa para crear Physical Volumes?",
                options: ["vgcreate", "lvcreate", "pvcreate", "pvdisplay"],
                correctAnswer: "pvcreate"
            },
            {
                question: "¿Qué comando de LVM se usa para crear Volume Groups?",
                options: ["pvcreate", "lvcreate", "vgcreate", "vgdisplay"],
                correctAnswer: "vgcreate"
            },
            {
                question: "¿Qué comando de LVM se usa para crear Logical Volumes?",
                options: ["pvcreate", "vgcreate", "lvcreate", "lvdisplay"],
                correctAnswer: "lvcreate"
            },
            {
                question: "¿Qué comando de LVM se usa para ampliar Volume Groups?",
                options: ["vgreduce", "lvextend", "vgextend", "pvcreate"],
                correctAnswer: "vgextend"
            },
            {
                question: "¿Qué comando de LVM se usa para ampliar Logical Volumes?",
                options: ["lvreduce", "vgextend", "lvextend", "pvcreate"],
                correctAnswer: "lvextend"
            },
            {
                question: "¿Qué comando de LVM se usa para reducir Logical Volumes?",
                options: ["lvextend", "vgreduce", "lvreduce", "pvdisplay"],
                correctAnswer: "lvreduce"
            },
            {
                question: "¿Qué comando de LVM se usa para reducir Volume Groups?",
                options: ["vgextend", "lvreduce", "vgreduce", "pvcreate"],
                correctAnswer: "vgreduce"
            },
            {
                question: "¿Qué comando de LVM se usa para mostrar información de Physical Volumes?",
                options: ["pvcreate", "vgdisplay", "lvdisplay", "pvdisplay"],
                correctAnswer: "pvdisplay"
            },
            {
                question: "¿Qué comando de LVM se usa para mostrar información de Volume Groups?",
                options: ["pvdisplay", "lvdisplay", "vgdisplay", "vgcreate"],
                correctAnswer: "vgdisplay"
            },
            {
                question: "¿Qué comando de LVM se usa para mostrar información de Logical Volumes?",
                options: ["pvdisplay", "vgdisplay", "lvdisplay", "lvcreate"],
                correctAnswer: "lvdisplay"
            },
            {
                question: "¿Qué comando se usa para chequear y reparar sistemas de ficheros?",
                options: ["mount", "fdisk", "mkfs", "fsck"],
                correctAnswer: "fsck"
            },
            {
                question: "¿Qué comando lista los ficheros abiertos por un proceso?",
                options: ["ps", "top", "lsof", "netstat"],
                correctAnswer: "lsof"
            },
            {
                question: "¿Qué comando muestra los mensajes de consola cuando arranca el SO?",
                options: ["journalctl", "syslog", "dmesg", "bootlog"],
                correctAnswer: "dmesg"
            },
            {
                question: "¿Qué fichero contiene los scripts de arranque de los servicios en SysVinit?",
                options: ["/etc/init.d", "/etc/systemd/system", "/etc/rc.d", "/etc/default"],
                correctAnswer: "/etc/init.d"
            },
            {
                question: "¿Qué fichero de configuración contiene la tabla ARP (Address Resolution Protocol)?",
                options: ["/etc/network/interfaces", "/etc/hosts", "No es un fichero, es una tabla en memoria", "/etc/resolv.conf"],
                correctAnswer: "No es un fichero, es una tabla en memoria" // This is a trick question, ARP table is dynamic
            },
            {
                question: "¿Qué comando se usa para volcar el tráfico de red?",
                options: ["netstat", "nmap", "tcpdump", "wireshark"],
                correctAnswer: "tcpdump"
            },
            {
                question: "¿Qué comando muestra el camino que sigue una conexión con una IP/host destino?",
                options: ["ping", "nmap", "traceroute", "route"],
                correctAnswer: "traceroute"
            },
            {
                question: "¿Qué comando muestra información sobre puertos abiertos en otra máquina?",
                options: ["netstat", "ss", "nmap", "tcpdump"],
                correctAnswer: "nmap"
            },
            {
                question: "¿Qué comando limpia las caches DNS en Linux?",
                options: ["dig -x", "nslookup -c", "systemd-resolve --flush-caches", "clear-dns"],
                correctAnswer: "systemd-resolve --flush-caches"
            },
            {
                question: "¿Qué carácter se usa para escapar símbolos especiales en expresiones regulares?",
                options: [".", "*", "\\", "?"],
                correctAnswer: "\\"
            },
            {
                question: "¿Qué comando permite concatenar ficheros sobre un campo común?",
                options: ["cat", "paste", "sort", "join"],
                correctAnswer: "join"
            },
            {
                question: "¿Qué comando permite ordenar líneas de un fichero?",
                options: ["uniq", "grep", "sort", "cut"],
                correctAnswer: "sort"
            },
            {
                question: "¿Qué sistema de ficheros es el más reciente y intenta sustituir a ext4?",
                options: ["reiserFS", "JFS", "xfs", "btrfs"],
                correctAnswer: "btrfs"
            },
            {
                question: "¿Qué comando muestra información de procesos, memoria, paginación, io, cpu, disco, etc.?",
                options: ["ps", "top", "vmstat", "free"],
                correctAnswer: "vmstat"
            },
            {
                question: "¿Qué comando muestra los mensajes de los demonios?",
                options: ["syslog", "dmesg", "journalctl", "logread"],
                correctAnswer: "journalctl"
            },
            {
                question: "¿Qué comando permite cambiar la contraseña de un usuario?",
                options: ["useradd", "usermod", "passwd", "chage"],
                correctAnswer: "passwd"
            },
            {
                question: "¿Cuál es el puerto por defecto de SSH?",
                options: ["21", "23", "22", "80"],
                correctAnswer: "22"
            },
            {
                question: "¿Qué comando muestra información del SO, como la versión de la release?",
                options: ["lsb_release", "cat /etc/os-release", "uname", "hostnamectl"],
                correctAnswer: "uname"
            },
            {
                question: "¿Qué tipo de particiones son siempre primarias en MBR (Master Boot Record)?",
                options: ["5-N", "1-4", "Todas", "Ninguna"],
                correctAnswer: "1-4"
            },
            {
                question: "¿Qué comando de LVM se usa para mostrar los Physical Volumes?",
                options: ["pvcreate", "vgdisplay", "lvdisplay", "pvdisplay"],
                correctAnswer: "pvdisplay"
            },
            {
                question: "¿Qué comando de LVM se usa para mostrar los Volume Groups?",
                options: ["vgcreate", "pvdisplay", "lvdisplay", "vgdisplay"],
                correctAnswer: "vgdisplay"
            },
            {
                question: "¿Qué comando de LVM se usa para mostrar los Logical Volumes?",
                options: ["lvcreate", "pvdisplay", "vgdisplay", "lvdisplay"],
                correctAnswer: "lvdisplay"
            },
            {
                question: "¿Qué directorio es el punto de montaje temporal para sistemas de ficheros?",
                options: ["/media/", "/srv/", "/mnt/", "/tmp/"],
                correctAnswer: "/mnt/"
            },
            {
                question: "¿Qué directorio contiene los archivos temporales?",
                options: ["/var/", "/tmp/", "/srv/", "/opt/"],
                correctAnswer: "/tmp/"
            },
            {
                question: "¿Qué directorio contiene los agregados de paquetes de Software y Aplicaciones?",
                options: ["/usr/", "/lib/", "/opt/", "/sbin/"],
                correctAnswer: "/opt/"
            },
            {
                question: "¿Qué directorio contiene los binarios de sistema?",
                options: ["/bin/", "/usr/", "/sbin/", "/lib/"],
                correctAnswer: "/sbin/"
            },
            {
                question: "¿Qué directorio contiene datos para los servicios provistos por el sistema?",
                options: ["/var/", "/tmp/", "/srv/", "/opt/"],
                correctAnswer: "/srv/"
            },
            {
                question: "¿Qué directorio contiene las librerías esenciales compartidas y módulos de Kernel?",
                options: ["/bin/", "/usr/", "/lib/", "/etc/"],
                correctAnswer: "/lib/"
            },
            {
                question: "¿Qué directorio contiene el directorio home de usuario?",
                options: ["/root/", "/etc/", "/home/", "/usr/"],
                correctAnswer: "/home/"
            },
            {
                question: "¿Qué directorio contiene los archivos variables de aplicaciones?",
                options: ["/usr/", "/var/", "/opt/", "/tmp/"],
                correctAnswer: "/var/"
            },
            {
                question: "¿Qué comando de Systemd cambia al 'multi-user target'?",
                options: ["telinit 5", "systemctl isolate multi-user.target", "systemctl set-default multi-user.target", "systemctl start multi-user.target"],
                correctAnswer: "systemctl isolate multi-user.target"
            },
            {
                question: "¿Qué comando de Systemd comprueba si un servicio está habilitado al inicio?",
                options: ["chkconfig dummy", "systemctl status dummy.service", "systemctl is-enabled dummy.service", "systemctl enable dummy.service"],
                correctAnswer: "systemctl is-enabled dummy.service"
            },
            {
                question: "¿Qué fichero contiene la configuración de la tarjeta de red en Debian?",
                options: ["/etc/resolv.conf", "/etc/hosts", "/etc/network/interfaces", "/etc/hostname"],
                correctAnswer: "/etc/network/interfaces"
            },
            {
                question: "¿Qué comando gestiona la tabla de routing?",
                options: ["ifconfig", "ip addr", "route", "netstat"],
                correctAnswer: "route"
            },
            {
                question: "¿Qué es el 'Sticky bit' en permisos de ficheros?",
                options: ["Permite ejecutar como owner", "Permite que un usuario no pueda borrar ficheros de otro en ese directorio", "Indica que tiene ACLs", "Cambia el grupo propietario"],
                correctAnswer: "Permite que un usuario no pueda borrar ficheros de otro en ese directorio"
            }
        ];

        let currentQuestionIndex = 0;
        let userAnswers = JSON.parse(localStorage.getItem('userAnswers')) || new Array(questions.length).fill(null);
        let feedbackMessages = JSON.parse(localStorage.getItem('feedbackMessages')) || new Array(questions.length).fill(null);

        const questionNumberElement = document.getElementById('questionNumber');
        const questionTextElement = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackMessageElement = document.getElementById('feedbackMessage');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const restartButton = document.getElementById('restartButton');
        const restartResultsButton = document.getElementById('restartResultsButton');
        const questionSection = document.getElementById('questionSection');
        const resultsSection = document.getElementById('resultsSection');
        const correctCountElement = document.getElementById('correctCount');
        const incorrectCountElement = document.getElementById('incorrectCount');
        const unansweredCountElement = document.getElementById('unansweredCount');

        // Función para guardar el estado en localStorage
        function saveState() {
            localStorage.setItem('userAnswers', JSON.stringify(userAnswers));
            localStorage.setItem('feedbackMessages', JSON.stringify(feedbackMessages));
        }

        // Función para mostrar la pregunta actual
        function displayQuestion() {
            if (currentQuestionIndex < questions.length) {
                questionSection.classList.remove('hidden');
                resultsSection.classList.add('hidden');

                const question = questions[currentQuestionIndex];
                questionNumberElement.textContent = `Pregunta ${currentQuestionIndex + 1} de ${questions.length}`;
                questionTextElement.textContent = question.question;
                optionsContainer.innerHTML = '';
                feedbackMessageElement.classList.add('hidden');
                feedbackMessageElement.textContent = '';

                question.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.classList.add('option-button');
                    button.textContent = option;
                    button.dataset.option = option;
                    button.onclick = () => selectOption(option, button);
                    optionsContainer.appendChild(button);
                });

                // Restaurar selección y feedback si ya se ha contestado
                const savedAnswer = userAnswers[currentQuestionIndex];
                if (savedAnswer !== null) {
                    const buttons = optionsContainer.querySelectorAll('.option-button');
                    buttons.forEach(button => {
                        if (button.dataset.option === savedAnswer) {
                            button.classList.add('selected');
                        }
                        // Deshabilitar botones una vez que se ha seleccionado una opción
                        button.disabled = true;
                    });
                    // Mostrar feedback guardado
                    const savedFeedback = feedbackMessages[currentQuestionIndex];
                    if (savedFeedback) {
                        feedbackMessageElement.textContent = savedFeedback.text;
                        feedbackMessageElement.className = `feedback-message ${savedFeedback.type}`;
                        feedbackMessageElement.classList.remove('hidden');
                    }
                }

                updateNavigationButtons();
            } else {
                showResults();
            }
        }

        // Función para seleccionar una opción
        function selectOption(selectedOption, clickedButton) {
            const question = questions[currentQuestionIndex];
            userAnswers[currentQuestionIndex] = selectedOption;

            // Deshabilitar todos los botones de opción después de la selección
            const buttons = optionsContainer.querySelectorAll('.option-button');
            buttons.forEach(button => {
                button.disabled = true;
                button.classList.remove('selected', 'correct', 'incorrect'); // Limpiar clases previas
            });

            // Aplicar clase 'selected' a la opción elegida
            clickedButton.classList.add('selected');

            // Comprobar si la respuesta es correcta
            if (selectedOption === question.correctAnswer) {
                clickedButton.classList.add('correct');
                feedbackMessageElement.textContent = '¡Correcto!';
                feedbackMessageElement.classList.remove('incorrect', 'hidden');
                feedbackMessageElement.classList.add('correct');
                feedbackMessages[currentQuestionIndex] = { text: '¡Correcto!', type: 'correct' };
            } else {
                clickedButton.classList.add('incorrect');
                feedbackMessageElement.textContent = `Incorrecto. La respuesta correcta era: ${question.correctAnswer}`;
                feedbackMessageElement.classList.remove('correct', 'hidden');
                feedbackMessageElement.classList.add('incorrect');
                feedbackMessages[currentQuestionIndex] = { text: `Incorrecto. La respuesta correcta era: ${question.correctAnswer}`, type: 'incorrect' };

                // Resaltar la respuesta correcta si la seleccionada es incorrecta
                buttons.forEach(button => {
                    if (button.dataset.option === question.correctAnswer) {
                        button.classList.add('correct');
                    }
                });
            }
            saveState();
        }

        // Función para actualizar el estado de los botones de navegación
        function updateNavigationButtons() {
            prevButton.disabled = currentQuestionIndex === 0;
            nextButton.disabled = currentQuestionIndex === questions.length; // Deshabilita "Siguiente" en la última pregunta
        }

        // Event listeners para los botones de navegación
        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        });

        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length) {
                currentQuestionIndex++;
                displayQuestion();
            }
        });

        // Función para reiniciar el test
        function restartTest() {
            localStorage.removeItem('userAnswers');
            localStorage.removeItem('feedbackMessages');
            userAnswers = new Array(questions.length).fill(null);
            feedbackMessages = new Array(questions.length).fill(null);
            currentQuestionIndex = 0;
            displayQuestion();
        }

        restartButton.addEventListener('click', restartTest);
        restartResultsButton.addEventListener('click', restartTest);

        // Función para mostrar los resultados finales
        function showResults() {
            questionSection.classList.add('hidden');
            resultsSection.classList.remove('hidden');

            let correctCount = 0;
            let incorrectCount = 0;
            let unansweredCount = 0;

            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                if (userAnswer === null) {
                    unansweredCount++;
                } else if (userAnswer === question.correctAnswer) {
                    correctCount++;
                } else {
                    incorrectCount++;
                }
            });

            correctCountElement.textContent = correctCount;
            incorrectCountElement.textContent = incorrectCount;
            unansweredCountElement.textContent = unansweredCount;
        }

        // Inicializar el test al cargar la página
        displayQuestion();
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UML</title>
    <!-- Enlace a Tailwind CSS para las clases de la estructura HTML -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS completo para el estilo del quiz -->
    <style>
        /* Estilos generales del cuerpo */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }

        /* Contenedor principal del quiz */
        .container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin-top: 20px;
        }

        /* Tarjeta de la pregunta */
        .question-card {
            background-color: #f8fafc;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease-in-out;
        }

        /* Estilo para la tarjeta de pregunta correcta */
        .question-card.correct {
            background-color: #d4edda;
            border-color: #28a745;
        }

        /* Estilo para la tarjeta de pregunta incorrecta */
        .question-card.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
        }

        /* Texto de la pregunta */
        .question-text {
            font-size: 1.15rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        /* Botones de opciones */
        .option-button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 12px 18px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #cbd5e0;
            background-color: #ffffff;
            color: #4a5568;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        /* Efecto hover para los botones de opciones */
        .option-button:hover:not(.disabled) {
            background-color: #e2e8f0;
            border-color: #a0aec0;
        }

        /* Estilo para el botón de opción seleccionado */
        .option-button.selected {
            border-color: #4299e1;
            background-color: #ebf8ff;
            font-weight: 600;
        }

        /* Estilo para la respuesta correcta */
        .option-button.correct-answer {
            background-color: #28a745;
            color: #ffffff;
            border-color: #28a745;
            font-weight: 700;
        }

        /* Estilo para la respuesta incorrecta */
        .option-button.incorrect-answer {
            background-color: #dc3545;
            color: #ffffff;
            border-color: #dc3545;
            font-weight: 700;
        }

        /* Estilo para los botones deshabilitados */
        .option-button.disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        /* Contenedor de la solución */
        .solution {
            margin-top: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            background-color: #e0f2f7;
            color: #2c5282;
            font-size: 0.95rem;
            font-weight: 500;
            border: 1px solid #90cdf4;
        }

        /* Contenedor del feedback (correcto/incorrecto) */
        .feedback {
            margin-top: 15px;
            font-weight: 600;
            font-size: 1rem;
            text-align: center;
        }

        /* Estilo para feedback correcto */
        .feedback.correct {
            color: #28a745;
        }

        /* Estilo para feedback incorrecto */
        .feedback.incorrect {
            color: #dc3545;
        }

        /* Contenedor de los botones de navegación */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        /* Estilo base para los botones de navegación */
        .nav-button {
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
            text-align: center;
        }

        /* Estilo para el botón "Anterior" */
        .nav-button.prev {
            background-color: #6b7280;
            color: #ffffff;
        }
        .nav-button.prev:hover:not(:disabled) {
            background-color: #4b5563;
            transform: translateY(-2px);
        }

        /* Estilo para el botón "Siguiente" */
        .nav-button.next {
            background-color: #4299e1;
            color: #ffffff;
        }
        .nav-button.next:hover:not(:disabled) {
            background-color: #3182ce;
            transform: translateY(-2px);
        }

        /* Estilo para el botón de reinicio en línea */
        .nav-button.restart-inline {
            background-color: #f50b0b;
            color: #ffffff;
        }
        .nav-button.restart-inline:hover:not(:disabled) {
            background-color: #ac0505;
            transform: translateY(-2px);
        }

        /* Estilo para los botones deshabilitados */
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Barra de progreso */
        .progress-bar-container {
            width: 100%;
            background-color: #e2e8f0;
            border-radius: 5px;
            height: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: #4299e1;
            width: 0%;
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        /* Visualización de la puntuación final */
        .score-display {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-top: 20px;
        }

        /* Resumen de resultados */
        .results-summary {
            margin-top: 20px;
            padding: 20px;
            background-color: #f8fafc;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
        }

        .results-summary p {
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: #2d3748;
        }

        .results-summary p strong {
            font-weight: 700;
        }

        /* Botón de reinicio final */
        .restart-button {
            display: block;
            width: fit-content;
            margin: 20px auto 0 auto;
            padding: 12px 30px;
            background-color: #48bb78;
            color: #ffffff;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .restart-button:hover {
            background-color: #38a169;
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">UML</h1>

        <!-- Barra de progreso -->
        <div class="progress-bar-container">
            <div id="progressBar" class="progress-bar"></div>
        </div>

        <!-- Contenedor principal de las preguntas -->
        <div id="quizContainer">
            <!-- Las preguntas se cargarán dinámicamente aquí -->
        </div>

        <!-- Botones de navegación -->
        <div class="navigation-buttons">
            <button id="prevBtn" class="nav-button prev" disabled>Anterior</button>
            <button id="restartInlineBtn" class="nav-button restart-inline">Reiniciar Test</button>
            <button id="nextBtn" class="nav-button next">Siguiente</button>
        </div>

        <!-- Contenedor de la puntuación final -->
        <div id="finalScore" class="hidden">
            <div class="score-display"></div>
            <div class="results-summary">
                <p><strong>Preguntas Correctas:</strong> <span id="correctCount">0</span></p>
                <p><strong>Preguntas Incorrectas:</strong> <span id="incorrectCount">0</span></p>
                <p><strong>Preguntas Sin Contestar:</strong> <span id="unansweredCount">0</span></p>
            </div>
            <button id="restartBtn" class="restart-button">Reiniciar Test</button>
        </div>
    </div>

    <script>
        // =================================================================================================
        // ESTA ES LA SECCIÓN DONDE PUEDES PEGAR TU ARRAY DE PREGUNTAS
        // Asegúrate de que el formato sea el mismo (pregunta, opciones, respuesta correcta).
        // =================================================================================================
        const questions = [
            {
                question: "¿Qué organismo estandariza UML?",
                options: ["a) ISO", "b) IEC", "c) OMG", "d) Todas las anteriores"],
                correctAnswer: "c) OMG"
            },
            {
                question: "¿Qué es UML según el texto?",
                options: ["a) Una metodología de desarrollo.", "b) Una notación para modelar software.", "c) Un lenguaje de programación.", "d) Una base de datos."],
                correctAnswer: "b) Una notación para modelar software."
            },
            {
                question: "¿Qué se usa para mantener el orden y la estructura en el diseño de sistemas según el texto?",
                options: ["a) RUP", "b) OCL", "c) UML 2.5.1", "d) XMI"],
                correctAnswer: "c) UML 2.5.1"
            },
            {
                question: "¿Cuál de las siguientes capas forma parte de la infraestructura del metamodelo de soporte de UML?",
                options: ["a) MO", "b) PSM", "c) PIM", "d) PA"],
                correctAnswer: "a) MO"
            },
            {
                question: "¿Qué componente del metamodelo UML se encarga de las instancias en tiempo de ejecución?",
                options: ["a) M1", "b) M2", "c) M3", "d) MO"],
                correctAnswer: "d) MO"
            },
            {
                question: "¿Qué es OCL?",
                options: ["a) Un lenguaje de programación.", "b) Un lenguaje para definir restricciones y reglas en UML.", "c) Una herramienta de intercambio de datos.", "d) Una metodología de desarrollo."],
                correctAnswer: "b) Un lenguaje para definir restricciones y reglas en UML."
            },
            {
                question: "Un ejemplo de restricción en OCL es:",
                options: ["a) {procesadores=3}", "b) <<UI>>", "c) {edad > 0}", "d) {ordered}"],
                correctAnswer: "c) {edad > 0}"
            },
            {
                question: "¿Qué mecanismo de extensión de UML permite añadir o modificar la semántica de un elemento?",
                options: ["a) Restricciones", "b) Valores etiquetados", "c) Estereotipos", "d) Perfiles"],
                correctAnswer: "c) Estereotipos"
            },
            {
                question: "¿Qué indica el estereotipo <<UI>> aplicado a una clase?",
                options: ["a) Que la clase es de tipo Implementación.", "b) Que la clase es de tipo Utilidad.", "c) Que la clase es de tipo Interfaz de Usuario.", "d) Que la clase es de tipo Infraestructura."],
                correctAnswer: "c) Que la clase es de tipo Interfaz de Usuario."
            },
            {
                question: "¿Qué son los perfiles en UML?",
                options: ["a) Un conjunto de valores etiquetados.", "b) Un conjunto de estereotipos, restricciones, etc., de un tema específico.", "c) Un tipo de diagrama UML.", "d) Un lenguaje para definir reglas."],
                correctAnswer: "b) Un conjunto de estereotipos, restricciones, etc., de un tema específico."
            },
            {
                question: "¿Qué concepto de POO define la estructura (atributos) y el comportamiento (métodos) de una entidad?",
                options: ["a) Objeto", "b) Clase", "c) Mensaje", "d) Atributo"],
                correctAnswer: "b) Clase"
            },
            {
                question: "¿Qué permite la identidad de un objeto?",
                options: ["a) Distinguir un objeto de otro.", "b) Almacenar información.", "c) Modificar sus atributos.", "d) Implementar un comportamiento."],
                correctAnswer: "a) Distinguir un objeto de otro."
            },
            {
                question: "¿Qué es la sobrecarga en POO?",
                options: ["a) Un método que llama a otros métodos.", "b) Varios métodos con el mismo nombre que se diferencian por el número y/o tipo de parámetros.", "c) Un método que devuelve múltiples valores.", "d) Un método que no tiene parámetros."],
                correctAnswer: "b) Varios métodos con el mismo nombre que se diferencian por el número y/o tipo de parámetros."
            },
            {
                question: "¿Qué es un mensaje en POO?",
                options: ["a) La declaración de una clase.", "b) La llamada a un método sobre un objeto.", "c) Un tipo de dato.", "d) Un error de compilación."],
                correctAnswer: "b) La llamada a un método sobre un objeto."
            },
            {
                question: "¿Qué significa MDA?",
                options: ["a) Model-Driven Application.", "b) Model-Driven Architecture.", "c) Model-Driven Analysis.", "d) Multiple-Deployment Architecture."],
                correctAnswer: "b) Model-Driven Architecture."
            },
            {
                question: "¿Qué es el PIM en MDA?",
                options: ["a) Platform Independent Method.", "b) Platform Independent Model.", "c) Process Integration Module.", "d) Program Internal Model."],
                correctAnswer: "b) Platform Independent Model."
            },
            {
                question: "¿Cuál es el primer paso de la abstracción según los principios de POO?",
                options: ["a) Identificar las clases.", "b) Capturar los detalles de negocio a modelar.", "c) Definir los métodos.", "d) Crear los objetos."],
                correctAnswer: "b) Capturar los detalles de negocio a modelar."
            },
            {
                question: "¿Qué principio de POO busca la ocultación de los detalles internos del objeto?",
                options: ["a) Abstracción", "b) Polimorfismo", "c) Encapsulamiento", "d) Herencia"],
                correctAnswer: "c) Encapsulamiento"
            },
            {
                question: "¿Qué efecto principal tiene la herencia en POO?",
                options: ["a) Reducir el acoplamiento.", "b) Reutilización de código.", "c) Implementar interfaces.", "d) Definir restricciones."],
                correctAnswer: "b) Reutilización de código."
            },
            {
                question: "En un diagrama de clases, ¿qué tipo de relación es la Agregación?",
                options: ["a) Dependencia", "b) Contención física", "c) Contención lógica", "d) Realización"],
                correctAnswer: "c) Contención lógica"
            },
            {
                question: "¿Qué tipo de relación es la Composición en un diagrama de clases?",
                options: ["a) Contención lógica.", "b) Contención física (Todo/Parte).", "c) Asociación simple.", "d) Generalización."],
                correctAnswer: "b) Contención física (Todo/Parte)."
            },
            {
                question: "Si el nombre de una clase en un diagrama de clases está en cursiva, ¿qué significa?",
                options: ["a) Que es una clase concreta.", "b) Que es una clase abstracta.", "c) Que es una interfaz.", "d) Que tiene un error."],
                correctAnswer: "b) Que es una clase abstracta."
            },
            {
                question: "¿Para qué son útiles los diagramas de objetos?",
                options: ["a) Para representar la arquitectura del sistema.", "b) Para analizar ciertas partes del diagrama de clases haciendo \"zoom\".", "c) Para mostrar el flujo de control.", "d) Para definir procesos de negocio."],
                correctAnswer: "b) Para analizar ciertas partes del diagrama de clases haciendo \"zoom\"."
            },
            {
                question: "En un diagrama de componentes, ¿qué representa el semicírculo?",
                options: ["a) Los métodos que puedes usar.", "b) De quién depende ese interfaz, a quién necesita.", "c) El puerto del componente.", "d) El componente en sí."],
                correctAnswer: "b) De quién depende ese interfaz, a quién necesita."
            },
            {
                question: "¿Qué diagrama muestra la arquitectura del sistema como despliegue de artefactos software?",
                options: ["a) Diagrama de componentes.", "b) Diagrama de estructura compuesta.", "c) Diagrama de despliegue.", "d) Diagrama de perfil."],
                correctAnswer: "c) Diagrama de despliegue."
            },
            {
                question: "¿Qué diagrama se usa para especificar cómo transitan los objetos de una clase y es la antesala del patrón de diseño State?",
                options: ["a) Diagrama de actividad.", "b) Diagrama de casos de uso.", "c) Diagrama de transición de estados o máquina de estados.", "d) Diagrama de secuencia."],
                correctAnswer: "c) Diagrama de transición de estados o máquina de estados."
            },
            {
                question: "¿Cómo se llama una condición entre corchetes [...] en un diagrama de máquina de estados?",
                options: ["a) Precondición.", "b) Postcondición.", "c) Guarda.", "d) Restricción."],
                correctAnswer: "c) Guarda."
            },
            {
                question: "¿Qué diagrama ayuda a definir procesos de negocio y casos de uso, siendo similar a un flujograma?",
                options: ["a) Diagrama de transición de estados.", "b) Diagrama de actividad.", "c) Diagrama de secuencia.", "d) Diagrama de paquetes."],
                correctAnswer: "b) Diagrama de actividad."
            },
            {
                question: "¿Qué representan los diagramas de casos de uso?",
                options: ["a) La estructura interna de una clase.", "b) Los requisitos funcionales de la aplicación.", "c) La interacción entre objetos.", "d) El despliegue de artefactos."],
                correctAnswer: "b) Los requisitos funcionales de la aplicación."
            },
            {
                question: "En los diagramas de casos de uso, ¿qué indica la relación <<extend>>?",
                options: ["a) Un comportamiento obligatorio.", "b) Un comportamiento opcional.", "c) Una herencia entre casos de uso.", "d) Una dependencia."],
                correctAnswer: "b) Un comportamiento opcional."
            },
            {
                question: "¿Qué indica la relación <<include>> en los diagramas de casos de uso?",
                options: ["a) Un comportamiento opcional.", "b) Un comportamiento obligatorio.", "c) Una extensión de funcionalidad.", "d) Una relación de herencia."],
                correctAnswer: "b) Un comportamiento obligatorio."
            },
            {
                question: "¿Qué acompaña a los casos de uso para su especificación?",
                options: ["a) Un diagrama de secuencia.", "b) Un SRS (especificación de requisitos de software).", "c) Un diagrama de actividad.", "d) Un diagrama de clases."],
                correctAnswer: "b) Un SRS (especificación de requisitos de software)."
            },
            {
                question: "¿Qué diagrama de interacción se centra en las condiciones que cambian dentro y entre las líneas de vida a lo largo de un eje de tiempo lineal?",
                options: ["a) Diagrama de comunicación.", "b) Diagrama de secuencia.", "c) Diagrama de tiempos.", "d) Diagrama interaction-overview."],
                correctAnswer: "c) Diagrama de tiempos."
            },
            {
                question: "¿Qué diagrama de interacción es equivalente al diagrama de comunicación?",
                options: ["a) Diagrama de tiempos.", "b) Diagrama interaction-overview.", "c) Diagrama de secuencia.", "d) Diagrama de objetos."],
                correctAnswer: "c) Diagrama de secuencia."
            },
            {
                question: "En el polimorfismo, ¿qué significa \"Late binding\" o \"Ligadura dinámica\"?",
                options: ["a) Que el método a invocar se determina en tiempo de compilación.", "b) Que el método a invocar se determina en tiempo de ejecución.", "c) Que el objeto se enlaza a un tipo específico.", "d) Que se puede cambiar el tipo de un objeto en tiempo de ejecución."],
                correctAnswer: "b) Que el método a invocar se determina en tiempo de ejecución."
            },
            {
                question: "En Java, ¿qué operador se utiliza para comprobar si un objeto es de un tipo compatible (incluyendo herencia)?",
                options: ["a) typeof", "b) isInstance", "c) instanceof", "d) getName"],
                correctAnswer: "c) instanceof"
            },
            {
                question: "¿Cuál es el estándar de UML mencionado en el texto?",
                options: ["a) ISO-IEC 19501", "b) IEEE 802.3", "c) ANSI/ISA-95", "d) RFC 793"],
                correctAnswer: "a) ISO-IEC 19501"
            },
            {
                question: "¿Qué parte de la superestructura de UML se basa en la infraestructura?",
                options: ["a) El metamodelo.", "b) La notación y semántica de los diagramas.", "c) OCL.", "d) XMI."],
                correctAnswer: "b) La notación y semántica de los diagramas."
            },
            {
                question: "¿Qué lenguaje se usa para el intercambio de modelos UML entre herramientas?",
                options: ["a) OCL", "b) RUP", "c) XMI (XML Metadata Interchange)", "d) MOF"],
                correctAnswer: "c) XMI (XML Metadata Interchange)"
            },
            {
                question: "Un ejemplo de valor etiquetado en UML es:",
                options: ["a) <<UI>>", "b) {edad > 0}", "c) {procesadores=3}", "d) {ordered}"],
                correctAnswer: "c) {procesadores=3}"
            },
            {
                question: "¿Qué es un atributo en POO?",
                options: ["a) La implementación de un comportamiento.", "b) Datos de negocio o referencias a otros objetos.", "c) La llamada a un método.", "d) Un tipo de dato abstracto."],
                correctAnswer: "b) Datos de negocio o referencias a otros objetos."
            },
            {
                question: "¿Cuál es el significado de PSM en el contexto de MDA?",
                options: ["a) Platform Specific Method.", "b) Platform System Model.", "c) Platform Specific Model.", "d) Process Standard Module."],
                correctAnswer: "c) Platform Specific Model."
            },
            {
                question: "¿Qué implica la \"capacidad para que un mismo objeto frente a un mismo mensaje tenga comportamientos diferentes\"?",
                options: ["a) Encapsulamiento.", "b) Abstracción.", "c) Polimorfismo.", "d) Herencia."],
                correctAnswer: "c) Polimorfismo."
            },
            {
                question: "¿Qué tipo de diagrama de estructura representa un ejemplo de árbol de objetos en memoria?",
                options: ["a) Diagrama de clases.", "b) Diagrama de componentes.", "c) Diagrama de objetos.", "d) Diagrama de despliegue."],
                correctAnswer: "c) Diagrama de objetos."
            },
            {
                question: "¿Cuál es la idea de alto nivel que agrupa una serie de clases y ofrece un servicio a otros en un diagrama de componentes?",
                options: ["a) Interfaz.", "b) Puerto.", "c) Componente.", "d) Conector."],
                correctAnswer: "c) Componente."
            },
            {
                question: "¿Qué diagrama muestra la estructura interna de una clase y las colaboraciones?",
                options: ["a) Diagrama de paquetes.", "b) Diagrama de despliegue.", "c) Diagrama de estructura compuesta.", "d) Diagrama de perfil."],
                correctAnswer: "c) Diagrama de estructura compuesta."
            },
            {
                question: "¿Para qué se utilizan los diagramas de perfil?",
                options: ["a) Para agrupar clases y componentes.", "b) Para su uso en una plataforma concreta (.NET, Java, etc.).", "c) Para modelar el comportamiento dinámico.", "d) Para definir la arquitectura del sistema."],
                correctAnswer: "b) Para su uso en una plataforma concreta (.NET, Java, etc.)."
            },
            {
                question: "¿Qué elemento de UML se agrupa en un diagrama de paquetes?",
                options: ["a) Clases.", "b) Componentes.", "c) Elementos UML.", "d) Todas las anteriores."],
                correctAnswer: "d) Todas las anteriores."
            },
            {
                question: "¿Qué no reflejan los casos de uso según el texto?",
                options: ["a) Los requisitos funcionales.", "b) El flujo de ejecución.", "c) La granularidad media-baja.", "d) Las relaciones de inclusión."],
                correctAnswer: "b) El flujo de ejecución."
            },
            {
                question: "¿Qué se especifica en un punto de extensión de un caso de uso?",
                options: ["a) El comportamiento obligatorio.", "b) Las condiciones bajo las cuales se produce o no la extensión.", "c) Los actores primarios.", "d) El nombre del caso de uso."],
                correctAnswer: "b) Las condiciones bajo las cuales se produce o no la extensión."
            },
            {
                question: "Si un actor en un diagrama de casos de uso está a la derecha, ¿qué tipo de actor es?",
                options: ["a) Principal.", "b) Primario.", "c) Secundario.", "d) Actor del sistema."],
                correctAnswer: "c) Secundario."
            },
            {
                question: "¿Qué diagrama de interacción es una mezcla entre el diagrama de actividad y otros de interacción?",
                options: ["a) Diagrama de secuencia.", "b) Diagrama de comunicación.", "c) Diagrama interaction-overview.", "d) Diagrama de tiempos."],
                correctAnswer: "c) Diagrama interaction-overview."
            },
            {
                question: "¿Qué representan los números en un diagrama de comunicación?",
                options: ["a) El orden de los mensajes.", "b) La cantidad de objetos.", "c) La duración de la interacción.", "d) La prioridad de los mensajes."],
                correctAnswer: "a) El orden de los mensajes."
            },
            {
                question: "¿Qué persigue el polimorfismo en términos de código?",
                options: ["a) Código más específico.", "b) Código más complejo.", "c) Código más genérico, lo que implica mejor mantenimiento.", "d) Código más redundante."],
                correctAnswer: "c) Código más genérico, lo que implica mejor mantenimiento."
            },
            {
                question: "¿Cuántos actores clave siempre habrá en el polimorfismo según el texto?",
                options: ["a) Uno: el objeto.", "b) Dos: Cliente y Proveedor.", "c) Tres: Cliente, Proveedor y Mensaje.", "d) Cuatro: Cliente, Proveedor, Objeto y Método."],
                correctAnswer: "b) Dos: Cliente y Proveedor."
            },
            {
                question: "¿Qué función en Java es similar a typeof de .NET pero funciona también con tipos compatibles, no solo herencia?",
                options: ["a) isInstance()", "b) getClass()", "c) instanceof", "d) getName()"],
                correctAnswer: "a) isInstance()"
            },
            {
                question: "¿Qué se recomienda usar en Java para comprobar la clase de un objeto en lugar de instanceof?",
                options: ["a) getClass()", "b) isInstance()", "c) getName()", "d) typeof"],
                correctAnswer: "b) isInstance()"
            },
            {
                question: "En el diagrama de clases, la relación de asociación tiene muchas consecuencias en:",
                options: ["a) La definición de los atributos.", "b) La implementación.", "c) La herencia.", "d) El polimorfismo."],
                correctAnswer: "b) La implementación."
            },
            {
                question: "¿Qué permite la \"reutilización\" como efecto de la herencia?",
                options: ["a) Reducir la complejidad.", "b) Extender clases con cierta similitud semántica.", "c) Ocultar detalles internos.", "d) Implementar comportamientos diferentes."],
                correctAnswer: "b) Extender clases con cierta similitud semántica."
            },
            {
                question: "¿Qué se utiliza para agrupar clases, componentes y elementos UML?",
                options: ["a) Diagrama de estructura compuesta.", "b) Diagrama de perfil.", "c) Diagrama de paquetes.", "d) Diagrama de componentes."],
                correctAnswer: "c) Diagrama de paquetes."
            },
            {
                question: "¿Qué no existe en los casos de uso según el texto?",
                options: ["a) Relación de herencia entre actores.", "b) Casos de uso \"abstractos\" (ej: Gestionar...).", "c) Relación de inclusión.", "d) Puntos de extensión."],
                correctAnswer: "b) Casos de uso \"abstractos\" (ej: Gestionar...)."
            },
            {
                question: "¿Qué permite un diagrama interaction-overview en relación con un diagrama de actividad?",
                options: ["a) Representar el flujo de control general.", "b) Hacer zoom en una parte del diagrama de actividad para ver el de secuencia.", "c) Mostrar la arquitectura de despliegue.", "d) Definir restricciones."],
                correctAnswer: "b) Hacer zoom en una parte del diagrama de actividad para ver el de secuencia."
            },
            {
                question: "¿Qué representa la línea vertical en un diagrama de secuencia?",
                options: ["a) El orden de los mensajes.", "b) La línea temporal.", "c) La conexión entre objetos.", "d) La duración de la interacción."],
                correctAnswer: "b) La línea temporal."
            },
            {
                question: "¿Qué es RUP en relación con UML?",
                options: ["a) La notación.", "b) La metodología.", "c) El lenguaje de restricciones.", "d) El estándar de intercambio."],
                correctAnswer: "b) La metodología."
            },
            {
                question: "¿Qué capa del metamodelo de soporte de UML corresponde al \"User model\"?",
                options: ["a) M0", "b) M1", "c) M2", "d) M3"],
                correctAnswer: "b) M1"
            },
            {
                question: "¿Qué se puede definir con OCL además de restricciones?",
                options: ["a) Clases.", "b) Casos de prueba.", "c) Objetos.", "d) Interfaces."],
                correctAnswer: "b) Casos de prueba."
            },
            {
                question: "¿Qué es un estereotipo en UML?",
                options: ["a) Una restricción.", "b) Un valor etiquetado.", "c) Un mecanismo para añadir/modificar semántica a un elemento.", "d) Un tipo de perfil."],
                correctAnswer: "c) Un mecanismo para añadir/modificar semántica a un elemento."
            },
            {
                question: "¿Qué define una clase en POO?",
                options: ["a) Solo la estructura.", "b) Solo el comportamiento.", "c) Estructura (atributos) y comportamiento (métodos).", "d) Mensajes."],
                correctAnswer: "c) Estructura (atributos) y comportamiento (métodos)."
            },
            {
                question: "¿Qué se invoca sobre un objeto mediante un mensaje?",
                options: ["a) Un atributo.", "b) Un método.", "c) Una clase.", "d) Una identidad."],
                correctAnswer: "b) Un método."
            },
            {
                question: "¿Qué principio de POO captura los detalles de negocio a modelar?",
                options: ["a) Encapsulamiento.", "b) Polimorfismo.", "c) Herencia.", "d) Abstracción."],
                correctAnswer: "d) Abstracción."
            },
            {
                question: "En un diagrama de clases, ¿qué relación es la de \"todo/parte\"?",
                options: ["a) Agregación.", "b) Composición.", "c) Dependencia.", "d) Asociación."],
                correctAnswer: "b) Composición."
            },
            {
                question: "¿Qué tipo de clase implementa una interfaz en un diagrama de clases?",
                options: ["a) Una clase abstracta.", "b) Una relación de realización.", "c) Una relación de herencia.", "d) Una clase estereotipada."],
                correctAnswer: "b) Una relación de realización."
            },
            {
                question: "¿Qué representan los \"enlaces\" o \"links\" en un diagrama de objetos?",
                options: ["a) Atributos.", "b) Métodos.", "c) Conexiones entre objetos.", "d) Clases."],
                correctAnswer: "c) Conexiones entre objetos."
            },
            {
                question: "¿Qué se usa para unir unos componentes con otros en un diagrama de componentes?",
                options: ["a) Los métodos.", "b) El semicírculo que representa la dependencia.", "c) El círculo que representa los métodos que se pueden usar.", "d) No se especifica."],
                correctAnswer: "c) El círculo que representa los métodos que se pueden usar."
            },
            {
                question: "¿Qué tipo de diagrama de comportamiento se utiliza para plantear pruebas unitarias en las transiciones, donde hay condiciones?",
                options: ["a) Diagrama de actividad.", "b) Diagrama de casos de uso.", "c) Diagrama de máquina de estados.", "d) Diagrama de secuencia."],
                correctAnswer: "c) Diagrama de máquina de estados."
            },
            {
                question: "¿Qué se puede añadir en un diagrama de actividad para mostrar los objetos sobre los que trabajan ciertas actividades?",
                options: ["a) Guardas.", "b) Swimlanes.", "c) Objetos.", "d) Puntos de decisión."],
                correctAnswer: "c) Objetos."
            },
            {
                question: "¿Qué nivel de granularidad capturan los casos de uso?",
                options: ["a) Alto.", "b) Bajo.", "c) Medio-bajo.", "d) Medio-alto."],
                correctAnswer: "c) Medio-bajo."
            },
            {
                question: "¿Qué se muestra en un diagrama de comunicación que no se ve en un diagrama de secuencia?",
                options: ["a) La línea temporal.", "b) Los números que representan el orden.", "c) Los enlaces entre objetos.", "d) Las bifurcaciones."],
                correctAnswer: "c) Los enlaces entre objetos."
            },
            {
                question: "¿Qué permite el polimorfismo en relación con los tipos?",
                options: ["a) Definir nuevos tipos.", "b) Relacionar tipos entre sí y que a veces sean intercambiables.", "c) Convertir un tipo en otro.", "d) Ignorar los tipos."],
                correctAnswer: "b) Relacionar tipos entre sí y que a veces sean intercambiables."
            },
            {
                question: "¿Qué representa una línea con una flecha en el diagrama de clases (según la nota \"Las flechas son de diseño\")?",
                options: ["a) Herencia.", "b) Asociación unidireccional.", "c) Dependencia.", "d) Realización."],
                correctAnswer: "b) Asociación unidireccional."
            },
            {
                question: "¿Qué es un objeto según la definición proporcionada?",
                options: ["a) Una estructura de programación.", "b) El estado (valor de los atributos) y la identidad de un elemento para almacenar información.", "c) Un comportamiento.", "d) Una llamada a un método."],
                correctAnswer: "b) El estado (valor de los atributos) y la identidad de un elemento para almacenar información."
            },
            {
                question: "¿Qué se logra con la composición como técnica para reutilizar sin forzar herencia?",
                options: ["a) Polimorfismo.", "b) Encapsulamiento.", "c) Reutilización.", "d) Abstracción."],
                correctAnswer: "c) Reutilización."
            },
            {
                question: "¿Qué especifica una relación de Dependencia en un diagrama de clases?",
                options: ["a) Contención lógica.", "b) Contención física.", "c) Una semántica entre dos clases o entidades, y debe ir estereotipada.", "d) Una implementación de interfaz."],
                correctAnswer: "c) Una semántica entre dos clases o entidades, y debe ir estereotipada."
            },
            {
                question: "¿Qué representa el círculo en un diagrama de componentes?",
                options: ["a) El puerto del componente.", "b) De quién depende ese interfaz.", "c) Los métodos que puedes usar.", "d) El componente en sí."],
                correctAnswer: "c) Los métodos que puedes usar."
            },
            {
                question: "¿Qué pueden poner varios diagramas de actividad para organizarse?",
                options: ["a) Guardas.", "b) Puntos de decisión.", "c) Capas/calles/swimlanes.", "d) Puntos de fusión."],
                correctAnswer: "c) Capas/calles/swimlanes."
            },
            {
                question: "¿En qué se centran los diagramas de tiempos?",
                options: ["a) El orden de los mensajes.", "b) Las condiciones que cambian dentro y entre las líneas de vida a lo largo de un eje de tiempo lineal.", "c) La interacción entre objetos.", "d) Los estados de un sistema."],
                correctAnswer: "b) Las condiciones que cambian dentro y entre las líneas de vida a lo largo de un eje de tiempo lineal."
            },
            {
                question: "¿Qué es lo que determina el método a invocar en tiempo de ejecución en el polimorfismo?",
                options: ["a) La ligadura estática.", "b) La ligadura dinámica (Late binding).", "c) La sobrecarga.", "d) La herencia."],
                correctAnswer: "b) La ligadura dinámica (Late binding)."
            },
            {
                question: "¿Qué significa que \"los casos de uso no 'explotan' como los DFD's\"?",
                options: ["a) Que no se pueden dividir en subcasos de uso.", "b) Que no reflejan el flujo de datos detallado.", "c) Que no se pueden organizar en paquetes.", "d) Que no pueden tener relaciones de extensión."],
                correctAnswer: "b) Que no reflejan el flujo de datos detallado."
            },
            {
                question: "¿Qué tipo de dato es AccountState en el diagrama de clases?",
                options: ["a) Clase.", "b) Enumeración.", "c) Interfaz.", "d) Atributo."],
                correctAnswer: "b) Enumeración."
            },
            {
                question: "¿Qué significa isReferenceOnly en la clase Book Item?",
                options: ["a) Es un atributo para identificar el libro.", "b) Es un estereotipo de clase.", "c) Es una restricción de tipo Boolean.", "d) Es un método."],
                correctAnswer: "b) Es un estereotipo de clase."
            },
            {
                question: "¿Qué es RFID en la clase Book Item?",
                options: ["a) Un método.", "b) Un atributo.", "c) Una clase asociada.", "d) Un estereotipo."],
                correctAnswer: "b) Un atributo."
            },
            {
                question: "¿Qué tipo de relación hay entre Account y Library?",
                options: ["a) Composición.", "b) Agregación.", "c) Asociación.", "d) Herencia."],
                correctAnswer: "b) Agregación."
            },
            {
                question: "¿Qué tipo de relación hay entre Catalog y Library?",
                options: ["a) Agregación.", "b) Composición.", "c) Asociación.", "d) Dependencia."],
                correctAnswer: "b) Composición."
            },
            {
                question: "¿Qué tipo de relación hay entre Catalog y Search?",
                options: ["a) Asociación.", "b) Composición.", "c) Realización de interfaz.", "d) Dependencia."],
                correctAnswer: "c) Realización de interfaz."
            },
            {
                question: "¿Qué tipo de relación hay entre Search y Patron?",
                options: ["a) Realización de interfaz.", "b) Asociación.", "c) Uso (usage dependency).", "d) Herencia."],
                correctAnswer: "c) Uso (usage dependency)."
            },
            {
                question: "¿Qué representa la multiplicidad 0..1 en el atributo ISBN de la clase Book?",
                options: ["a) Que es opcional.", "b) Que es obligatorio.", "c) Que es una lista.", "d) Que solo puede haber una instancia."],
                correctAnswer: "a) Que es opcional."
            },
            {
                question: "¿Qué representa 1..* en la relación entre Book y Author?",
                options: ["a) Que un autor escribe cero o más libros.", "b) Que un autor escribe uno o más libros.", "c) Que un libro tiene uno o más autores.", "d) Que un libro tiene cero o más autores."],
                correctAnswer: "c) Que un libro tiene uno o más autores."
            },
            {
                question: "¿Qué representa 0..12 en la relación entre Account y Book Item (reservado)?",
                options: ["a) Que una cuenta puede reservar hasta 12 ítems de libro.", "b) Que un ítem de libro puede ser reservado por hasta 12 cuentas.", "c) Que hay al menos 12 reservas.", "d) Que la relación es opcional."],
                correctAnswer: "a) Que una cuenta puede reservar hasta 12 ítems de libro."
            },
            {
                question: "¿Qué indica el rombo negro en la relación entre Library y Patron?",
                options: ["a) Agregación.", "b) Composición.", "c) Asociación.", "d) Herencia."],
                correctAnswer: "b) Composición."
            },
            {
                question: "¿Qué tipo de clase es Book en el diagrama de clases?",
                options: ["a) Estereotipada.", "b) Abstracta.", "c) Entidad.", "d) Interfaz."],
                correctAnswer: "b) Abstracta."
            }
        ];

        // Se obtienen las referencias a los elementos del DOM.
        const quizContainer = document.getElementById('quizContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const restartInlineBtn = document.getElementById('restartInlineBtn');
        const finalScore = document.getElementById('finalScore');
        const scoreDisplay = finalScore.querySelector('.score-display');
        const correctCountSpan = document.getElementById('correctCount');
        const incorrectCountSpan = document.getElementById('incorrectCount');
        const unansweredCountSpan = document.getElementById('unansweredCount');
        const progressBar = document.getElementById('progressBar');
        const restartBtn = document.getElementById('restartBtn');

        // Variables de estado del quiz.
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let scoredQuestions = new Array(questions.length).fill(null);

        // Se carga la primera pregunta al cargar la página.
        window.onload = function() {
            // Se añaden los listeners para los botones de navegación y reinicio.
            prevBtn.addEventListener('click', () => navigateQuiz(-1));
            nextBtn.addEventListener('click', () => navigateQuiz(1));
            restartInlineBtn.addEventListener('click', restartQuiz);
            restartBtn.addEventListener('click', restartQuiz);
            
            loadQuestion();
            updateProgressBar();
        };

        /**
         * Carga la pregunta actual en la interfaz.
         */
        function loadQuestion() {
            // Se oculta la puntuación final si está visible.
            quizContainer.classList.remove('hidden');
            document.querySelector('.navigation-buttons').classList.remove('hidden');
            finalScore.classList.add('hidden');

            const currentQuestion = questions[currentQuestionIndex];
            const savedAnswer = userAnswers[currentQuestionIndex];

            // Se crea el HTML de la pregunta.
            const questionHtml = `
                <div class="question-card">
                    <p class="question-text">${currentQuestionIndex + 1}. ${currentQuestion.question}</p>
                    <div id="optionsContainer">
                        ${currentQuestion.options.map((option, index) => `
                            <button 
                                class="option-button" 
                                data-option="${option}"
                                ${savedAnswer !== null ? 'disabled' : ''}
                            >${option}</button>
                        `).join('')}
                    </div>
                </div>
            `;
            quizContainer.innerHTML = questionHtml;

            // Se añade el "event listener" al contenedor de opciones para manejar los clics.
            const optionsContainer = document.getElementById('optionsContainer');
            if (savedAnswer === null) {
                optionsContainer.addEventListener('click', handleOptionClick);
            }

            // Si el usuario ya respondió, se muestran los estilos de la respuesta guardada.
            if (savedAnswer !== null) {
                applyAnswerStyles(currentQuestion, savedAnswer);
            }
            
            updateNavigationButtons();
        }

        /**
         * Maneja el clic en una opción.
         * @param {Event} event - El evento del clic.
         */
        function handleOptionClick(event) {
            const selectedButton = event.target.closest('.option-button');
            if (!selectedButton) return;

            const userChoice = selectedButton.dataset.option;
            const currentQuestion = questions[currentQuestionIndex];

            // Se guarda la respuesta del usuario.
            userAnswers[currentQuestionIndex] = userChoice;
            
            // Se deshabilitan los botones para evitar más respuestas en esta pregunta.
            document.getElementById('optionsContainer').removeEventListener('click', handleOptionClick);
            document.querySelectorAll('.option-button').forEach(button => button.disabled = true);
            
            // Se verifica la respuesta y se actualiza el estado.
            checkAnswer(currentQuestion, userChoice);

            // Se aplican los estilos de feedback.
            applyAnswerStyles(currentQuestion, userChoice);
        }

        /**
         * Verifica si la respuesta es correcta y actualiza la puntuación.
         * @param {Object} currentQuestion - La pregunta actual.
         * @param {string} userChoice - La opción seleccionada por el usuario.
         */
        function checkAnswer(currentQuestion, userChoice) {
            if (scoredQuestions[currentQuestionIndex] !== null) return;

            if (userChoice === currentQuestion.correctAnswer) {
                scoredQuestions[currentQuestionIndex] = true;
            } else {
                scoredQuestions[currentQuestionIndex] = false;
            }
        }

        /**
         * Aplica los estilos de respuesta correcta/incorrecta a los botones.
         * @param {Object} question - La pregunta actual.
         * @param {string} userChoice - La opción seleccionada por el usuario.
         */
        function applyAnswerStyles(question, userChoice) {
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.querySelectorAll('.option-button').forEach(button => {
                const option = button.dataset.option;
                if (option === question.correctAnswer) {
                    button.classList.add('correct-answer');
                }
                if (option === userChoice && option !== question.correctAnswer) {
                    button.classList.add('incorrect-answer');
                }
                button.disabled = true; // Se deshabilitan todos los botones
            });

            const questionCard = optionsContainer.closest('.question-card');
            const feedbackMessage = document.createElement('p');
            feedbackMessage.classList.add('feedback');

            if (userChoice === question.correctAnswer) {
                questionCard.classList.add('correct');
                feedbackMessage.textContent = '¡Correcto!';
                feedbackMessage.classList.add('correct');
            } else {
                questionCard.classList.add('incorrect');
                feedbackMessage.textContent = 'Incorrecto. La respuesta correcta es la marcada en verde.';
                feedbackMessage.classList.add('incorrect');
            }
            questionCard.appendChild(feedbackMessage);
        }
        
        /**
         * Navega a la pregunta anterior o siguiente.
         * @param {number} direction - 1 para siguiente, -1 para anterior.
         */
        function navigateQuiz(direction) {
            currentQuestionIndex += direction;
            if (currentQuestionIndex < 0) {
                currentQuestionIndex = 0;
            } else if (currentQuestionIndex >= questions.length) {
                // Si llegamos al final, se muestra la puntuación final.
                showFinalScore();
            } else {
                loadQuestion();
                updateProgressBar();
            }
        }

        /**
         * Actualiza el estado de los botones de navegación.
         */
        function updateNavigationButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.textContent = "Finalizar Test";
            } else {
                nextBtn.textContent = "Siguiente";
            }
        }

        /**
         * Muestra la puntuación final y el resumen.
         */
        function showFinalScore() {
            let correctCount = scoredQuestions.filter(isCorrect => isCorrect === true).length;
            let incorrectCount = scoredQuestions.filter(isCorrect => isCorrect === false).length;
            let unansweredCount = questions.length - correctCount - incorrectCount;

            scoreDisplay.textContent = `Puntuación: ${correctCount} / ${questions.length}`;
            correctCountSpan.textContent = correctCount;
            incorrectCountSpan.textContent = incorrectCount;
            unansweredCountSpan.textContent = unansweredCount;

            quizContainer.classList.add('hidden');
            document.querySelector('.navigation-buttons').classList.add('hidden');
            finalScore.classList.remove('hidden');
        }

        /**
         * Reinicia el quiz a su estado inicial.
         */
        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers = new Array(questions.length).fill(null);
            scoredQuestions = new Array(questions.length).fill(null);
            loadQuestion();
            updateProgressBar();
            
            // Se asegura de que la puntuación final esté oculta.
            finalScore.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            document.querySelector('.navigation-buttons').classList.remove('hidden');
        }
        
        /**
         * Actualiza la barra de progreso.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }
    </script>
</body>
</html>





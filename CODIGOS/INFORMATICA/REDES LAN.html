<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Interactivo de Redes LAN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .quiz-header {
            position: relative;
            margin-bottom: 20px;
        }
        .progress-bar-container {
            height: 8px;
            width: 100%;
            background-color: #e2e8f0;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            width: 0;
            background-color: #4299e1;
            transition: width 0.3s ease-in-out;
        }
        .question-text {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            min-height: 80px; /* Asegura un espacio consistente para el texto */
            display: flex;
            align-items: center;
            justify-content: center;
            color: #2c3e50;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }
        .option-button {
            width: 100%;
            padding: 15px 20px;
            border-radius: 10px;
            background-color: #f7fafc;
            border: 2px solid #e2e8f0;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            color: #4a5568;
            font-weight: 600;
        }
        .option-button:hover:not([disabled]) {
            background-color: #edf2f7;
            border-color: #cbd5e0;
        }
        .option-button.correct {
            background-color: #d4edda;
            border-color: #28a745;
            color: #155724;
        }
        .option-button.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }
        .correct::after {
            content: '✓';
            float: right;
            font-size: 1.25rem;
            color: #28a745;
        }
        .incorrect::after {
            content: '✗';
            float: right;
            font-size: 1.25rem;
            color: #dc3545;
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }
        .nav-button {
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: 700;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        .prev-button {
            background-color: #a0aec0;
            color: #ffffff;
        }
        .prev-button:hover:not([disabled]) {
            background-color: #718096;
        }
        .next-button {
            background-color: #4299e1;
            color: #ffffff;
        }
        .next-button:hover:not([disabled]) {
            background-color: #3182ce;
        }
        .restart-button {
            background-color: #f6ad55;
            color: #ffffff;
        }
        .restart-button:hover {
            background-color: #ed8936;
        }
        [disabled] {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-3xl font-bold text-gray-900 mb-4">Test Interactivo de Redes LAN</h1>
        
        <!-- Contenedor del Quiz -->
        <div id="quizContainer" class="quiz-content">
            <div class="quiz-header">
                <div class="progress-bar-container">
                    <div id="progressBar" class="progress-bar"></div>
                </div>
                <p id="questionNumber" class="text-lg text-gray-600 font-semibold mb-4"></p>
            </div>
            
            <p id="questionText" class="question-text"></p>
            
            <div id="optionsContainer" class="options-container">
                <!-- Los botones de opciones se generarán aquí -->
            </div>
            
            <div class="navigation-buttons">
                <button id="prevButton" class="nav-button prev-button w-1/2" disabled>Anterior</button>
                <button id="nextButton" class="nav-button next-button w-1/2" disabled>Siguiente</button>
            </div>
        </div>

        <!-- Contenedor de Resultados (inicialmente oculto) -->
        <div id="resultContainer" class="hidden text-center">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Resultados</h2>
            <p id="scoreDisplay" class="text-2xl font-semibold text-gray-700 mb-4"></p>
            <button id="restartButton" class="nav-button restart-button">Reiniciar Test</button>
        </div>
    </div>

    <script>
        // Array de objetos con las preguntas, opciones y respuestas correctas.
        const questions = [
            {
                question: "¿Qué tipo de red se caracteriza por tener un canal compartido entre todos los terminales y utilizar dispositivos como un Hub o Concentrador?",
                options: ["A) Red punto a punto", "B) Red de difusión", "C) Red MAN", "D) Red WAN"],
                answer: "B) Red de difusión"
            },
            {
                question: "En una red punto a punto, ¿es necesario especificar la dirección de destino?",
                options: ["A) Sí, siempre.", "B) No, el destino es unívoco.", "C) Solo si se utiliza transmisión Half-Duplex.", "D) Depende de la modalidad de transmisión."],
                answer: "B) No, el destino es unívoco."
            },
            {
                question: "¿Qué norma IEEE se asocia con las redes LAN?",
                options: ["A) IEEE 802.15", "B) IEEE 802.3", "C) IEEE 802.11", "D) IEEE 802.16"],
                answer: "B) IEEE 802.3"
            },
            {
                question: "¿Cuál es el alcance geográfico aproximado de una red LAN?",
                options: ["A) 10-100 metros", "B) 10-100 kilómetros", "C) 300 metros - 1 kilómetro", "D) Alcance global"],
                answer: "A) 10-100 metros"
            },
            {
                question: "¿Qué término se utiliza para las reglas que definen cómo un equipo pone/toma datos en la red, también conocidas como MAC (Medium Access Control)?",
                options: ["A) Topologías de red", "B) Modalidades de transmisión", "C) Técnicas de acceso al medio", "D) Protocolos de enrutamiento"],
                answer: "C) Técnicas de acceso al medio"
            },
            {
                question: "En las técnicas de acceso controlado, ¿qué método requiere un control centralizado donde una estación central sondea al resto para asignar un tiempo de envío?",
                options: ["A) Reserva", "B) Polling", "C) Token / Paso de testigo", "D) CSMA/CD"],
                answer: "B) Polling"
            },
            {
                question: "¿Qué técnica de acceso controlado se describe por pasar un \"token\" entre las estaciones, permitiendo transmitir a la estación que posee el token?",
                options: ["A) Polling", "B) Reserva", "C) Token / Paso de testigo", "D) Aloha"],
                answer: "C) Token / Paso de testigo"
            },
            {
                question: "La norma 802.4, conocida como Token-Bus, ¿qué topología física y lógica utiliza?",
                options: ["A) Física en estrella y lógica en anillo", "B) Física en bus y lógica en anillo", "C) Física en anillo y lógica en bus", "D) Ambas en bus"],
                answer: "B) Física en bus y lógica en anillo"
            },
            {
                question: "¿Qué norma se asocia con Token-Ring, que tiene una topología física en estrella y lógica en anillo?",
                options: ["A) 802.3", "B) 802.4", "C) 802.5", "D) 802.11"],
                answer: "C) 802.5"
            },
            {
                question: "En el acceso aleatorio, ¿qué técnica implica que una estación que desea transmitir lo hace y luego escucha si hay una colisión, esperando un tiempo aleatorio para retransmitir si la detecta?",
                options: ["A) CSMA", "B) Aloha", "C) CSMA/CD", "D) CSMA/CA"],
                answer: "C) CSMA/CD"
            },
            {
                question: "¿Qué técnica de acceso aleatorio se utilizó en Ethernet 802.3 cuando era half-duplex, donde se escucha antes de transmitir y se interrumpe la transmisión si se detecta una colisión?",
                options: ["A) CSMA", "B) Aloha ranurado", "C) CSMA/CD", "D) CSMA/CA"],
                answer: "C) CSMA/CD"
            },
            {
                question: "¿Qué técnica de canalización permite que cada estación tenga un slot de tiempo para emitir, pudiendo ser la transmisión síncrona o estadística?",
                options: ["A) FDMA", "B) TDMA", "C) CDMA", "D) CSMA"],
                answer: "B) TDMA"
            },
            {
                question: "¿Según la IEEE, ¿cuál es el alcance geográfico máximo de una red LAN?",
                options: ["A) 100 metros", "B) 1 kilómetro", "C) 10 kilómetros", "D) 100 kilómetros"],
                answer: "B) 1 kilómetro"
            },
            {
                question: "¿En qué dos subniveles subdivide la IEEE el nivel de Enlace de OSI?",
                options: ["A) MAC y IP", "B) LLC y MAC", "C) TCP y UDP", "D) Físico y Red"],
                answer: "B) LLC y MAC"
            },
            {
                question: "¿Cuál es la función principal del subnivel MAC (Medium Access Control)?",
                options: ["A) Ensamblar y desensamblar tramas.", "B) Controlar el acceso al medio físico para que múltiples estaciones puedan compartirlo.", "C) Comprobar direcciones lógicas.", "D) Gestionar la asignación de direcciones IP."],
                answer: "B) Controlar el acceso al medio físico para que múltiples estaciones puedan compartirlo."
            },
            {
                question: "¿Qué tipo de trama Ethernet es la más pequeña y tiene un tamaño de 64 bytes?",
                options: ["A) Jumboframe", "B) Ethernet II", "C) Runt Frame", "D) Ethernet 802.3"],
                answer: "C) Runt Frame"
            },
            {
                question: "¿Cuál es la codificación utilizada en Ethernet para evitar la pérdida de sincronismo al enviar secuencias de ceros y unos?",
                options: ["A) NRZ", "B) Manchester", "C) RZ", "D) AMI"],
                answer: "B) Manchester"
            },
            {
                question: "En una dirección MAC, ¿cuántos octetos identifican al fabricante (OUI)?",
                options: ["A) 1", "B) 2", "C) 3", "D) 6"],
                answer: "C) 3"
            },
            {
                question: "Si el último bit del primer octeto de una dirección MAC está a 1, ¿qué tipo de mensaje indica?",
                options: ["A) Unicast", "B) Broadcast", "C) Multicast", "D) Error de transmisión"],
                answer: "C) Multicast"
            },
            {
                question: "Una trama multicast en Ethernet, ¿por qué valores suele comenzar?",
                options: ["A) FF:FF:FF:FF:FF:FF", "B) 01:00:5E", "C) 00:00:00:00:00:01", "D) Cualquier valor aleatorio"],
                answer: "B) 01:00:5E"
            },
            {
                question: "¿Qué es un dominio de colisión?",
                options: ["A) Un conjunto de nodos que no comparten el mismo medio de transmisión.", "B) Un conjunto de nodos que comparten el mismo medio de transmisión y compiten por el acceso.", "C) Un área geográfica donde no pueden producirse colisiones.", "D) Una red que utiliza solo switches."],
                answer: "B) Un conjunto de nodos que comparten el mismo medio de transmisión y compiten por el acceso."
            },
            {
                question: "¿Cómo se mejora el rendimiento de una red cuando el dominio de colisión es muy grande?",
                options: ["A) Aumentando el número de equipos.", "B) No haciendo nada, el rendimiento no se ve afectado.", "C) Segmentando la red.", "D) Utilizando un Hub."],
                answer: "C) Segmentando la red."
            },
            {
                question: "¿Qué dispositivo de interconexión trabaja a nivel 1 (físico), regenera y amplifica la señal, y extiende el dominio de colisión?",
                options: ["A) Hub", "B) Switch", "C) Bridge", "D) Router"],
                answer: "A) Hub"
            },
            {
                question: "¿Qué dispositivo de interconexión separa dominios de colisión pero no de difusión, y aprende las MAC de los equipos de la red en una tabla?",
                options: ["A) Router", "B) Hub", "C) Bridge", "D) Repetidor"],
                answer: "C) Bridge"
            },
            {
                question: "¿Qué dispositivo de interconexión trabaja a nivel 2, es la evolución de los bridges transparentes y separa dominios de colisión pero no de difusión?",
                options: ["A) Hub", "B) Router", "C) Switch", "D) Gateway"],
                answer: "C) Switch"
            },
            {
                question: "¿Cómo se denomina la función de los switches que permite aumentar el ancho de banda de los puertos unidos (como ether-channel o port-channel en Cisco)?",
                options: ["A) Segmentación de red", "B) Spanning Tree", "C) Agregación de enlaces", "D) Encaminamiento"],
                answer: "C) Agregación de enlaces"
            },
            {
                question: "¿Qué norma IEEE se asocia con el soporte para redes virtuales (VLAN)?",
                options: ["A) 802.1d", "B) 802.1q", "C) 802.1w", "D) 802.3"],
                answer: "B) 802.1q"
            },
            {
                question: "¿Qué tipo de BPDU (Bridge Protocol Data Units) avisa sobre cambios en la topología de la red?",
                options: ["A) BPDU de configuración", "B) TCN (Topology Change Notification)", "C) BPDU de autenticación", "D) BPDU de sincronización"],
                answer: "B) TCN (Topology Change Notification)"
            },
            {
                question: "¿Qué dispositivo de interconexión soporta hasta el nivel 3 de OSI y separa tanto dominios de colisión como de difusión?",
                options: ["A) Hub", "B) Switch", "C) Router", "D) Bridge"],
                answer: "C) Router"
            },
            {
                question: "¿Qué dispositivo de interconexión opera en los niveles más altos de OSI (4-7) y se encarga de interconectar redes con protocolos de alto nivel diferentes?",
                options: ["A) Router", "B) Switch", "C) Gateway", "D) Firewall"],
                answer: "C) Gateway"
            },
            {
                question: "¿Cuál es una de las desventajas principales de un Gateway?",
                options: ["A) Separa dominios de colisión.", "B) Son muy económicos.", "C) La conversión de protocolos puede suponer una alta carga y producir cuellos de botella.", "D) No permiten la interconexión de protocolos."],
                answer: "C) La conversión de protocolos puede suponer una alta carga y producir cuellos de botella."
            },
            {
                question: "¿Qué dispositivo restringe el intercambio de tráfico entre redes y puede usarse para segmentar una red local en subredes?",
                options: ["A) Router", "B) Switch", "C) Firewall", "D) Proxy"],
                answer: "C) Firewall"
            },
            {
                question: "¿A qué nivel operan las reglas de un cortafuegos de filtrado de paquetes?",
                options: ["A) Nivel 2", "B) Nivel 3", "C) Nivel 4", "D) Nivel 7"],
                answer: "B) Nivel 3"
            },
            {
                question: "¿Qué dispositivo actúa como intermediario para el acceso a servicios y puede incluir funciones como NAT de salida o cacheado de contenidos?",
                options: ["A) Router", "B) Switch", "C) Firewall", "D) Proxy"],
                answer: "D) Proxy"
            },
            {
                question: "¿Qué tipo de proxy está situado en la parte de los clientes, permitiéndoles el acceso a servicios o servidores?",
                options: ["A) Inverso o reverse", "B) Directo o forward", "C) Transparente", "D) Abierto"],
                answer: "B) Directo o forward"
            },
            {
                question: "¿Qué tipo de proxy es considerado más seguro porque el servidor solo aceptará peticiones del proxy y no directamente de los clientes?",
                options: ["A) Directo o forward", "B) Inverso o reverse", "C) Transparente", "D) Abierto"],
                answer: "B) Inverso o reverse"
            },
            {
                question: "¿Qué es una Zona Desmilitarizada (DMZ)?",
                options: ["A) Una subred que no tiene conexión a Internet.", "B) Una zona donde se ubican los servidores corporativos y repositorios de datos.", "C) Una subred aislada del exterior y de la LAN por los cortafuegos, donde se suelen ubicar servidores accesibles desde el exterior.", "D) Un segmento de red sin ningún dispositivo de seguridad."],
                answer: "C) Una subred aislada del exterior y de la LAN por los cortafuegos, donde se suelen ubicar servidores accesibles desde el exterior."
            },
            {
                question: "¿Sobre qué protocolo de la capa de transporte opera DHCP?",
                options: ["A) TCP", "B) UDP", "C) ICMP", "D) HTTP"],
                answer: "B) UDP"
            },
            {
                question: "¿Qué método de asignación de direcciones IP de DHCP permite la reutilización dinámica de las direcciones IP de un Pool, con un tiempo de \"préstamo\"?",
                options: ["A) Manual o estática", "B) Automática", "C) Dinámica", "D) Fija"],
                answer: "C) Dinámica"
            },
            {
                question: "En el proceso DORA de DHCP, ¿cuál es el primer paso donde el cliente pregunta qué servidores DHCP hay?",
                options: ["A) Oferta (DHCPOFFER)", "B) Solicitud (DHCPREQUEST)", "C) Confirmación (DHCPACK)", "D) Descubrimiento (DHCPDISCOVER)"],
                answer: "D) Descubrimiento (DHCPDISCOVER)"
            },
            {
                question: "¿Cuál es el puerto de destino UDP que utiliza el cliente DHCP para el mensaje DHCPDISCOVER?",
                options: ["A) 67", "B) 68", "C) 53", "D) 80"],
                answer: "B) 68"
            },
            {
                question: "Cuando un cliente DHCP solicita una IP (DHCPREQUEST), ¿por qué tipo de dirección IP de destino se envía el mensaje para avisar al resto de servidores?",
                options: ["A) La IP propuesta", "B) La MAC del servidor", "C) 255.255.255.255 (broadcast)", "D) La IP de gateway"],
                answer: "C) 255.255.255.255 (broadcast)"
            },
            {
                question: "¿Cuál es el puerto UDP que utiliza el servidor DHCP para los mensajes?",
                options: ["A) 68", "B) 67", "C) 53", "D) 21"],
                answer: "B) 67"
            },
            {
                question: "¿Qué norma IEEE se asocia con VLANs?",
                options: ["A) 802.1d", "B) 802.1q", "C) 802.1w", "D) 802.3"],
                answer: "B) 802.1q"
            },
            {
                question: "Por defecto, ¿qué VLAN crea un switch con todos los equipos?",
                options: ["A) VLAN 0", "B) VLAN 1", "C) VLAN 100", "D) No crea ninguna por defecto"],
                answer: "B) VLAN 1"
            },
            {
                question: "¿Qué protocolo se utiliza para propagar la definición de VLANs al resto de switches en una red?",
                options: ["A) STP", "B) RSTP", "C) VTP", "D) DHCP"],
                answer: "C) VTP"
            },
            {
                question: "En la terminología de Cisco, ¿cómo se denominan los puertos de un switch que son \"etiquetados\" y por donde viaja el tráfico etiquetado entre switches?",
                options: ["A) Access", "B) Trunk", "C) Native", "D) Untagged"],
                answer: "B) Trunk"
            },
            {
                question: "¿Cuántos bits se utilizan para el ID de la VLAN en la cabecera 802.1q?",
                options: ["A) 8 bits", "B) 12 bits", "C) 16 bits", "D) 32 bits"],
                answer: "B) 12 bits"
            },
            {
                question: "¿Quién es el encargado de colocar la etiqueta 802.1q en una trama Ethernet?",
                options: ["A) El host", "B) El router", "C) El switch", "D) El servidor DHCP"],
                answer: "C) El switch"
            },
            {
                question: "¿Qué norma IEEE se refiere al control de acceso a redes en base a puertos?",
                options: ["A) 802.1q", "B) 802.1d", "C) 802.1x", "D) 802.2"],
                answer: "C) 802.1x"
            },
            {
                question: "¿Qué norma IEEE se asocia con Ethernet?",
                options: ["A) 802.1", "B) 802.2", "C) 802.3", "D) 802.4"],
                answer: "C) 802.3"
            },
            {
                question: "¿Qué norma IEEE define Fast Ethernet (100 Mbps)?",
                options: ["A) 802.3", "B) 802.3u", "C) 802.3z", "D) 802.3ae"],
                answer: "B) 802.3u"
            },
            {
                question: "¿Qué norma IEEE define Giga Ethernet para par trenzado (1 Gbps)?",
                options: ["A) 802.3u", "B) 82.3z", "C) 802.3ab", "D) 802.3ae"],
                answer: "C) 802.3ab"
            },
            {
                question: "¿Qué norma IEEE se refiere a Power over Ethernet (PoE) con un máximo de 15.4 W por boca?",
                options: ["A) 802.3af", "B) 802.3at", "C) 802.3bt", "D) 802.3ae"],
                answer: "A) 802.3af"
            },
            {
                question: "¿Qué norma IEEE se refiere a Token Bus?",
                options: ["A) 802.3", "B) 802.4", "C) 802.5", "D) 802.11"],
                answer: "B) 802.4"
            }
        ];

        // Variables de estado del quiz
        let currentQuestionIndex = 0;
        let score = 0;
        let answeredQuestions = new Array(questions.length).fill(false);
        let userAnswers = new Array(questions.length).fill(null);

        // Referencias a elementos del DOM
        const quizContainer = document.getElementById('quizContainer');
        const resultContainer = document.getElementById('resultContainer');
        const progressBar = document.getElementById('progressBar');
        const questionNumberDisplay = document.getElementById('questionNumber');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const restartButton = document.getElementById('restartButton');
        const scoreDisplay = document.getElementById('scoreDisplay');

        // Función para cargar una pregunta
        function loadQuestion() {
            // Limpiar el contenedor de opciones y de cualquier estilo de respuesta anterior
            optionsContainer.innerHTML = '';
            
            // Actualizar el progreso y el número de pregunta
            updateProgressBar();
            questionNumberDisplay.textContent = `Pregunta ${currentQuestionIndex + 1} de ${questions.length}`;

            // Obtener la pregunta actual
            const currentQuestion = questions[currentQuestionIndex];
            questionText.textContent = currentQuestion.question;

            // Renderizar las opciones
            currentQuestion.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-button');
                button.addEventListener('click', () => handleAnswerClick(option, button));
                
                // Si la pregunta ya fue respondida, mostrar el resultado guardado
                if (answeredQuestions[currentQuestionIndex]) {
                    button.disabled = true;
                    if (option === userAnswers[currentQuestionIndex]) {
                        if (option === currentQuestion.answer) {
                            button.classList.add('correct');
                        } else {
                            button.classList.add('incorrect');
                        }
                    } else if (option === currentQuestion.answer) {
                        button.classList.add('correct');
                    }
                }
                optionsContainer.appendChild(button);
            });

            // Actualizar la visibilidad y estado de los botones de navegación
            prevButton.disabled = currentQuestionIndex === 0;
            nextButton.disabled = !answeredQuestions[currentQuestionIndex] && currentQuestionIndex < questions.length;
            if (currentQuestionIndex === questions.length - 1) {
                nextButton.textContent = "Ver Resultados";
            } else {
                nextButton.textContent = "Siguiente";
            }
        }

        // Función para manejar el clic en una opción de respuesta
        function handleAnswerClick(selectedOption, clickedButton) {
            if (answeredQuestions[currentQuestionIndex]) return;

            const currentQuestion = questions[currentQuestionIndex];
            const isCorrect = selectedOption === currentQuestion.answer;

            // Actualizar puntuación si la respuesta es correcta
            if (isCorrect) {
                score++;
            }

            // Marcar la pregunta como respondida y guardar la respuesta del usuario
            answeredQuestions[currentQuestionIndex] = true;
            userAnswers[currentQuestionIndex] = selectedOption;

            // Resaltar la opción seleccionada y la correcta
            optionsContainer.querySelectorAll('.option-button').forEach(button => {
                button.disabled = true;
                if (button === clickedButton) {
                    if (isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                }
            });
            
            // Si la respuesta es incorrecta, resaltar también la correcta
            if (!isCorrect) {
                const correctButton = Array.from(optionsContainer.querySelectorAll('.option-button')).find(btn => btn.textContent === currentQuestion.answer);
                if (correctButton) {
                    correctButton.classList.add('correct');
                }
            }
            
            // Habilitar el botón "Siguiente"
            nextButton.disabled = false;
        }

        // Función para actualizar la barra de progreso
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Función para mostrar los resultados
        function showResults() {
            quizContainer.classList.add('hidden');
            resultContainer.classList.remove('hidden');
            scoreDisplay.textContent = `Has respondido correctamente ${score} de ${questions.length} preguntas.`;
        }

        // Event Listeners
        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        });

        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else if (currentQuestionIndex === questions.length - 1 && answeredQuestions[currentQuestionIndex]) {
                showResults();
            }
        });

        restartButton.addEventListener('click', () => {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers.fill(null);
            answeredQuestions.fill(false);
            quizContainer.classList.remove('hidden');
            resultContainer.classList.add('hidden');
            loadQuestion();
        });

        // Cargar la primera pregunta al inicio
        window.onload = loadQuestion;
    </script>
</body>
</html>


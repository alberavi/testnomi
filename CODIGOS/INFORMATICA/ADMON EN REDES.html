<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADMON EN REDES</title>
    <!-- Enlace a Tailwind CSS para las clases de la estructura HTML -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS completo para el estilo del quiz -->
    <style>
        /* Estilos generales del cuerpo */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }

        /* Contenedor principal del quiz */
        .container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin-top: 20px;
        }

        /* Tarjeta de la pregunta */
        .question-card {
            background-color: #f8fafc;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease-in-out;
        }

        /* Estilo para la tarjeta de pregunta correcta */
        .question-card.correct {
            background-color: #d4edda;
            border-color: #28a745;
        }

        /* Estilo para la tarjeta de pregunta incorrecta */
        .question-card.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
        }

        /* Texto de la pregunta */
        .question-text {
            font-size: 1.15rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        /* Botones de opciones */
        .option-button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 12px 18px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #cbd5e0;
            background-color: #ffffff;
            color: #4a5568;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        /* Efecto hover para los botones de opciones */
        .option-button:hover:not(.disabled) {
            background-color: #e2e8f0;
            border-color: #a0aec0;
        }

        /* Estilo para el botón de opción seleccionado */
        .option-button.selected {
            border-color: #4299e1;
            background-color: #ebf8ff;
            font-weight: 600;
        }

        /* Estilo para la respuesta correcta */
        .option-button.correct-answer {
            background-color: #28a745;
            color: #ffffff;
            border-color: #28a745;
            font-weight: 700;
        }

        /* Estilo para la respuesta incorrecta */
        .option-button.incorrect-answer {
            background-color: #dc3545;
            color: #ffffff;
            border-color: #dc3545;
            font-weight: 700;
        }

        /* Estilo para los botones deshabilitados */
        .option-button.disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        /* Contenedor de la solución */
        .solution {
            margin-top: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            background-color: #e0f2f7;
            color: #2c5282;
            font-size: 0.95rem;
            font-weight: 500;
            border: 1px solid #90cdf4;
        }

        /* Contenedor del feedback (correcto/incorrecto) */
        .feedback {
            margin-top: 15px;
            font-weight: 600;
            font-size: 1rem;
            text-align: center;
        }

        /* Estilo para feedback correcto */
        .feedback.correct {
            color: #28a745;
        }

        /* Estilo para feedback incorrecto */
        .feedback.incorrect {
            color: #dc3545;
        }

        /* Contenedor de los botones de navegación */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        /* Estilo base para los botones de navegación */
        .nav-button {
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
            text-align: center;
        }

        /* Estilo para el botón "Anterior" */
        .nav-button.prev {
            background-color: #6b7280;
            color: #ffffff;
        }
        .nav-button.prev:hover:not(:disabled) {
            background-color: #4b5563;
            transform: translateY(-2px);
        }

        /* Estilo para el botón "Siguiente" */
        .nav-button.next {
            background-color: #4299e1;
            color: #ffffff;
        }
        .nav-button.next:hover:not(:disabled) {
            background-color: #3182ce;
            transform: translateY(-2px);
        }

        /* Estilo para el botón de reinicio en línea */
        .nav-button.restart-inline {
            background-color: #f50b0b;
            color: #ffffff;
        }
        .nav-button.restart-inline:hover:not(:disabled) {
            background-color: #ac0505;
            transform: translateY(-2px);
        }

        /* Estilo para los botones deshabilitados */
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Barra de progreso */
        .progress-bar-container {
            width: 100%;
            background-color: #e2e8f0;
            border-radius: 5px;
            height: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: #4299e1;
            width: 0%;
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        /* Visualización de la puntuación final */
        .score-display {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-top: 20px;
        }

        /* Resumen de resultados */
        .results-summary {
            margin-top: 20px;
            padding: 20px;
            background-color: #f8fafc;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
        }

        .results-summary p {
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: #2d3748;
        }

        .results-summary p strong {
            font-weight: 700;
        }

        /* Botón de reinicio final */
        .restart-button {
            display: block;
            width: fit-content;
            margin: 20px auto 0 auto;
            padding: 12px 30px;
            background-color: #48bb78;
            color: #ffffff;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .restart-button:hover {
            background-color: #38a169;
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
         <h1 style="color: #003366; font-family: 'Georgia', serif; font-size: 3rem; text-align: center; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);">ADMON EN REDES</h1>

        <!-- Barra de progreso -->
        <div class="progress-bar-container">
            <div id="progressBar" class="progress-bar"></div>
        </div>

        <!-- Contenedor principal de las preguntas -->
        <div id="quizContainer">
            <!-- Las preguntas se cargarán dinámicamente aquí -->
        </div>

        <!-- Botones de navegación -->
        <div class="navigation-buttons">
            <button id="prevBtn" class="nav-button prev" disabled>Anterior</button>
            <button id="restartInlineBtn" class="nav-button restart-inline">Reiniciar Test</button>
            <button id="nextBtn" class="nav-button next">Siguiente</button>
        </div>

        <!-- Contenedor de la puntuación final -->
        <div id="finalScore" class="hidden">
            <div class="score-display"></div>
            <div class="results-summary">
                <p><strong>Preguntas Correctas:</strong> <span id="correctCount">0</span></p>
                <p><strong>Preguntas Incorrectas:</strong> <span id="incorrectCount">0</span></p>
                <p><strong>Preguntas Sin Contestar:</strong> <span id="unansweredCount">0</span></p>
            </div>
            <button id="restartBtn" class="restart-button">Reiniciar Test</button>
        </div>
    </div>
    <script>
        const questions = [
            {
                question: "¿Cuál de las siguientes no es una función de la administración de redes según el documento?",
                options: [
                    "a) Planificación y diseño de la red.",
                    "b) Gestión de inventario de hardware.",
                    "c) Gestión de usuarios y grupos.",
                    "d) Gestión de la seguridad."
                ],
                correctAnswer: "c) Gestión de usuarios y grupos."
            },
            {
                question: "¿Qué protocolo se menciona para la gestión de usuarios y grupos?",
                options: [
                    "a) SNMP",
                    "b) LDAP",
                    "c) VLAN",
                    "d) STP"
                ],
                correctAnswer: "b) LDAP"
            },
            {
                question: "¿Qué tecnología se utiliza para la gestión de almacenamiento en redes SAN?",
                options: [
                    "a) Subnetting",
                    "b) VLAN",
                    "c) Zoning, LUN",
                    "d) IPP"
                ],
                correctAnswer: "c) Zoning, LUN"
            },
            {
                question: "Para la gestión de la seguridad, ¿qué herramientas se mencionan?",
                options: [
                    "a) Switch y router",
                    "b) Firewall, IDS/IPS, análisis de vulnerabilidades",
                    "c) SAN y NAS",
                    "d) Librerías LTO"
                ],
                correctAnswer: "b) Firewall, IDS/IPS, análisis de vulnerabilidades"
            },
            {
                question: "¿Qué protocolo se utiliza para la monitorización y supervisión de redes, según el documento?",
                options: [
                    "a) HTTP",
                    "b) FTP",
                    "c) SNMP",
                    "d) SMTP"
                ],
                correctAnswer: "c) SNMP"
            },
            {
                question: "¿Sobre qué protocolo de la capa de transporte opera SNMP?",
                options: [
                    "a) TCP",
                    "b) UDP",
                    "c) ICMP",
                    "d) SCTP"
                ],
                correctAnswer: "b) UDP"
            },
            {
                question: "¿De qué protocolo anterior deriva SNMP?",
                options: [
                    "a) HTTP",
                    "b) SGMP",
                    "c) FTP",
                    "d) SMTP"
                ],
                correctAnswer: "b) SGMP"
            },
            {
                question: "¿En qué RFC se define la Estructura de Información de Gestión (SMI)?",
                options: [
                    "a) RFC 1157",
                    "b) RFC 1213",
                    "c) RFC 1155",
                    "d) RFC 1156"
                ],
                correctAnswer: "c) RFC 1155"
            },
            {
                question: "En el modelo Cliente/Servidor de SNMP, ¿cómo se denomina la estación central?",
                options: [
                    "a) Agente",
                    "b) NMS (Network Management System)",
                    "c) MIB",
                    "d) OID"
                ],
                correctAnswer: "b) NMS (Network Management System)"
            },
            {
                question: "¿Qué es el Agente en el contexto de SNMP?",
                options: [
                    "a) La estación central",
                    "b) El software que se instala en cada dispositivo gestionable",
                    "c) La base de datos de gestión",
                    "d) Un tipo de PDU"
                ],
                correctAnswer: "b) El software que se instala en cada dispositivo gestionable"
            },
            {
                question: "¿Cuál es el propósito principal de la RFC 1155?",
                options: [
                    "a) Definir el protocolo SNMP",
                    "b) Definir la SMI (Estructura de Información de Gestión)",
                    "c) Definir el MIB 1",
                    "d) Definir el MIB 2"
                ],
                correctAnswer: "b) Definir la SMI (Estructura de Información de Gestión)"
            },
            {
                question: "¿Qué se define principalmente en la SMI?",
                options: [
                    "a) Las PDUs",
                    "b) La estructura del árbol, los tipos de datos y la macro OBJECT-TYPE",
                    "c) La cadena de seguridad",
                    "d) Los puertos UDP"
                ],
                correctAnswer: "b) La estructura del árbol, los tipos de datos y la macro OBJECT-TYPE"
            },
            {
                question: "¿Qué es un MIB en SNMP?",
                options: [
                    "a) Un tipo de PDU",
                    "b) Una serie de parámetros agrupados para que un cierto Agente pueda responder ante ellos",
                    "c) Un identificador de objeto",
                    "d) Una dirección IP"
                ],
                correctAnswer: "b) Una serie de parámetros agrupados para que un cierto Agente pueda responder ante ellos"
            },
            {
                question: "¿Qué RFC define el MIB 2?",
                options: [
                    "a) RFC 1155",
                    "b) RFC 1156",
                    "c) RFC 1157",
                    "d) RFC 1213"
                ],
                correctAnswer: "d) RFC 1213"
            },
            {
                question: "¿Qué significa 'enterprises' en el árbol de OBJECT-IDENTIFIERS de SNMP?",
                options: [
                    "a) Donde se definen los parámetros monitorizables",
                    "b) Donde los fabricantes crean su propia rama y cuelgan sus productos monitorizables",
                    "c) La raíz del árbol",
                    "d) Un tipo de dato"
                ],
                correctAnswer: "b) Donde los fabricantes crean su propia rama y cuelgan sus productos monitorizables"
            },
            {
                question: "¿Qué función tiene el comando snmpget?",
                options: [
                    "a) Realiza un recorrido en profundidad del árbol",
                    "b) Modifica un valor",
                    "c) Usa consultas de recuperación simples para obtener un objeto específico (OID)",
                    "d) Manda una alarma"
                ],
                correctAnswer: "c) Usa consultas de recuperación simples para obtener un objeto específico (OID)"
            },
            {
                question: "¿Qué función tiene el comando snmpwalk?",
                options: [
                    "a) Modifica un valor",
                    "b) Obtiene un objeto específico",
                    "c) Dada un primer OID, va recuperando lo que devuelve GetNext Request, permitiendo moverse por la tabla",
                    "d) Envía una trampa"
                ],
                correctAnswer: "c) Dada un primer OID, va recuperando lo que devuelve GetNext Request, permitiendo moverse por la tabla"
            },
            {
                question: "¿Cuál es el puerto UDP que utiliza el Gestor para enviar peticiones al Agente en SNMP?",
                options: [
                    "a) 162",
                    "b) 161",
                    "c) 389",
                    "d) 636"
                ],
                correctAnswer: "b) 161"
            },
            {
                question: "¿Cuál es el puerto UDP que utiliza el Agente para enviar traps al Gestor en SNMP?",
                options: [
                    "a) 161",
                    "b) 162",
                    "c) 389",
                    "d) 636"
                ],
                correctAnswer: "b) 162"
            },
            {
                question: "¿Qué PDU se utiliza para modificar un valor en un Agente SNMP?",
                options: [
                    "a) Get",
                    "b) Response",
                    "c) Set",
                    "d) Trap"
                ],
                correctAnswer: "c) Set"
            },
            {
                question: "¿Qué tipo de acceso se define en la macro OBJECT-TYPE?",
                options: [
                    "a) read-only, read-write, write-only, not-accessible",
                    "b) only-read, only-write",
                    "c) full-access",
                    "d) no-access"
                ],
                correctAnswer: "a) read-only, read-write, write-only, not-accessible"
            },
            {
                question: "¿Qué significa 'Community' en SNMP?",
                options: [
                    "a) Un tipo de PDU",
                    "b) Una cadena de seguridad (contraseña)",
                    "c) Un identificador de objeto",
                    "d) Un tipo de dato"
                ],
                correctAnswer: "b) Una cadena de seguridad (contraseña)"
            },
            {
                question: "¿Cuál es la versión de SNMP que se considera incompatible con la v1 y es la más usada hoy en día?",
                options: [
                    "a) Versión 3",
                    "b) Versión 2c",
                    "c) Versión 2",
                    "d) Versión 1"
                ],
                correctAnswer: "b) Versión 2c"
            },
            {
                question: "¿Qué nueva primitiva introduce SNMPv2c para obtener todo lo que cuelga de una rama de forma masiva?",
                options: [
                    "a) GetNext",
                    "b) GetBulk",
                    "c) Trap",
                    "d) Inform"
                ],
                correctAnswer: "b) GetBulk"
            },
            {
                question: "¿Qué primitiva en SNMPv2c permite la comunicación entre Gestores?",
                options: [
                    "a) GetBulk",
                    "b) SNMPv2-Trap",
                    "c) Inform",
                    "d) Report"
                ],
                correctAnswer: "c) Inform"
            },
            {
                question: "¿Qué añade la versión 3 de SNMP?",
                options: [
                    "a) Nuevos tipos de datos",
                    "b) Seguridad SSH",
                    "c) Comunicación Gestor-Gestor",
                    "d) Nuevas PDUs"
                ],
                correctAnswer: "b) Seguridad SSH"
            },
            {
                question: "¿Qué es un Agente en el contexto de SNMP?",
                options: [
                    "a) Un producto para monitorizar máquinas",
                    "b) El software que gestiona una determinada MIB",
                    "c) La estación central de gestión",
                    "d) Un tipo de PDU"
                ],
                correctAnswer: "b) El software que gestiona una determinada MIB"
            },
            {
                question: "¿Qué protocolo permite extender el agente principal de SNMP con nuevos módulos MIB?",
                options: [
                    "a) SNMPv2c",
                    "b) AgentX",
                    "c) LDAP",
                    "d) RMON"
                ],
                correctAnswer: "b) AgentX"
            },
            {
                question: "¿Qué demonio corre en el Agente SNMP en Linux?",
                options: [
                    "a) httpd",
                    "b) sshd",
                    "c) snmpd",
                    "d) mysqld"
                ],
                correctAnswer: "c) snmpd"
            },
            {
                question: "¿Dónde se define la 'Community' y la IP del equipo Gestor en net-snmp para Linux?",
                options: [
                    "a) /var/log/snmp.log",
                    "b) /etc/snmp/snmp.conf",
                    "c) /usr/local/bin/snmp",
                    "d) /opt/snmp/config"
                ],
                correctAnswer: "b) /etc/snmp/snmp.conf"
            },
            {
                question: "¿Qué es un RMON MIB?",
                options: [
                    "a) Una base de datos de gestión de un agente",
                    "b) Un caso particular de MIB que ofrece estadísticas históricas sobre una zona de la red",
                    "c) Un tipo de PDU en SNMPv2c",
                    "d) Un protocolo de seguridad"
                ],
                correctAnswer: "b) Un caso particular de MIB que ofrece estadísticas históricas sobre una zona de la red"
            },
            {
                question: "¿Qué se le llama al software en RMON en lugar de Agente?",
                options: [
                    "a) Gestor",
                    "b) Sonda",
                    "c) NMS",
                    "d) Cliente"
                ],
                correctAnswer: "b) Sonda"
            },
            {
                question: "¿Qué nivel de tráfico monitoriza RMON versión 1?",
                options: [
                    "a) Nivel 3 a 7",
                    "b) Nivel 1 y 2",
                    "c) Solo nivel 7",
                    "d) Todos los niveles"
                ],
                correctAnswer: "b) Nivel 1 y 2"
            },
            {
                question: "¿Qué nivel de tráfico monitoriza RMON versión 2?",
                options: [
                    "a) Nivel 1 y 2",
                    "b) Nivel 3 a 7",
                    "c) Solo nivel 1",
                    "d) Ninguno"
                ],
                correctAnswer: "b) Nivel 3 a 7"
            },
            {
                question: "¿Qué herramientas NMS se mencionan en el documento?",
                options: [
                    "a) ActiveDirectory, OpenLDAP",
                    "b) Nagios, Zabbix, Cacti, Pandora FMS, etc.",
                    "c) Asterisk",
                    "d) Firewall, IDS/IPS"
                ],
                correctAnswer: "b) Nagios, Zabbix, Cacti, Pandora FMS, etc."
            },
            {
                question: "¿Qué protocolo es la propuesta de la pila OSI similar a SNMP?",
                options: [
                    "a) TMN",
                    "b) CMIP/CMIS",
                    "c) CMOT",
                    "d) LDAP"
                ],
                correctAnswer: "b) CMIP/CMIS"
            },
            {
                question: "¿Cuál es una diferencia clave entre CMIP/CMIS y SNMP según el documento?",
                options: [
                    "a) CMIP/CMIS es no orientado a conexión",
                    "b) CMIP/CMIS permite borrar y crear, mientras que SNMP no",
                    "c) SNMP es orientado a conexión",
                    "d) CMIP/CMIS solo monitoriza"
                ],
                correctAnswer: "b) CMIP/CMIS permite borrar y crear, mientras que SNMP no"
            },
            {
                question: "¿Qué significa CMOT?",
                options: [
                    "a) CMIP sobre OSI",
                    "b) CMIP sobre TCP/IP",
                    "c) SNMP sobre TCP/IP",
                    "d) SNMP sobre OSI"
                ],
                correctAnswer: "b) CMIP sobre TCP/IP"
            },
            {
                question: "¿Para qué se utiliza principalmente LDAP?",
                options: [
                    "a) Monitorización de red",
                    "b) Gestión de usuarios y máquinas",
                    "c) Gestión de backup",
                    "d) Gestión de seguridad"
                ],
                correctAnswer: "b) Gestión de usuarios y máquinas"
            },
            {
                question: "¿En qué recomendaciones de directorio de OSI se basa LDAP?",
                options: [
                    "a) X.25",
                    "b) X.500",
                    "c) X.400",
                    "d) X.700"
                ],
                correctAnswer: "b) X.500"
            },
            {
                question: "¿Qué puerto TCP utiliza LDAP?",
                options: [
                    "a) 161",
                    "b) 162",
                    "c) 389",
                    "d) 636"
                ],
                correctAnswer: "c) 389"
            },
            {
                question: "¿Qué puerto TCP utiliza LDAPS (LDAP+SSL)?",
                options: [
                    "a) 389",
                    "b) 636",
                    "c) 161",
                    "d) 162"
                ],
                correctAnswer: "b) 636"
            },
            {
                question: "¿Qué tipo de operación de seguridad permite LDAP?",
                options: [
                    "a) Autorización",
                    "b) Autenticación",
                    "c) Cifrado",
                    "d) Auditoría"
                ],
                correctAnswer: "b) Autenticación"
            },
            {
                question: "¿Qué operación de LDAP permite conectarse y autenticarse?",
                options: [
                    "a) Search",
                    "b) Add",
                    "c) Bind",
                    "d) Modify"
                ],
                correctAnswer: "c) Bind"
            },
            {
                question: "¿Qué significa DN en el contexto de LDAP?",
                options: [
                    "a) Data Network",
                    "b) Distinguished Name",
                    "c) Domain Name",
                    "d) Directory Node"
                ],
                correctAnswer: "b) Distinguished Name"
            },
            {
                question: "En la URL de un servicio LDAP, ¿qué indica scope?",
                options: [
                    "a) La lista de atributos a devolver",
                    "b) La profundidad en la que se quiere buscar el objeto",
                    "c) El filtro de búsqueda",
                    "d) Las extensiones"
                ],
                correctAnswer: "b) La profundidad en la que se quiere buscar el objeto"
            },
            {
                question: "¿Qué es un ObjectClass en LDAP?",
                options: [
                    "a) Un identificador único de entrada",
                    "b) Un esquema que define las propiedades de los atributos",
                    "c) Un formato de fichero",
                    "d) Un tipo de dato"
                ],
                correctAnswer: "b) Un esquema que define las propiedades de los atributos"
            },
            {
                question: "¿Qué formato de fichero se utiliza para importar y exportar datos en LDAP?",
                options: [
                    "a) XML",
                    "b) JSON",
                    "c) LDIF (LDAP Data Interchange Format)",
                    "d) CSV"
                ],
                correctAnswer: "c) LDIF (LDAP Data Interchange Format)"
            },
            {
                question: "¿Qué campo en un fichero LDIF se utiliza para añadir una nueva entrada al árbol?",
                options: [
                    "a) dn",
                    "b) objectClass",
                    "c) changeType: add",
                    "d) cn"
                ],
                correctAnswer: "c) changeType: add"
            },
            {
                question: "¿Qué productos de servidor LDAP se mencionan en el documento?",
                options: [
                    "a) Nagios, Zabbix",
                    "b) ActiveDirectory, OpenLDAP, Apache Directory Server",
                    "c) SNMP, CMIP",
                    "d) Asterisk"
                ],
                correctAnswer: "b) ActiveDirectory, OpenLDAP, Apache Directory Server"
            },
            {
                question: "¿Qué API de Java se menciona para gestionar consultas LDAP?",
                options: [
                    "a) JDBC",
                    "b) JMS",
                    "c) JNDI",
                    "d) JAX-WS"
                ],
                correctAnswer: "c) JNDI"
            },
            {
                question: "¿Qué significa VLAN en el contexto de gestión de dispositivos?",
                options: [
                    "a) Virtual Local Area Network",
                    "b) Virtual Line Access Network",
                    "c) Very Large Area Network",
                    "d) Video Local Access Network"
                ],
                correctAnswer: "a) Virtual Local Area Network"
            },
            {
                question: "¿Qué se menciona como ejemplo de gestión de backup?",
                options: [
                    "a) Librerías LTO",
                    "b) Redes SAN",
                    "c) Impresoras IPP",
                    "d) Asterisk"
                ],
                correctAnswer: "a) Librerías LTO"
            },
            {
                question: "¿Qué servicio se utiliza para la gestión de sistemas de videoconferencia y VoIP?",
                options: [
                    "a) LDAP",
                    "b) SNMP",
                    "c) Asterisk (servicio de centralita o PBX)",
                    "d) Firewall"
                ],
                correctAnswer: "c) Asterisk (servicio de centralita o PBX)"
            },
            {
                question: "¿Qué es un OID en SNMP?",
                options: [
                    "a) Un tipo de PDU",
                    "b) Un identificador de objeto",
                    "c) Una base de datos de gestión",
                    "d) Una cadena de seguridad"
                ],
                correctAnswer: "b) Un identificador de objeto"
            },
            {
                question: "¿Qué tipos de datos se mencionan en la SMI?",
                options: [
                    "a) Entero, Cadena, Booleano",
                    "b) Counter, TimeTicks, IpAddress, Gauge, Opaque, Network Address, Number, String, OID, Sequence",
                    "c) Float, Double, Char",
                    "d) Array, List, Dictionary"
                ],
                correctAnswer: "b) Counter, TimeTicks, IpAddress, Gauge, Opaque, Network Address, Number, String, OID, Sequence"
            },
            {
                question: "¿Qué RFC define el protocolo SNMP (PDUs)?",
                options: [
                    "a) RFC 1155",
                    "b) RFC 1156",
                    "c) RFC 1157",
                    "d) RFC 1213"
                ],
                correctAnswer: "c) RFC 1157"
            },
            {
                question: "¿Qué significa ASN.1 en el contexto de SNMP?",
                options: [
                    "a) Se usa para definir las bases para definir los MIB",
                    "b) Un tipo de dato en SNMP",
                    "c) Un protocolo de seguridad",
                    "d) Un formato de archivo"
                ],
                correctAnswer: "a) Se usa para definir las bases para definir los MIB"
            },
            {
                question: "¿Cuál de los siguientes no es un tipo de PDU de SNMPv1?",
                options: [
                    "a) Get",
                    "b) GetNext",
                    "c) GetBulk",
                    "d) Response"
                ],
                correctAnswer: "c) GetBulk"
            },
            {
                question: "¿Cuál es el propósito de 'Variable bindings' en una PDU de SNMP?",
                options: [
                    "a) Indicar el tipo de PDU",
                    "b) Contener OID + valor",
                    "c) Definir el Request ID",
                    "d) Especificar la versión"
                ],
                correctAnswer: "b) Contener OID + valor"
            },
            {
                question: "¿Qué información incluye una PDU Response de SNMP?",
                options: [
                    "a) PDU Type, Request ID, Error status, Error index, Variable bindings",
                    "b) PDU Type, Enterprise, Agent addr, Generic trap, Specific trap, Time stamp",
                    "c) Version, Community name",
                    "d) Non repeaters, Max repetitions"
                ],
                correctAnswer: "a) PDU Type, Request ID, Error status, Error index, Variable bindings"
            },
            {
                question: "¿Qué es un 'Trap' en SNMPv1?",
                options: [
                    "a) Una consulta de recuperación",
                    "b) Una alarma enviada del Agente al Gestor",
                    "c) Una modificación de valor",
                    "d) Una respuesta a una solicitud"
                ],
                correctAnswer: "b) Una alarma enviada del Agente al Gestor"
            },
            {
                question: "¿Qué PDU va de la mano con la PDU Get?",
                options: [
                    "a) Set",
                    "b) Trap",
                    "c) Response",
                    "d) GetNext"
                ],
                correctAnswer: "c) Response"
            },
            {
                question: "¿Qué PDU utiliza snmpwalk internamente para navegar por una tabla?",
                options: [
                    "a) Get",
                    "b) Set",
                    "c) GetNext",
                    "d) Trap"
                ],
                correctAnswer: "c) GetNext"
            },
            {
                question: "En la macro OBJECT-TYPE, ¿qué se define bajo TYPE NOTATION?",
                options: [
                    "a) SYNTAX y ACCESS",
                    "b) SYNTAX y STATUS",
                    "c) SYNTAX (con ObjectSyntax)",
                    "d) ACCESS y STATUS"
                ],
                correctAnswer: "c) SYNTAX (con ObjectSyntax)"
            },
            {
                question: "¿Cuál de los siguientes es un Status válido en la macro OBJECT-TYPE?",
                options: [
                    "a) active",
                    "b) inactive",
                    "c) mandatory",
                    "d) deprecated"
                ],
                correctAnswer: "d) deprecated"
            },
            {
                question: "¿Qué se amplía en la Versión 2c de SNMP con la RFC 2578?",
                options: [
                    "a) El protocolo SNMPv1",
                    "b) El modelo de gestión, definiendo SMI v2 con nuevos tipos de datos, la macro NOTIFICATION-TYPE y un árbol core más completo",
                    "c) La seguridad SSH",
                    "d) Las primitivas Get y Set"
                ],
                correctAnswer: "b) El modelo de gestión, definiendo SMI v2 con nuevos tipos de datos, la macro NOTIFICATION-TYPE y un árbol core más completo"
            },
            {
                question: "¿Qué se define en la SMI v2 además de nuevos tipos de datos?",
                options: [
                    "a) La macro OBJECT-TYPE",
                    "b) La macro NOTIFICATION-TYPE",
                    "c) La macro VALUE NOTATION",
                    "d) La macro ACCESS"
                ],
                correctAnswer: "b) La macro NOTIFICATION-TYPE"
            },
            {
                question: "¿Por qué la versión 3 de SNMP no está muy extendida?",
                options: [
                    "a) No es compatible con versiones anteriores",
                    "b) Da problemas de compatibilidad al ser tan reciente",
                    "c) Carece de seguridad",
                    "d) Solo soporta un tipo de PDU"
                ],
                correctAnswer: "b) Da problemas de compatibilidad al ser tan reciente"
            },
            {
                question: "¿Qué es un 'subagente' en el contexto de SNMP?",
                options: [
                    "a) Un Agente auxiliar",
                    "b) Una especie de plugin que extiende el agente principal",
                    "c) Un tipo de Gestor",
                    "d) Una sonda RMON"
                ],
                correctAnswer: "b) Una especie de plugin que extiende el agente principal"
            },
            {
                question: "¿En qué tipo de dispositivos suele instalarse una Sonda RMON?",
                options: [
                    "a) Servidores web",
                    "b) Routers troncales, switches o hardware específico",
                    "c) Impresoras IPP",
                    "d) Dispositivos de almacenamiento NAS"
                ],
                correctAnswer: "b) Routers troncales, switches o hardware específico"
            },
            {
                question: "¿Cuál de los siguientes protocolos de gestión no permite borrar y crear, a diferencia de CMIP/CMIS?",
                options: [
                    "a) CMOT",
                    "b) SNMP",
                    "c) TMN",
                    "d) LDAP"
                ],
                correctAnswer: "b) SNMP"
            },
            {
                question: "¿Qué significa 'Event driven' en el contexto de CMIP/CMIS?",
                options: [
                    "a) Que funciona como el Set de SNMP",
                    "b) Que funciona como el Trap de SNMP",
                    "c) Que es orientado a conexión",
                    "d) Que es binario"
                ],
                correctAnswer: "b) Que funciona como el Trap de SNMP"
            },
            {
                question: "¿Cuál es la versión actual de LDAP?",
                options: [
                    "a) v1",
                    "b) v2",
                    "c) v3",
                    "d) v4"
                ],
                correctAnswer: "c) v3"
            },
            {
                question: "¿Es LDAP binario o de texto plano?",
                options: [
                    "a) Texto plano",
                    "b) Binario",
                    "c) Ambos",
                    "d) Depende de la versión"
                ],
                correctAnswer: "a) Texto plano"
            },
            {
                question: "¿Qué se almacena en LDAP de cara a la seguridad?",
                options: [
                    "a) Reglas de firewall",
                    "b) Datos de autenticación (user/pass o certificado X509)",
                    "c) Políticas de backup",
                    "d) Configuraciones de VLAN"
                ],
                correctAnswer: "b) Datos de autenticación (user/pass o certificado X509)"
            },
            {
                question: "¿Qué operación de LDAP se utiliza para cambiar a modo seguro (SSL/TLS)?",
                options: [
                    "a) Bind",
                    "b) Search",
                    "c) StartTLS",
                    "d) Add"
                ],
                correctAnswer: "c) StartTLS"
            },
            {
                question: "¿Qué significa base en el scope de una URL LDAP?",
                options: [
                    "a) Buscar en un nivel",
                    "b) Buscar en todo el árbol",
                    "c) Buscar solo en la entrada base (por defecto)",
                    "d) No buscar"
                ],
                correctAnswer: "c) Buscar solo en la entrada base (por defecto)"
            },
            {
                question: "¿Qué significa one en el scope de una URL LDAP?",
                options: [
                    "a) Buscar solo en la entrada base",
                    "b) Buscar en un nivel",
                    "c) Buscar en todo el árbol",
                    "d) Buscar solo el primer resultado"
                ],
                correctAnswer: "b) Buscar en un nivel"
            },
            {
                question: "¿Qué significa sub en el scope de una URL LDAP?",
                options: [
                    "a) Buscar solo en la entrada base",
                    "b) Buscar en un nivel",
                    "c) Buscar en todo el árbol (sub)",
                    "d) Sub-directorio"
                ],
                correctAnswer: "c) Buscar en todo el árbol (sub)"
            },
            {
                question: "¿Qué es un DN en LDAP?",
                options: [
                    "a) Un nombre de dominio",
                    "b) La clave primaria (PK) de cualquier entrada del árbol",
                    "c) Un filtro de búsqueda",
                    "d) Un atributo"
                ],
                correctAnswer: "b) La clave primaria (PK) de cualquier entrada del árbol"
            },
            {
                question: "¿Qué es un RDN en LDAP?",
                options: [
                    "a) Relative Distinguished Name",
                    "b) Remote Directory Node",
                    "c) Root Directory Name",
                    "d) Realtime Data Network"
                ],
                correctAnswer: "a) Relative Distinguished Name"
            },
            {
                question: "¿Qué representa dc en un DN de LDAP?",
                options: [
                    "a) Domain Component",
                    "b) Directory Class",
                    "c) Data Center",
                    "d) Distinguished Component"
                ],
                correctAnswer: "a) Domain Component"
            },
            {
                question: "¿Qué representa ou en un DN de LDAP?",
                options: [
                    "a) Object User",
                    "b) Organizational Unit",
                    "c) Operation Unit",
                    "d) Output Unit"
                ],
                correctAnswer: "b) Organizational Unit"
            },
            {
                question: "¿Qué representa cn en un DN de LDAP?",
                options: [
                    "a) Company Name",
                    "b) Common Name",
                    "c) Client Node",
                    "d) Connect Name"
                ],
                correctAnswer: "b) Common Name"
            },
            {
                question: "¿Qué función tiene un ObjectClass en LDAP?",
                options: [
                    "a) Definir la clave primaria de una entrada",
                    "b) Determinar qué atributos se requieren y cuáles no para cada entrada",
                    "c) Almacenar datos de autenticación",
                    "d) Realizar operaciones de búsqueda"
                ],
                correctAnswer: "b) Determinar qué atributos se requieren y cuáles no para cada entrada"
            },
            {
                question: "¿Qué tipo de ObjectClass se utiliza para definir usuarios?",
                options: [
                    "a) device",
                    "b) organizationalUnit",
                    "c) person",
                    "d) group"
                ],
                correctAnswer: "c) person"
            },
            {
                question: "¿Cuál de los siguientes no es un producto de servidor LDAP mencionado?",
                options: [
                    "a) ActiveDirectory",
                    "b) OpenLDAP",
                    "c) MySQL",
                    "d) Apache Directory Server"
                ],
                correctAnswer: "c) MySQL"
            },
            {
                question: "¿Qué significa IPP en el contexto de gestión de la impresión?",
                options: [
                    "a) Internet Printing Protocol",
                    "b) Internet Packet Protocol",
                    "c) Internal Printing Port",
                    "d) Integrated Printer Program"
                ],
                correctAnswer: "a) Internet Printing Protocol"
            },
            {
                question: "¿Qué protocolo es el responsable de la comunicación Gestor-Agente en SNMP?",
                options: [
                    "a) TCP",
                    "b) UDP",
                    "c) ICMP",
                    "d) IP"
                ],
                correctAnswer: "b) UDP"
            },
            {
                question: "¿Qué se incluye en la sección de 'Variable Bindings' de una PDU SNMP?",
                options: [
                    "a) Solo el OID",
                    "b) Solo el valor",
                    "c) OID + valor",
                    "d) El tipo de PDU"
                ],
                correctAnswer: "c) OID + valor"
            },
            {
                question: "¿Qué significa que SNMP sea de la pila TCP/IP, no de OSI?",
                options: [
                    "a) Que utiliza los 7 niveles del modelo OSI",
                    "b) Que se basa en los protocolos de la suite TCP/IP (como IP y UDP)",
                    "c) Que no es un estándar",
                    "d) Que solo funciona con sistemas operativos Linux"
                ],
                correctAnswer: "b) Que se basa en los protocolos de la suite TCP/IP (como IP y UDP)"
            },
            {
                question: "¿Cuál es el propósito de la macro OBJECT-TYPE en SMI?",
                options: [
                    "a) Definir los tipos de datos en la MIB",
                    "b) Definir la estructura de los objetos gestionables",
                    "c) Definir las PDU de SNMP",
                    "d) Definir la sintaxis ASN.1"
                ],
                correctAnswer: "b) Definir la estructura de los objetos gestionables"
            },
            {
                question: "¿Cómo se representan las ramas del árbol de OBJECT-IDENTIFIERS de SNMP?",
                options: [
                    "a) Por nombres de texto",
                    "b) Por números",
                    "c) Por direcciones IP",
                    "d) Por URLs"
                ],
                correctAnswer: "b) Por números"
            },
            {
                question: "¿Qué significa read-write en el ACCESS de un OBJECT-TYPE?",
                options: [
                    "a) Que el objeto solo puede ser leído",
                    "b) Que el objeto puede ser leído y modificado",
                    "c) Que el objeto solo puede ser escrito",
                    "d) Que el objeto no es accesible"
                ],
                correctAnswer: "b) Que el objeto puede ser leído y modificado"
            },
            {
                question: "¿Cuál es la principal mejora de SNMPv2c sobre SNMPv1?",
                options: [
                    "a) Añade seguridad SSH",
                    "b) Introduce la autenticación basada en comunidad",
                    "c) Permite la comunicación entre Gestores",
                    "d) Es más eficiente en el uso de ancho de banda"
                ],
                correctAnswer: "b) Introduce la autenticación basada en comunidad"
            },
            {
                question: "¿Cuál es la diferencia entre un Agente y una Sonda RMON?",
                options: [
                    "a) El Agente ofrece información de la red, la Sonda de un equipo concreto",
                    "b) El Agente ofrece información de un equipo concreto, la Sonda de la red",
                    "c) No hay diferencia, son sinónimos",
                    "d) El Agente es hardware, la Sonda es software"
                ],
                correctAnswer: "b) El Agente ofrece información de un equipo concreto, la Sonda de la red"
            },
            {
                question: "¿Qué significa que CMIP/CMIS sea 'Orientado a conexión'?",
                options: [
                    "a) Que establece una conexión lógica antes de la transmisión de datos",
                    "b) Que no establece una conexión lógica",
                    "c) Que utiliza UDP",
                    "d) Que es binario"
                ],
                correctAnswer: "a) Que establece una conexión lógica antes de la transmisión de datos"
            },
            {
                question: "¿Qué se utiliza en LDAP para poblar de forma masiva el árbol?",
                options: [
                    "a) Comandos add uno a uno",
                    "b) Ficheros LDIF",
                    "c) Ficheros CSV",
                    "d) Consultas SQL"
                ],
                correctAnswer: "b) Ficheros LDIF"
            },
            {
                question: "¿Qué se define en un module MIB?",
                options: [
                    "a) La sintaxis ASN.1",
                    "b) Nuevas ramas del árbol SMI y objetos gestionables, importando la definición de RFC 1155",
                    "c) Las reglas de un firewall",
                    "d) Las políticas de backup"
                ],
                correctAnswer: "b) Nuevas ramas del árbol SMI y objetos gestionables, importando la definición de RFC 1155"
            }
        ];
		 // Variables de estado del quiz
        let currentQuestionIndex = 0;
        let score = 0;
        // userAnswers guarda el texto de la opción seleccionada (o null)
        // Corregido: Usar questions.length en lugar de questions.length
        const userAnswers = new Array(questions.length).fill(null);
        // scoredQuestions guarda true si la pregunta fue respondida correctamente, false si fue incorrecta o no respondida
        // Corregido: Usar questions.length en lugar de questions.length
        const scoredQuestions = new Array(questions.length).fill(false); 

        // Referencias a los elementos del DOM
        const quizContainer = document.getElementById('quizContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const restartBtn = document.getElementById('restartBtn');
        const restartInlineBtn = document.getElementById('restartInlineBtn');
        const finalScoreDiv = document.getElementById('finalScore');
        const progressBar = document.getElementById('progressBar');
        const finalScoreDisplay = finalScoreDiv.querySelector('.score-display');
        const correctCountSpan = document.getElementById('correctCount');
        const incorrectCountSpan = document.getElementById('incorrectCount');
        const unansweredCountSpan = document.getElementById('unansweredCount');

        /**
         * Carga el estado del quiz guardado en localStorage.
         * Si no existe, inicializa un nuevo estado.
         */
        function loadQuizState() {
            try {
                const savedState = JSON.parse(localStorage.getItem('quizState'));
                if (savedState) {
                    currentQuestionIndex = savedState.currentQuestionIndex;
                    score = savedState.score;
                    // Asegurarse de que los arrays tengan el tamaño correcto y copiar los valores
                    userAnswers.splice(0, savedState.userAnswers.length, ...savedState.userAnswers);
                    scoredQuestions.splice(0, savedState.scoredQuestions.length, ...savedState.scoredQuestions);
                }
            } catch (e) {
                console.error("Error al cargar el estado del quiz:", e);
                // Si hay un error, el estado se reiniciará a los valores por defecto
            }
        }

        /**
         * Guarda el estado actual del quiz en localStorage.
         */
        function saveQuizState() {
            const quizState = {
                currentQuestionIndex: currentQuestionIndex,
                score: score,
                userAnswers: userAnswers,
                scoredQuestions: scoredQuestions
            };
            localStorage.setItem('quizState', JSON.stringify(quizState));
        }

        /**
         * Carga y muestra la pregunta actual.
         */
        function loadQuestion() {
            // Corregido: Usar questions.length en lugar de questions.length
            if (currentQuestionIndex >= questions.length) {
                showResults();
                return;
            }

            // Corregido: Usar questions en lugar de questions
            const currentQuestion = questions[currentQuestionIndex];
            quizContainer.innerHTML = `
                <div class="question-card">
                    <p class="question-text"></p>
                    <div class="options-container">
                        ${currentQuestion.options.map(() => `
                            <button class="option-button"></button>
                        `).join('')}
                    </div>
                    <div class="solution hidden">
                        <strong>Solución:</strong> <span class="solution-text"></span>
                    </div>
                </div>
            `;

            const questionTextElement = quizContainer.querySelector('.question-text');
            const optionsContainer = quizContainer.querySelector('.options-container');
            const questionCard = quizContainer.querySelector('.question-card');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');

            // Usar textContent para insertar el texto de la pregunta de forma segura
            questionTextElement.textContent = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;

            // Asignar el texto y los atributos data-option a cada botón de opción
            currentQuestion.options.forEach((option, index) => {
                optionButtons[index].textContent = option; // Inserta el texto como texto plano
                optionButtons[index].dataset.option = option; // Guarda la opción original para la lógica
                optionButtons[index].addEventListener('click', handleOptionClick);
            });

            // Resalta la respuesta del usuario si ya ha respondido y aplica estilos
            const savedAnswer = userAnswers[currentQuestionIndex];
            if (savedAnswer !== null) {
                // Encuentra el botón por su atributo data-option, que contiene la respuesta guardada
                const selectedButton = optionsContainer.querySelector(`[data-option="${savedAnswer}"]`);
                if (selectedButton) {
                    // Deshabilita todos los botones para que no se pueda cambiar la respuesta
                    optionButtons.forEach(button => {
                        button.classList.add('disabled');
                        button.removeEventListener('click', handleOptionClick); // Remover listener si ya está respondida
                    });

                    // Aplica los estilos de la respuesta guardada
                    const isCorrect = (savedAnswer === currentQuestion.correctAnswer);
                    if (isCorrect) {
                        selectedButton.classList.add('correct-answer');
                        questionCard.classList.add('correct');
                    } else {
                        selectedButton.classList.add('incorrect-answer');
                        questionCard.classList.add('incorrect');
                        // Muestra la respuesta correcta si la guardada fue incorrecta
                        const correctButton = optionsContainer.querySelector(`[data-option="${currentQuestion.correctAnswer}"]`);
                        if (correctButton) {
                            correctButton.classList.add('correct-answer');
                        }
                    }
                    // Añadir feedback visual (Correcto/Incorrecto)
                    updateQuestionCardVisuals(isCorrect);
                }
            }

            // Actualiza el estado de los botones de navegación y la barra de progreso
            updateNavButtons();
            updateProgressBar();
        }

        /**
         * Maneja el evento de clic en una opción de respuesta.
         * @param {Event} event - El evento de clic.
         */
        function handleOptionClick(event) {
            const selectedOptionButton = event.target;
            const selectedOption = selectedOptionButton.dataset.option; // Obtiene la opción del atributo data-option
            // Corregido: Usar questions en lugar de questions
            const currentQuestion = questions[currentQuestionIndex];
            const optionsContainer = quizContainer.querySelector('.options-container');
            const questionCard = quizContainer.querySelector('.question-card');

            // Deshabilita todos los botones de opción para evitar múltiples respuestas
            optionsContainer.querySelectorAll('.option-button').forEach(button => {
                button.classList.add('disabled');
                button.removeEventListener('click', handleOptionClick);
            });

            // Actualiza la respuesta del usuario y la guarda
            userAnswers[currentQuestionIndex] = selectedOption;
            
            // Comprueba si la respuesta es correcta
            const isCorrectAttempt = (selectedOption === currentQuestion.correctAnswer);

            if (isCorrectAttempt) {
                selectedOptionButton.classList.add('correct-answer');
                questionCard.classList.add('correct');
                // Si no se ha puntuado antes, añade un punto y marca como correcta
                if (!scoredQuestions[currentQuestionIndex]) { // scoredQuestions[index] will be false if not yet scored
                    score++;
                    scoredQuestions[currentQuestionIndex] = true; // Marca como correcta
                }
            } else {
                selectedOptionButton.classList.add('incorrect-answer');
                questionCard.classList.add('incorrect');
                // Si se había puntuado como correcta (porque el usuario cambió de opinión), quita el punto
                if (scoredQuestions[currentQuestionIndex]) { // scoredQuestions[index] will be true if it was previously correct
                    score--;
                    scoredQuestions[currentQuestionIndex] = false; // Marca como incorrecta
                }
                // Resalta la respuesta correcta
                const correctAnswerButton = optionsContainer.querySelector(`[data-option="${currentQuestion.correctAnswer}"]`);
                if (correctAnswerButton) {
                    correctAnswerButton.classList.add('correct-answer');
                }
            }
            
            saveQuizState(); // Guarda el estado después de actualizar score y scoredQuestions

            // Añadir feedback visual (Correcto/Incorrecto)
            updateQuestionCardVisuals(isCorrectAttempt);

            // Muestra la solución detallada si existe (aunque no hay en tu questions actual)
            if (currentQuestion.solution) {
                const solutionDiv = quizContainer.querySelector('.solution');
                solutionDiv.classList.remove('hidden');
                solutionDiv.querySelector('.solution-text').textContent = currentQuestion.solution;
            }
        }

        /**
         * Actualiza el estilo de la tarjeta de pregunta y añade feedback visual.
         * @param {boolean} isCorrect - Indica si la respuesta es correcta.
         */
        function updateQuestionCardVisuals(isCorrect) {
            const questionCard = document.querySelector('.question-card');
            // Eliminar feedback anterior si existe
            const existingFeedback = questionCard.querySelector('.feedback');
            if (existingFeedback) {
                existingFeedback.remove();
            }

            const feedbackMessage = document.createElement('p');
            feedbackMessage.classList.add('feedback');

            if (isCorrect) {
                feedbackMessage.textContent = '¡Correcto!';
                feedbackMessage.classList.add('correct');
            } else {
                feedbackMessage.textContent = 'Incorrecto. La respuesta correcta es la marcada en verde.';
                feedbackMessage.classList.add('incorrect');
            }
            questionCard.appendChild(feedbackMessage);
        }

        /**
         * Muestra los resultados finales del quiz.
         */
        function showResults() {
            quizContainer.classList.add('hidden');
            prevBtn.classList.add('hidden');
            nextBtn.classList.add('hidden');
            restartInlineBtn.classList.add('hidden');
            progressBar.parentElement.classList.add('hidden');
            finalScoreDiv.classList.remove('hidden');

            // Calcula y muestra las estadísticas
            const correctAnswers = scoredQuestions.filter(isCorrect => isCorrect).length;
            // Una respuesta es incorrecta si el usuario respondió (no es null) Y no fue marcada como correcta (scoredQuestions[index] es false)
            const incorrectAnswers = userAnswers.filter((answer, index) => answer !== null && !scoredQuestions[index]).length;
            const unansweredQuestions = userAnswers.filter(answer => answer === null).length;

            // Corregido: Usar questions.length en lugar de questions.length
            finalScoreDisplay.textContent = `Tu puntuación final es ${correctAnswers} de ${questions.length}`;
            correctCountSpan.textContent = correctAnswers;
            incorrectCountSpan.textContent = incorrectAnswers;
            unansweredCountSpan.textContent = unansweredQuestions;
        }
		
        /**
         * Actualiza el estado de los botones de navegación.
         */
        function updateNavButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            // Corregido: Usar questions.length en lugar de questions.length
            nextBtn.textContent = currentQuestionIndex === questions.length - 1 ? 'Finalizar' : 'Siguiente';
        }

        /**
         * Actualiza la barra de progreso.
         */
        function updateProgressBar() {
            // Corregido: Usar questions.length en lugar de questions.length
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        /**
         * Reinicia el quiz a su estado inicial.
         */
        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers.fill(null);
            scoredQuestions.fill(false);
            localStorage.clear(); // Limpia el localStorage
            
            quizContainer.classList.remove('hidden');
            prevBtn.classList.remove('hidden');
            nextBtn.classList.remove('hidden');
            restartInlineBtn.classList.remove('hidden');
            progressBar.parentElement.classList.remove('hidden');
            finalScoreDiv.classList.add('hidden');
            loadQuestion();
        }

        // Event listeners
        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        });

        nextBtn.addEventListener('click', () => {
            // Corregido: Usar questions.length en lugar de questions.length
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                showResults();
            }
        });

        restartBtn.addEventListener('click', restartQuiz);
        restartInlineBtn.addEventListener('click', restartQuiz);

        // Carga inicial
        window.onload = function() {
            loadQuizState();
            loadQuestion();
        };
    </script>
</body>
</html>


    

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADMON EN REDES</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .quiz-container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            text-align: center;
        }
        .quiz-header {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e2e8f0;
        }
        .quiz-header h1 {
            font-size: 2rem;
            font-weight: 700;
            color: #1a202c;
        }
        .question-text {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 25px;
            color: #333;
            line-height: 1.4;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
        }
        .option-button {
            background-color: #e2e8f0;
            color: #4a5568;
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 1.1rem;
            text-align: left;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.2s ease;
            border: none;
            outline: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }
        .option-button:hover {
            background-color: #cbd5e0;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }
        .option-button.selected {
            background-color: #4c51bf;
            color: white;
        }
        .option-button.correct {
            background-color: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
            box-shadow: 0 4px 10px rgba(40, 167, 69, 0.3);
        }
        .option-button.incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
            box-shadow: 0 4px 10px rgba(220, 53, 69, 0.3);
        }
        .option-button:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        .feedback-message {
            font-size: 1.2rem;
            font-weight: 500;
            margin-top: 20px;
            min-height: 30px; /* Ensure space even when empty */
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            gap: 15px;
        }
        .nav-button {
            background-color: #4c51bf;
            color: white;
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            border: none;
            outline: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
        }
        .nav-button:hover {
            background-color: #3e4396;
            transform: translateY(-2px);
        }
        .nav-button:disabled {
            background-color: #a0aec0;
            cursor: not-allowed;
            box-shadow: none;
        }
        .restart-button {
            background-color: #28a745;
            color: white;
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            border: none;
            outline: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
        }
        .restart-button:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }
        .score-container {
            font-size: 1.3rem;
            font-weight: 600;
            margin-top: 20px;
            color: #2d3748;
        }
        .score-summary {
            text-align: left;
            margin-top: 20px;
            font-size: 1.2rem;
            line-height: 1.6;
        }
        .score-summary p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header">
            <h1>ADMON EN REDES</h1>
        </div>
        
        <div id="quiz-content">
            <div id="question-display" class="question-text"></div>
            <div id="options-display" class="options-container"></div>
            <div id="feedback" class="feedback-message"></div>
            <div class="navigation-buttons">
                <button id="prev-button" class="nav-button">Anterior</button>
                <button id="restart-button-nav" class="restart-button">Reiniciar Test</button>
                <button id="next-button" class="nav-button">Siguiente</button>
            </div>
            <div id="final-score-display" class="score-container hidden"></div>
            <div id="score-summary" class="score-summary hidden"></div>
        </div>
    </div>

    <script>
        // Quiz questions data
        const questions = [
            {
                question: "¿Cuál de las siguientes no es una función de la administración de redes según el documento?",
                options: [
                    "a) Planificación y diseño de la red.",
                    "b) Gestión de inventario de hardware.",
                    "c) Gestión de usuarios y grupos.",
                    "d) Gestión de la seguridad."
                ],
                correctAnswer: "c) Gestión de usuarios y grupos."
            },
            {
                question: "¿Qué protocolo se menciona para la gestión de usuarios y grupos?",
                options: [
                    "a) SNMP",
                    "b) LDAP",
                    "c) VLAN",
                    "d) STP"
                ],
                correctAnswer: "b) LDAP"
            },
            {
                question: "¿Qué tecnología se utiliza para la gestión de almacenamiento en redes SAN?",
                options: [
                    "a) Subnetting",
                    "b) VLAN",
                    "c) Zoning, LUN",
                    "d) IPP"
                ],
                correctAnswer: "c) Zoning, LUN"
            },
            {
                question: "Para la gestión de la seguridad, ¿qué herramientas se mencionan?",
                options: [
                    "a) Switch y router",
                    "b) Firewall, IDS/IPS, análisis de vulnerabilidades",
                    "c) SAN y NAS",
                    "d) Librerías LTO"
                ],
                correctAnswer: "b) Firewall, IDS/IPS, análisis de vulnerabilidades"
            },
            {
                question: "¿Qué protocolo se utiliza para la monitorización y supervisión de redes, según el documento?",
                options: [
                    "a) HTTP",
                    "b) FTP",
                    "c) SNMP",
                    "d) SMTP"
                ],
                correctAnswer: "c) SNMP"
            },
            {
                question: "¿Sobre qué protocolo de la capa de transporte opera SNMP?",
                options: [
                    "a) TCP",
                    "b) UDP",
                    "c) ICMP",
                    "d) SCTP"
                ],
                correctAnswer: "b) UDP"
            },
            {
                question: "¿De qué protocolo anterior deriva SNMP?",
                options: [
                    "a) HTTP",
                    "b) SGMP",
                    "c) FTP",
                    "d) SMTP"
                ],
                correctAnswer: "b) SGMP"
            },
            {
                question: "¿En qué RFC se define la Estructura de Información de Gestión (SMI)?",
                options: [
                    "a) RFC 1157",
                    "b) RFC 1213",
                    "c) RFC 1155",
                    "d) RFC 1156"
                ],
                correctAnswer: "c) RFC 1155"
            },
            {
                question: "En el modelo Cliente/Servidor de SNMP, ¿cómo se denomina la estación central?",
                options: [
                    "a) Agente",
                    "b) NMS (Network Management System)",
                    "c) MIB",
                    "d) OID"
                ],
                correctAnswer: "b) NMS (Network Management System)"
            },
            {
                question: "¿Qué es el Agente en el contexto de SNMP?",
                options: [
                    "a) La estación central",
                    "b) El software que se instala en cada dispositivo gestionable",
                    "c) La base de datos de gestión",
                    "d) Un tipo de PDU"
                ],
                correctAnswer: "b) El software que se instala en cada dispositivo gestionable"
            },
            {
                question: "¿Cuál es el propósito principal de la RFC 1155?",
                options: [
                    "a) Definir el protocolo SNMP",
                    "b) Definir la SMI (Estructura de Información de Gestión)",
                    "c) Definir el MIB 1",
                    "d) Definir el MIB 2"
                ],
                correctAnswer: "b) Definir la SMI (Estructura de Información de Gestión)"
            },
            {
                question: "¿Qué se define principalmente en la SMI?",
                options: [
                    "a) Las PDUs",
                    "b) La estructura del árbol, los tipos de datos y la macro OBJECT-TYPE",
                    "c) La cadena de seguridad",
                    "d) Los puertos UDP"
                ],
                correctAnswer: "b) La estructura del árbol, los tipos de datos y la macro OBJECT-TYPE"
            },
            {
                question: "¿Qué es un MIB en SNMP?",
                options: [
                    "a) Un tipo de PDU",
                    "b) Una serie de parámetros agrupados para que un cierto Agente pueda responder ante ellos",
                    "c) Un identificador de objeto",
                    "d) Una dirección IP"
                ],
                correctAnswer: "b) Una serie de parámetros agrupados para que un cierto Agente pueda responder ante ellos"
            },
            {
                question: "¿Qué RFC define el MIB 2?",
                options: [
                    "a) RFC 1155",
                    "b) RFC 1156",
                    "c) RFC 1157",
                    "d) RFC 1213"
                ],
                correctAnswer: "d) RFC 1213"
            },
            {
                question: "¿Qué significa 'enterprises' en el árbol de OBJECT-IDENTIFIERS de SNMP?",
                options: [
                    "a) Donde se definen los parámetros monitorizables",
                    "b) Donde los fabricantes crean su propia rama y cuelgan sus productos monitorizables",
                    "c) La raíz del árbol",
                    "d) Un tipo de dato"
                ],
                correctAnswer: "b) Donde los fabricantes crean su propia rama y cuelgan sus productos monitorizables"
            },
            {
                question: "¿Qué función tiene el comando snmpget?",
                options: [
                    "a) Realiza un recorrido en profundidad del árbol",
                    "b) Modifica un valor",
                    "c) Usa consultas de recuperación simples para obtener un objeto específico (OID)",
                    "d) Manda una alarma"
                ],
                correctAnswer: "c) Usa consultas de recuperación simples para obtener un objeto específico (OID)"
            },
            {
                question: "¿Qué función tiene el comando snmpwalk?",
                options: [
                    "a) Modifica un valor",
                    "b) Obtiene un objeto específico",
                    "c) Dada un primer OID, va recuperando lo que devuelve GetNext Request, permitiendo moverse por la tabla",
                    "d) Envía una trampa"
                ],
                correctAnswer: "c) Dada un primer OID, va recuperando lo que devuelve GetNext Request, permitiendo moverse por la tabla"
            },
            {
                question: "¿Cuál es el puerto UDP que utiliza el Gestor para enviar peticiones al Agente en SNMP?",
                options: [
                    "a) 162",
                    "b) 161",
                    "c) 389",
                    "d) 636"
                ],
                correctAnswer: "b) 161"
            },
            {
                question: "¿Cuál es el puerto UDP que utiliza el Agente para enviar traps al Gestor en SNMP?",
                options: [
                    "a) 161",
                    "b) 162",
                    "c) 389",
                    "d) 636"
                ],
                correctAnswer: "b) 162"
            },
            {
                question: "¿Qué PDU se utiliza para modificar un valor en un Agente SNMP?",
                options: [
                    "a) Get",
                    "b) Response",
                    "c) Set",
                    "d) Trap"
                ],
                correctAnswer: "c) Set"
            },
            {
                question: "¿Qué tipo de acceso se define en la macro OBJECT-TYPE?",
                options: [
                    "a) read-only, read-write, write-only, not-accessible",
                    "b) only-read, only-write",
                    "c) full-access",
                    "d) no-access"
                ],
                correctAnswer: "a) read-only, read-write, write-only, not-accessible"
            },
            {
                question: "¿Qué significa 'Community' en SNMP?",
                options: [
                    "a) Un tipo de PDU",
                    "b) Una cadena de seguridad (contraseña)",
                    "c) Un identificador de objeto",
                    "d) Un tipo de dato"
                ],
                correctAnswer: "b) Una cadena de seguridad (contraseña)"
            },
            {
                question: "¿Cuál es la versión de SNMP que se considera incompatible con la v1 y es la más usada hoy en día?",
                options: [
                    "a) Versión 3",
                    "b) Versión 2c",
                    "c) Versión 2",
                    "d) Versión 1"
                ],
                correctAnswer: "b) Versión 2c"
            },
            {
                question: "¿Qué nueva primitiva introduce SNMPv2c para obtener todo lo que cuelga de una rama de forma masiva?",
                options: [
                    "a) GetNext",
                    "b) GetBulk",
                    "c) Trap",
                    "d) Inform"
                ],
                correctAnswer: "b) GetBulk"
            },
            {
                question: "¿Qué primitiva en SNMPv2c permite la comunicación entre Gestores?",
                options: [
                    "a) GetBulk",
                    "b) SNMPv2-Trap",
                    "c) Inform",
                    "d) Report"
                ],
                correctAnswer: "c) Inform"
            },
            {
                question: "¿Qué añade la versión 3 de SNMP?",
                options: [
                    "a) Nuevos tipos de datos",
                    "b) Seguridad SSH",
                    "c) Comunicación Gestor-Gestor",
                    "d) Nuevas PDUs"
                ],
                correctAnswer: "b) Seguridad SSH"
            },
            {
                question: "¿Qué es un Agente en el contexto de SNMP?",
                options: [
                    "a) Un producto para monitorizar máquinas",
                    "b) El software que gestiona una determinada MIB",
                    "c) La estación central de gestión",
                    "d) Un tipo de PDU"
                ],
                correctAnswer: "b) El software que gestiona una determinada MIB"
            },
            {
                question: "¿Qué protocolo permite extender el agente principal de SNMP con nuevos módulos MIB?",
                options: [
                    "a) SNMPv2c",
                    "b) AgentX",
                    "c) LDAP",
                    "d) RMON"
                ],
                correctAnswer: "b) AgentX"
            },
            {
                question: "¿Qué demonio corre en el Agente SNMP en Linux?",
                options: [
                    "a) httpd",
                    "b) sshd",
                    "c) snmpd",
                    "d) mysqld"
                ],
                correctAnswer: "c) snmpd"
            },
            {
                question: "¿Dónde se define la 'Community' y la IP del equipo Gestor en net-snmp para Linux?",
                options: [
                    "a) /var/log/snmp.log",
                    "b) /etc/snmp/snmp.conf",
                    "c) /usr/local/bin/snmp",
                    "d) /opt/snmp/config"
                ],
                correctAnswer: "b) /etc/snmp/snmp.conf"
            },
            {
                question: "¿Qué es un RMON MIB?",
                options: [
                    "a) Una base de datos de gestión de un agente",
                    "b) Un caso particular de MIB que ofrece estadísticas históricas sobre una zona de la red",
                    "c) Un tipo de PDU en SNMPv2c",
                    "d) Un protocolo de seguridad"
                ],
                correctAnswer: "b) Un caso particular de MIB que ofrece estadísticas históricas sobre una zona de la red"
            },
            {
                question: "¿Qué se le llama al software en RMON en lugar de Agente?",
                options: [
                    "a) Gestor",
                    "b) Sonda",
                    "c) NMS",
                    "d) Cliente"
                ],
                correctAnswer: "b) Sonda"
            },
            {
                question: "¿Qué nivel de tráfico monitoriza RMON versión 1?",
                options: [
                    "a) Nivel 3 a 7",
                    "b) Nivel 1 y 2",
                    "c) Solo nivel 7",
                    "d) Todos los niveles"
                ],
                correctAnswer: "b) Nivel 1 y 2"
            },
            {
                question: "¿Qué nivel de tráfico monitoriza RMON versión 2?",
                options: [
                    "a) Nivel 1 y 2",
                    "b) Nivel 3 a 7",
                    "c) Solo nivel 1",
                    "d) Ninguno"
                ],
                correctAnswer: "b) Nivel 3 a 7"
            },
            {
                question: "¿Qué herramientas NMS se mencionan en el documento?",
                options: [
                    "a) ActiveDirectory, OpenLDAP",
                    "b) Nagios, Zabbix, Cacti, Pandora FMS, etc.",
                    "c) Asterisk",
                    "d) Firewall, IDS/IPS"
                ],
                correctAnswer: "b) Nagios, Zabbix, Cacti, Pandora FMS, etc."
            },
            {
                question: "¿Qué protocolo es la propuesta de la pila OSI similar a SNMP?",
                options: [
                    "a) TMN",
                    "b) CMIP/CMIS",
                    "c) CMOT",
                    "d) LDAP"
                ],
                correctAnswer: "b) CMIP/CMIS"
            },
            {
                question: "¿Cuál es una diferencia clave entre CMIP/CMIS y SNMP según el documento?",
                options: [
                    "a) CMIP/CMIS es no orientado a conexión",
                    "b) CMIP/CMIS permite borrar y crear, mientras que SNMP no",
                    "c) SNMP es orientado a conexión",
                    "d) CMIP/CMIS solo monitoriza"
                ],
                correctAnswer: "b) CMIP/CMIS permite borrar y crear, mientras que SNMP no"
            },
            {
                question: "¿Qué significa CMOT?",
                options: [
                    "a) CMIP sobre OSI",
                    "b) CMIP sobre TCP/IP",
                    "c) SNMP sobre TCP/IP",
                    "d) SNMP sobre OSI"
                ],
                correctAnswer: "b) CMIP sobre TCP/IP"
            },
            {
                question: "¿Para qué se utiliza principalmente LDAP?",
                options: [
                    "a) Monitorización de red",
                    "b) Gestión de usuarios y máquinas",
                    "c) Gestión de backup",
                    "d) Gestión de seguridad"
                ],
                correctAnswer: "b) Gestión de usuarios y máquinas"
            },
            {
                question: "¿En qué recomendaciones de directorio de OSI se basa LDAP?",
                options: [
                    "a) X.25",
                    "b) X.500",
                    "c) X.400",
                    "d) X.700"
                ],
                correctAnswer: "b) X.500"
            },
            {
                question: "¿Qué puerto TCP utiliza LDAP?",
                options: [
                    "a) 161",
                    "b) 162",
                    "c) 389",
                    "d) 636"
                ],
                correctAnswer: "c) 389"
            },
            {
                question: "¿Qué puerto TCP utiliza LDAPS (LDAP+SSL)?",
                options: [
                    "a) 389",
                    "b) 636",
                    "c) 161",
                    "d) 162"
                ],
                correctAnswer: "b) 636"
            },
            {
                question: "¿Qué tipo de operación de seguridad permite LDAP?",
                options: [
                    "a) Autorización",
                    "b) Autenticación",
                    "c) Cifrado",
                    "d) Auditoría"
                ],
                correctAnswer: "b) Autenticación"
            },
            {
                question: "¿Qué operación de LDAP permite conectarse y autenticarse?",
                options: [
                    "a) Search",
                    "b) Add",
                    "c) Bind",
                    "d) Modify"
                ],
                correctAnswer: "c) Bind"
            },
            {
                question: "¿Qué significa DN en el contexto de LDAP?",
                options: [
                    "a) Data Network",
                    "b) Distinguished Name",
                    "c) Domain Name",
                    "d) Directory Node"
                ],
                correctAnswer: "b) Distinguished Name"
            },
            {
                question: "En la URL de un servicio LDAP, ¿qué indica scope?",
                options: [
                    "a) La lista de atributos a devolver",
                    "b) La profundidad en la que se quiere buscar el objeto",
                    "c) El filtro de búsqueda",
                    "d) Las extensiones"
                ],
                correctAnswer: "b) La profundidad en la que se quiere buscar el objeto"
            },
            {
                question: "¿Qué es un ObjectClass en LDAP?",
                options: [
                    "a) Un identificador único de entrada",
                    "b) Un esquema que define las propiedades de los atributos",
                    "c) Un formato de fichero",
                    "d) Un tipo de dato"
                ],
                correctAnswer: "b) Un esquema que define las propiedades de los atributos"
            },
            {
                question: "¿Qué formato de fichero se utiliza para importar y exportar datos en LDAP?",
                options: [
                    "a) XML",
                    "b) JSON",
                    "c) LDIF (LDAP Data Interchange Format)",
                    "d) CSV"
                ],
                correctAnswer: "c) LDIF (LDAP Data Interchange Format)"
            },
            {
                question: "¿Qué campo en un fichero LDIF se utiliza para añadir una nueva entrada al árbol?",
                options: [
                    "a) dn",
                    "b) objectClass",
                    "c) changeType: add",
                    "d) cn"
                ],
                correctAnswer: "c) changeType: add"
            },
            {
                question: "¿Qué productos de servidor LDAP se mencionan en el documento?",
                options: [
                    "a) Nagios, Zabbix",
                    "b) ActiveDirectory, OpenLDAP, Apache Directory Server",
                    "c) SNMP, CMIP",
                    "d) Asterisk"
                ],
                correctAnswer: "b) ActiveDirectory, OpenLDAP, Apache Directory Server"
            },
            {
                question: "¿Qué API de Java se menciona para gestionar consultas LDAP?",
                options: [
                    "a) JDBC",
                    "b) JMS",
                    "c) JNDI",
                    "d) JAX-WS"
                ],
                correctAnswer: "c) JNDI"
            },
            {
                question: "¿Qué significa VLAN en el contexto de gestión de dispositivos?",
                options: [
                    "a) Virtual Local Area Network",
                    "b) Virtual Line Access Network",
                    "c) Very Large Area Network",
                    "d) Video Local Access Network"
                ],
                correctAnswer: "a) Virtual Local Area Network"
            },
            {
                question: "¿Qué se menciona como ejemplo de gestión de backup?",
                options: [
                    "a) Librerías LTO",
                    "b) Redes SAN",
                    "c) Impresoras IPP",
                    "d) Asterisk"
                ],
                correctAnswer: "a) Librerías LTO"
            },
            {
                question: "¿Qué servicio se utiliza para la gestión de sistemas de videoconferencia y VoIP?",
                options: [
                    "a) LDAP",
                    "b) SNMP",
                    "c) Asterisk (servicio de centralita o PBX)",
                    "d) Firewall"
                ],
                correctAnswer: "c) Asterisk (servicio de centralita o PBX)"
            },
            {
                question: "¿Qué es un OID en SNMP?",
                options: [
                    "a) Un tipo de PDU",
                    "b) Un identificador de objeto",
                    "c) Una base de datos de gestión",
                    "d) Una cadena de seguridad"
                ],
                correctAnswer: "b) Un identificador de objeto"
            },
            {
                question: "¿Qué tipos de datos se mencionan en la SMI?",
                options: [
                    "a) Entero, Cadena, Booleano",
                    "b) Counter, TimeTicks, IpAddress, Gauge, Opaque, Network Address, Number, String, OID, Sequence",
                    "c) Float, Double, Char",
                    "d) Array, List, Dictionary"
                ],
                correctAnswer: "b) Counter, TimeTicks, IpAddress, Gauge, Opaque, Network Address, Number, String, OID, Sequence"
            },
            {
                question: "¿Qué RFC define el protocolo SNMP (PDUs)?",
                options: [
                    "a) RFC 1155",
                    "b) RFC 1156",
                    "c) RFC 1157",
                    "d) RFC 1213"
                ],
                correctAnswer: "c) RFC 1157"
            },
            {
                question: "¿Qué significa ASN.1 en el contexto de SNMP?",
                options: [
                    "a) Se usa para definir las bases para definir los MIB",
                    "b) Un tipo de dato en SNMP",
                    "c) Un protocolo de seguridad",
                    "d) Un formato de archivo"
                ],
                correctAnswer: "a) Se usa para definir las bases para definir los MIB"
            },
            {
                question: "¿Cuál de los siguientes no es un tipo de PDU de SNMPv1?",
                options: [
                    "a) Get",
                    "b) GetNext",
                    "c) GetBulk",
                    "d) Response"
                ],
                correctAnswer: "c) GetBulk"
            },
            {
                question: "¿Cuál es el propósito de 'Variable bindings' en una PDU de SNMP?",
                options: [
                    "a) Indicar el tipo de PDU",
                    "b) Contener OID + valor",
                    "c) Definir el Request ID",
                    "d) Especificar la versión"
                ],
                correctAnswer: "b) Contener OID + valor"
            },
            {
                question: "¿Qué información incluye una PDU Response de SNMP?",
                options: [
                    "a) PDU Type, Request ID, Error status, Error index, Variable bindings",
                    "b) PDU Type, Enterprise, Agent addr, Generic trap, Specific trap, Time stamp",
                    "c) Version, Community name",
                    "d) Non repeaters, Max repetitions"
                ],
                correctAnswer: "a) PDU Type, Request ID, Error status, Error index, Variable bindings"
            },
            {
                question: "¿Qué es un 'Trap' en SNMPv1?",
                options: [
                    "a) Una consulta de recuperación",
                    "b) Una alarma enviada del Agente al Gestor",
                    "c) Una modificación de valor",
                    "d) Una respuesta a una solicitud"
                ],
                correctAnswer: "b) Una alarma enviada del Agente al Gestor"
            },
            {
                question: "¿Qué PDU va de la mano con la PDU Get?",
                options: [
                    "a) Set",
                    "b) Response",
                    "c) Trap",
                    "d) GetNext"
                ],
                correctAnswer: "b) Response"
            }
        ];

        // Get DOM elements
        const quizContent = document.getElementById('quiz-content');
        const questionDisplay = document.getElementById('question-display');
        const optionsDisplay = document.getElementById('options-display');
        const feedback = document.getElementById('feedback');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const restartButtonNav = document.getElementById('restart-button-nav');
        const finalScoreDisplay = document.getElementById('final-score-display');
        const scoreSummary = document.getElementById('score-summary');

        // State variables
        let currentQuestionIndex = 0;
        let userAnswers = [];

        // Constants for localStorage keys
        const LS_CURRENT_INDEX = 'quizCurrentIndex';
        const LS_USER_ANSWERS = 'quizUserAnswers';

        // Event Listeners
        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                saveState();
                loadQuestion();
            }
        });

        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                saveState();
                loadQuestion();
            } else if (currentQuestionIndex === questions.length - 1) {
                showFinalScore();
            }
        });

        restartButtonNav.addEventListener('click', () => {
            restartQuiz();
        });

        optionsDisplay.addEventListener('click', (event) => {
            if (event.target.classList.contains('option-button')) {
                handleAnswerSelection(event.target);
            }
        });

        // Functions
        function loadState() {
            const savedIndex = localStorage.getItem(LS_CURRENT_INDEX);
            const savedAnswers = localStorage.getItem(LS_USER_ANSWERS);

            if (savedIndex !== null) {
                currentQuestionIndex = parseInt(savedIndex);
            }

            if (savedAnswers !== null) {
                userAnswers = JSON.parse(savedAnswers);
            } else {
                userAnswers = new Array(questions.length).fill(null);
            }
        }

        function saveState() {
            localStorage.setItem(LS_CURRENT_INDEX, currentQuestionIndex);
            localStorage.setItem(LS_USER_ANSWERS, JSON.stringify(userAnswers));
        }

        function loadQuestion() {
            // Hide final score and summary if visible
            finalScoreDisplay.classList.add('hidden');
            scoreSummary.classList.add('hidden');
            quizContent.style.display = 'block';

            // Update navigation button states
            prevButton.disabled = currentQuestionIndex === 0;
            
            if (currentQuestionIndex === questions.length - 1) {
                nextButton.textContent = 'Finalizar Test';
            } else {
                nextButton.textContent = 'Siguiente';
            }
            nextButton.disabled = userAnswers[currentQuestionIndex] === null;

            // Display question
            const currentQuestion = questions[currentQuestionIndex];
            questionDisplay.textContent = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;
            
            // Display options
            optionsDisplay.innerHTML = '';
            currentQuestion.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-button');
                button.setAttribute('data-option', option);

                // Highlight the previously selected answer
                if (userAnswers[currentQuestionIndex] === option) {
                    button.classList.add('selected');
                }
                optionsDisplay.appendChild(button);
            });

            // Clear feedback
            feedback.textContent = '';
        }

        function handleAnswerSelection(button) {
            const selectedOption = button.getAttribute('data-option');
            userAnswers[currentQuestionIndex] = selectedOption;
            saveState();
            loadQuestion(); // Reload to update UI
        }

        function showFinalScore() {
            quizContent.style.display = 'none';
            finalScoreDisplay.classList.remove('hidden');
            scoreSummary.classList.remove('hidden');
            
            let correctCount = 0;
            let incorrectCount = 0;
            let unansweredCount = 0;

            userAnswers.forEach((answer, index) => {
                if (answer === null) {
                    unansweredCount++;
                } else if (answer === questions[index].correctAnswer) {
                    correctCount++;
                } else {
                    incorrectCount++;
                }
            });

            finalScoreDisplay.textContent = `Resultado Final: Has respondido correctamente a ${correctCount} de ${questions.length} preguntas.`;
            scoreSummary.innerHTML = `
                <p><strong>Preguntas Correctas:</strong> <span class="text-green-600">${correctCount}</span></p>
                <p><strong>Preguntas Incorrectas:</strong> <span class="text-red-600">${incorrectCount}</span></p>
                <p><strong>Preguntas Sin Contestar:</strong> <span class="text-gray-600">${unansweredCount}</span></p>
            `;

            // Display a single restart button
            const restartButtonFinal = document.createElement('button');
            restartButtonFinal.textContent = 'Reiniciar Test';
            restartButtonFinal.classList.add('restart-button');
            restartButtonFinal.classList.remove('hidden');
            restartButtonFinal.addEventListener('click', restartQuiz);
            
            scoreSummary.appendChild(restartButtonFinal);
        }

        function restartQuiz() {
            localStorage.removeItem(LS_CURRENT_INDEX);
            localStorage.removeItem(LS_USER_ANSWERS);
            currentQuestionIndex = 0;
            userAnswers = new Array(questions.length).fill(null);
            loadQuestion();
        }

        // Initial load
        window.onload = () => {
            loadState();
            loadQuestion();
        };
    </script>
</body>
</html>

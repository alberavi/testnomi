<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Interactivo NoSQL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .quiz-container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 700px;
            width: 100%;
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .quiz-title {
            color: #003366;
            font-family: 'Georgia', serif;
            font-size: 3rem;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
        }
        .question-text {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 2px;
            line-height: 1.4;
            text-align: left;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 2px;
        }
        .option-button {
            background-color: #e2e8f0;
            color: #4a5568;
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            border: 2px solid transparent;
        }
        .option-button:hover {
            background-color: #cbd5e0;
            color: #2d3748;
        }
        .option-button.correct {
            background-color: #d4edda;
            color: #155724;
            border-color: #28a745;
        }
        .option-button.incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border-color: #dc3545;
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            gap: 8px;
            margin-top: 0px;
            flex-wrap: wrap;
        }
        .nav-button {
            background-color: #4299e1;
            color: white;
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            flex-grow: 1;
            max-width: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .nav-button:hover {
            background-color: #3182ce;
        }
        .nav-button:disabled {
            background-color: #a0aec0;
            cursor: not-allowed;
        }
        .result-message {
            font-size: 1rem;
            font-weight: 600;
            margin-top: 10px;
            min-height: 25px;
        }
        .final-message {
            font-size: 1.3rem;
            color: #2c3e50;
            margin-top: 20px;
            text-align: center;
        }
        @media (max-width: 600px) {
            .quiz-title {
                font-size: 2rem;
            }
            .question-text {
                font-size: 1.2rem;
            }
            .option-button {
                font-size: 1rem;
                padding: 12px 15px;
            }
            .nav-button {
                padding: 10px 15px;
                font-size: 1rem;
            }
            .navigation-buttons {
                flex-direction: column;
                align-items: center;
            }
            .nav-button {
                width: 100%;
                max-width: none;
            }
            .result-message {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
         <h1 class="quiz-title">NoSQL</h1>
        <div class="question-text" id="question-text"></div>
        <div class="options-container" id="options-container"></div>
        <div class="result-message" id="result-message"></div>
        <div class="navigation-buttons">
            <button class="nav-button" id="prev-button" disabled>Anterior</button>
            <button class="nav-button" id="next-button">Siguiente</button>
            <button class="nav-button" id="reset-button">Reiniciar Test</button>
        </div>
        <div class="final-message" id="final-message" style="display: none;"></div>
    </div>

    <script>
        // Mover el array questionData al inicio del script para que sea accesible globalmente
        const questionData = [
            {
                question: "¿Cuál es una de las ventajas de los sistemas NoSQL mencionada en el texto? A) Garantizan completamente ACID. B) Mejor ajuste que el modelo relacional. C) Falta de madurez y experiencia. D) No permiten que los esquemas cambien.",
                answer: "B) Mejor ajuste que el modelo relacional."
            },
            {
                question: "Según el documento, ¿qué característica permite que los esquemas en NoSQL cambien? A) Consistencia estricta. B) Esquemas flexibles y agregación. C) Alto volumen de datos. D) NoSQL no permite cambios de esquema.",
                answer: "B) Esquemas flexibles y agregación."
            },
            {
                question: "¿Qué tipo de particionamiento de información es el \"SHARDING\" según el texto? A) Particionamiento vertical. B) Particionamiento horizontal. C) Replicación de datos. D) Agregación de datos.",
                answer: "B) Particionamiento horizontal."
            },
            {
                question: "Una desventaja de NoSQL mencionada es que no garantizan completamente... A) CAP. B) BASE. C) ACID. D) SQL.",
                answer: "C) ACID."
            },
            {
                question: "¿Qué significa la \"Consistencia eventual\" en el contexto de NoSQL, según el texto? A) Todos los nodos ven la misma información instantáneamente. B) La información distribuida tarda en consolidarse. C) El sistema siempre está disponible. D) El sistema es inmune a fallos de comunicación.",
                answer: "B) La información distribuida tarda en consolidarse."
            },
            {
                question: "¿Cuál es una de las desventajas relacionadas con la compatibilidad en NoSQL? A) Hay estándares definidos. B) Falta de madurez y experiencia. C) Se integra fácilmente con RDBMS. D) No hay necesidad de compatibilidad.",
                answer: "B) Falta de madurez y experiencia."
            },
            {
                question: "El Teorema CAP o de Brewer tiene 3 propiedades. ¿Cuáles son? A) Costo, Agilidad, Productividad. B) Consistencia, Acceso, Rendimiento. C) Consistencia, Disponibilidad, Tolerancia a Particiones. D) Centralización, Automatización, Perdurabilidad.",
                answer: "C) Consistencia, Disponibilidad, Tolerancia a Particiones."
            },
            {
                question: "Según el Teorema CAP, ¿cuántas características puede asegurar un sistema simultáneamente? A) Una. B) Dos. C) Las tres. D) Ninguna.",
                answer: "B) Dos."
            },
            {
                question: "¿Qué significa \"Consistency\" en el Teorema CAP? A) Toda petición recibe una respuesta. B) El sistema debe seguir funcionando a pesar de fallos en las comunicaciones. C) Todos los nodos ven la misma información. D) El sistema se recupera si se cae un nodo.",
                answer: "C) Todos los nodos ven la misma información."
            },
            {
                question: "¿Qué significa \"Availability\" en el Teorema CAP? A) Todos los nodos ven la misma información. B) Toda petición tiene que recibir una respuesta. C) El sistema debe seguir funcionando a pesar de fallos en las comunicaciones. D) El sistema no puede caerse.",
                answer: "B) Toda petición tiene que recibir una respuesta."
            },
            {
                question: "¿Qué significa \"Partition Tolerance\" en el Teorema CAP? A) Todos los nodos ven la misma información. B) Toda petición tiene que recibir una respuesta. C) El sistema debe seguir funcionando aunque haya fallos en las comunicaciones. D) La información se replica en todas las particiones.",
                answer: "C) El sistema debe seguir funcionando aunque haya fallos en las comunicaciones."
            },
            {
                question: "Según la clasificación por modelo de información, ¿qué dos tipos han quedado obsoletos? A) Clave-Valor y Documentos. B) Grafos y Familia Columnas. C) Objetos y XML. D) Clave-Valor y Grafos.",
                answer: "C) Objetos y XML."
            },
            {
                question: "¿Qué sistema NoSQL se menciona como ejemplo de base de datos de Documentos? A) Redis. B) Cassandra. C) MongoDB. D) Neo4J.",
                answer: "C) MongoDB."
            },
            {
                question: "En MongoDB, ¿en qué formato se manejan las colecciones de documentos? A) XML. B) SQL. C) JSON. D) CSV.",
                answer: "C) JSON."
            },
            {
                question: "¿Qué característica tienen los documentos en MongoDB respecto a su esquema? A) El esquema es fijo y predefinido. B) No hace falta definir un esquema. C) El esquema debe ser estrictamente relacional. D) El esquema es definido por una Primary Key.",
                answer: "B) No hace falta definir un esquema."
            },
            {
                question: "En las bases de datos de Clave-Valor, ¿para qué se usan a menudo, según el texto? A) Para almacenar información binaria. B) Como gestor de datos de apoyo, a modo de caché de 1er nivel. C) Para análisis forense. D) Para definir esquemas complejos.",
                answer: "B) Como gestor de datos de apoyo, a modo de caché de 1er nivel."
            },
            {
                question: "¿Qué tipo de dato de REDIS se menciona para operaciones get y set? A) Sets. B) Lists. C) Strings. D) Hashes.",
                answer: "C) Strings."
            },
            {
                question: "¿Qué empresa se menciona que usa REDIS para montar el timeline de la página de inicio de cada usuario? A) Google. B) Facebook. C) Twitter. D) Amazon.",
                answer: "C) Twitter."
            },
            {
                question: "¿En qué se basa el sistema de las bases de datos de Grafos? A) Tablas con filas y columnas. B) Información contenida en nodos y aristas. C) Colecciones de documentos JSON. D) Pares clave-valor.",
                answer: "B) Información contenida en nodos y aristas."
            },
            {
                question: "¿Qué tipo de información pueden contener tanto los nodos como las relaciones (vértices) en las bases de datos de Grafos? A) Solo IDs. B) Solo metadatos. C) Properties. D) Timestamps.",
                answer: "C) Properties."
            },
            {
                question: "¿Qué algoritmo se menciona en las bases de datos de Grafos para medir la influencia transitiva o la conectividad? A) Dijkstra. B) A*. C) PageRank. D) Tarjan.",
                answer: "C) PageRank."
            },
            {
                question: "En las bases de datos de Familia Columnas, ¿qué tiene asociado cada columna? A) Un Row Key. B) Un timestamp. C) Una Primary Key. D) Un esquema fijo.",
                answer: "B) Un timestamp."
            },
            {
                question: "¿Cuántas dimensiones se mencionan para las bases de datos de Familia Columnas? A) Dos. B) Tres. C) Cuatro. D) Cinco.",
                answer: "C) Cuatro."
            },
            {
                question: "¿Qué es HDFS en el contexto de Big Data? A) Un sistema de gestión de bases de datos. B) Un sistema de ficheros distribuido. C) Una herramienta de Machine Learning. D) Una capa de consulta sobre Hadoop.",
                answer: "B) Un sistema de ficheros distribuido."
            },
            {
                question: "¿Qué herramienta se utiliza para Machine Learning en el contexto de Big Data? A) PIG. B) HIVE. C) Mahout. D) Spark SQL.",
                answer: "C) Mahout."
            },
            {
                question: "¿Qué permite Apache Kafka según el texto? A) Gestionar el cluster. B) Sincronizar datos entre sistemas. C) Realizar consultas SQL sobre Hadoop. D) Implementar MapReduce.",
                answer: "B) Sincronizar datos entre sistemas."
            },
            {
                question: "¿Cuál es la principal diferencia mencionada entre MapReduce y NoSQL? A) La persistencia de los datos. B) El tiempo de respuesta. C) El volumen de datos que manejan. D) La capacidad de distribución.",
                answer: "B) El tiempo de respuesta."
            },
            {
                question: "¿Cuál es uno de los objetivos principales del Big Data, según el documento? A) Almacenar datos de forma centralizada. B) Reducir el volumen de datos. C) Encontrar patrones repetitivos para la toma de decisiones automáticas. D) Limitar la variedad de datos.",
                answer: "C) Encontrar patrones repetitivos para obtener información que permita la toma de decisiones."
            },
            {
                question: "¿Qué se hace en cada nodo en un algoritmo de computación distribuida MapReduce? A) Un proceso de agregación. B) Una pieza MAP_REDUCE. C) Una consulta SQL. D) Una operación de inserción.",
                answer: "B) Una pieza MAP_REDUCE."
            },
            {
                question: "¿Qué significan las siglas BASE en el contexto de la Consistencia eventual? A) Big Applications Soft Environments. B) Basically Available Soft State Eventually Consistent. C) Broadly Accessible Simple Engines. D) Basic Atomic Secure Encrypted.",
                answer: "B) Basically Available Soft State Eventually Consistent."
            },
            {
                question: "¿Qué RDBMS se menciona como ejemplo? A) MongoDB. B) Cassandra. C) Oracle. D) Redis.",
                answer: "C) Oracle."
            },
            {
                question: "Si se cae un nodo en un sistema con \"Partition Tolerance\", ¿qué sucede? A) El sistema se detiene por completo. B) El sistema puede recuperarse. C) Todos los datos se pierden. D) La consistencia se garantiza instantáneamente.",
                answer: "B) El sistema puede recuperarse."
            },
            {
                question: "¿Qué modelo de información es el utilizado por Cassandra y Hbase? A) Documentos. B) Clave-Valor. C) Familia Columnas. D) Grafos.",
                answer: "C) Familia Columnas."
            },
            {
                question: "¿Qué sistema NoSQL se utiliza en el ejemplo de la página para la \"Familia Columnas\"? A) MongoDB. B) Redis. C) Cassandra. D) Neo4J.",
                answer: "C) Cassandra."
            },
            {
                question: "¿Cuál es el campo que se genera automáticamente al insertar un documento en MongoDB? A) name. B) age. C) id. D) status.",
                answer: "C) id."
            },
            {
                question: "En el ejemplo de MongoDB, ¿qué hace el método find? A) Inserta un nuevo documento. B) Actualiza un documento existente. C) Filtra y proyecta documentos. D) Elimina documentos.",
                answer: "C) Filtra y proyecta documentos."
            },
            {
                question: "¿Qué tipo de dato de REDIS se asocia a operaciones sadd y smembers? A) Strings. B) Sets. C) Lists. D) Hashes.",
                answer: "B) Sets."
            },
            {
                question: "¿Qué tipo de dato de REDIS se asocia a operaciones lpush y lrange? A) Strings. B) Sets. C) Lists. D) Hashes.",
                answer: "C) Lists."
            },
            {
                question: "¿Qué tipo de dato de REDIS se asocia a operaciones hmset y hmget? A) Strings. B) Sets. C) Lists. D) Hashes.",
                answer: "D) Hashes."
            },
            {
                question: "¿Para qué se usa el algoritmo Shortest Path con Dijkstra o A* en las bases de datos de Grafos? A) Medir la influencia. B) Encontrar la ruta más corta. C) Identificar componentes conectados. D) Calcular promedios.",
                answer: "B) Encontrar la ruta más corta."
            },
            {
                question: "¿Qué se menciona que está desnormalizado en las bases de datos de Familia Columnas? A) El esquema. B) Cada fila. C) Cada columna. D) El Keyspace.",
                answer: "B) Cada fila."
            },
            {
                question: "¿Qué es YARN o MESOS en el ecosistema Hadoop? A) Un sistema de ficheros. B) Un gestor de cluster. C) Una capa de consulta. D) Una herramienta de Machine Learning.",
                answer: "B) Un gestor de cluster."
            },
            {
                question: "¿Qué capa se usa para hacer consultas sobre los datos en Hadoop? A) MapReduce. B) HDFS. C) Spark SQL. D) YARN.",
                answer: "C) Spark SQL."
            },
            {
                question: "¿Qué característica principal tienen las escrituras en NoSQL? A) Lentas. B) Rápidas. C) Interactivas. D) Solo en batch.",
                answer: "B) Rápidas."
            },
            {
                question: "¿Qué característica principal tienen las lecturas en NoSQL? A) Lentas. B) Rápidas. C) Solo en batch. D) Dependientes del volumen.",
                answer: "B) Rápidas."
            },
            {
                question: "¿Qué se entiende por \"Persistencia poliglota\"? A) Usar un único tipo de base de datos para todos los casos. B) Combinar diferentes tipos de bases de datos según el caso de uso. C) Almacenar datos en múltiples idiomas. D) Usar solo RDBMS para la persistencia.",
                answer: "B) Combinar diferentes tipos de bases de datos según el caso de uso."
            },
            {
                question: "¿Qué hace la función map en un proceso MapReduce? A) Calcula la suma de valores. B) Filtra los datos. C) Mapea muchos nodos al estar la información distribuida. D) Reduce la información.",
                answer: "C) Mapea muchos nodos al estar la información distribuida."
            },
            {
                question: "¿Qué hace la función reduce en un proceso MapReduce? A) Distribuye la información. B) Trocea la información y realiza un cálculo. C) Mapea los nodos. D) Emite el ID del cliente.",
                answer: "B) Trocea la información y realiza un cálculo."
            },
            {
                question: "¿Cuáles son las \"V\" del Big Data mencionadas en el texto? A) Velocidad, Valor, Visibilidad, Versatilidad, Verificación. B) Volumen, Variedad, Velocidad, Veracidad, Valor. C) Volumen, Veracidad, Vitalidad, Visualización, Volatilidad. D) Variedad, Velocidad, Valor, Viabilidad, Visión.",
                answer: "B) Volumen, Variedad, Velocidad, Veracidad, Valor."
            },
            {
                question: "¿Cuál es el objetivo principal del Big Data mediante el análisis de gran cantidad de datos? A) Simplemente almacenar los datos. B) Encontrar patrones repetitivos para obtener información que permita la toma de decisiones. C) Limitar el acceso a la información. D) Reducir la complejidad de los datos.",
                answer: "B) Encontrar patrones repetitivos para obtener información que permita la toma de decisiones."
            },
            {
                question: "En el diagrama, ¿qué representa \"Keyspace\"? A) Una tabla. B) Un esquema. C) Una fila. D) Una columna.",
                answer: "B) Un esquema."
            },
            {
                question: "En el diagrama, ¿qué representa \"Column family\"? A) Una clave. B) Una tabla. C) Una fila. D) Una columna.",
                answer: "B) Una tabla."
            },
            {
                question: "¿Qué se asocia a cada columna en el diagrama de \"Familia Columnas\"? A) Row Key. B) Settings. C) Timestamp. D) Column family.",
                answer: "C) Timestamp."
            },
            {
                question: "¿Qué RDBMS es un ejemplo de sistemas que \"no garantizan completamente ACID\"? A) Oracle. B) MySQL. C) No se mencionan RDBMS que no garanticen ACID. D) SQL Server.",
                answer: "C) No se mencionan RDBMS que no garanticen ACID."
            },
            {
                question: "¿Cuál es una de las \"Ventajas\" de NoSQL según el texto, además de la productividad en desarrollo? A) Alta compatibilidad. B) Falta de madurez. C) Volumen de datos. D) Garantía ACID.",
                answer: "C) Volumen de datos."
            },
            {
                question: "Si una base de datos NoSQL tiene Consistencia eventual, ¿qué implica para la información distribuida? A) Se consolida instantáneamente. B) Tarda en consolidarse. C) Nunca se consolida. D) Es siempre consistente.",
                answer: "B) Tarda en consolidarse."
            },
            {
                question: "¿Qué problema se menciona sobre los estándares en NoSQL? A) Hay muchos estándares. B) No hay estándares. C) Los estándares son demasiado rígidos. D) Los estándares son incompletos.",
                answer: "B) No hay estándares."
            },
            {
                question: "Según el Teorema CAP, ¿cuál de las tres propiedades (Consistency, Availability, Partition Tolerance) se debe sacrificar si se busca garantizar las otras dos? A) Solo una puede ser garantizada. B) Se puede garantizar cualquier combinación de dos. C) Las tres se garantizan siempre. D) El teorema no especifica qué se sacrifica.",
                answer: "B) Se puede garantizar cualquier combinación de dos."
            },
            {
                question: "¿Cuál de los siguientes sistemas es un ejemplo de base de datos Clave-Valor? A) MongoDB. B) Cassandra. C) REDIS. D) Neo4J.",
                answer: "C) REDIS."
            },
            {
                question: "¿Cuál de los siguientes sistemas es un ejemplo de base de datos de Grafos? A) CouchDB. B) Hbase. C) Neo4J. D) DynamoDB.",
                answer: "C) Neo4J."
            },
            {
                question: "¿Cuál de los siguientes sistemas es un ejemplo de base de datos de Familia Columnas? A) REDIS. B) MongoDB. C) Cassandra. D) OrientDB.",
                answer: "C) Cassandra."
            },
            {
                question: "Si en MongoDB no existe una colección facturas, ¿qué ocurre al intentar usar db.facturas? A) Da un error. B) La crea automáticamente. C) Pregunta al usuario si la quiere crear. D) Borra las colecciones existentes.",
                answer: "B) La crea automáticamente."
            },
            {
                question: "En el ejemplo de db.users.find, ¿qué hace la parte {\"name\":1, \"address\":1}? A) Filtra por nombre y dirección. B) Proyecta los campos nombre y dirección. C) Ordena por nombre y dirección. D) Elimina los campos nombre y dirección.",
                answer: "B) Proyecta los campos nombre y dirección."
            },
            {
                question: "¿Qué operación de MongoDB se usa para actualizar un documento? A) insertOne(). B) find(). C) updateOne(). D) deleteMany().",
                answer: "C) updateOne()."
            },
            {
                question: "¿Qué operación de MongoDB se usa para eliminar varios documentos? A) insertOne(). B) find(). C) updateOne(). D) deleteMany().",
                answer: "D) deleteMany()."
            },
            {
                question: "¿Para qué se utiliza Twitter REDIS en relación con el timeline ? A) Para almacenarlo de forma permanente. B) Para montarlo poco a poco, no en el momento de la conexión. C) Para asegurar la consistencia estricta. D) Para realizar análisis complejos de datos.",
                answer: "B) Para montarlo poco a poco, no en el momento de la conexión."
            },
            {
                question: "Además de las rutas de transporte, ¿en qué otro ámbito se mencionan las bases de datos de Grafos? A) Comercio electrónico. B) Análisis forense. C) Gestión de documentos. D) Almacenamiento de series temporales.",
                answer: "B) Análisis forense."
            },
            {
                question: "¿Qué mide el algoritmo PageRank? A) La distancia más corta entre nodos. B) La influencia transitiva o la conectividad. C) El número de propiedades. D) La consistencia de los datos.",
                answer: "B) La influencia transitiva o la conectividad."
            },
            {
                question: "¿Qué algoritmo se menciona para \"Strongly Connected Components\"? A) PageRank. B) Dijkstra. C) Tarjan. D) A*.",
                answer: "C) Tarjan."
            },
            {
                question: "En la Familia Columnas, ¿cada fila puede tener diferentes... ? A) Keyspaces. B) Column families. C) Columnas. D) Timestamps.",
                answer: "C) Columnas."
            },
            {
                question: "¿Qué es Map_Reduce en el contexto de Big Data? A) Un sistema de ficheros. B) Un algoritmo de computación distribuida. C) Un gestor de cluster. D) Una base de datos NoSQL.",
                answer: "B) Un algoritmo de computación distribuida."
            },
            {
                question: "¿Dónde están distribuidos los datos en los sistemas Hadoop para la potencia de cómputo masiva? A) En un único servidor central. B) En nodos HDFS. C) En bases de datos relacionales. D) En la memoria principal.",
                answer: "B) En nodos HDFS."
            },
            {
                question: "¿Qué tipo de procesamiento se asocia a MapReduce? A) Realtime. B) Interactivo. C) Batch. D) Streaming.",
                answer: "C) Batch."
            },
            {
                question: "¿Qué característica del Big Data se refiere a la velocidad? A) El volumen de los datos. B) La rapidez de generación y procesamiento. C) La diversidad de fuentes. D) La fiabilidad de la información.",
                answer: "B) La rapidez de generación y procesamiento."
            },
            {
                question: "¿Qué característica del Big Data se refiere a la variedad? A) El gran volumen. B) La rapidez de procesamiento. C) Las características heterogéneas de los datos. D) La confiabilidad.",
                answer: "C) Las características heterogéneas de los datos."
            },
            {
                question: "¿Qué característica del Big Data se refiere a la veracidad? A) El valor económico de los datos. B) La calidad y fiabilidad de los datos. C) La velocidad de acceso. D) La diversidad de formatos.",
                answer: "B) La calidad y fiabilidad de los datos."
            },
            {
                question: "¿Qué característica del Big Data se refiere al valor? A) El coste de almacenamiento. B) La información que se obtiene para la toma de decisiones. C) La cantidad de datos procesados. D) La velocidad de ingesta.",
                answer: "B) La información que se obtiene para la toma de decisiones."
            },
            {
                question: "¿Qué significan las siglas RDBMS? A) Relational Big Data Management System. B) Realtime Database Management Solution. C) Relational Database Management System. D) Rapid Data Backup Management System.",
                answer: "C) Relational Database Management System."
            },
            {
                question: "¿Qué se menciona que \"se hace particionamiento horizontal de la información\" en el contexto de \"SHARDING\"? A) Se distribuyen los datos en diferentes tablas. B) Se dividen las filas de una tabla entre múltiples servidores. C) Se separan las columnas de una tabla. D) Se replica la base de datos completa.",
                answer: "B) Se dividen las filas de una tabla entre múltiples servidores."
            },
            {
                question: "¿Qué se menciona como \"complicado cambiar\" una vez fijado el criterio de SHARDING? A) La estructura de los datos. B) El criterio de particionamiento. C) El tipo de base de datos. D) El idioma de los datos.",
                answer: "B) El criterio de particionamiento."
            },
            {
                question: "¿Cuál es un ejemplo de criterio para dividir facturas en SHARDING, según el texto? A) Tipo de cliente. B) Fecha o importe. C) Número de productos. D) País de origen.",
                answer: "B) Fecha o importe."
            },
            {
                question: "¿Qué sistemas se mencionan en la clasificación bajo \"Risk\" en relación con el Teorema CAP? A) MongoDB. B) Redis. C) Cassandra. D) Oracle.",
                answer: "C) Cassandra."
            },
            {
                question: "En el contexto de \"Documentos\", ¿qué sistema se menciona junto a MongoDB? A) Redis. B) CouchDB. C) Cassandra. D) Neo4J.",
                answer: "B) CouchDB."
            },
            {
                question: "¿Qué sistema se menciona como \"Clave-Valor\" además de REDIS? A) Hbase. B) Voldemort. C) OrientDB. D) DynamoDB.",
                answer: "B) Voldemort."
            },
            {
                question: "¿Qué sistema se menciona como \"Grafos\" además de Neo4J? A) Cassandra. B) MongoDB. C) OrientDB. D) Redis.",
                answer: "C) OrientDB."
            },
            {
                question: "¿Qué se menciona que MongoDB puede enlazarse para almacenar información binaria? A) MySQL. B) Alfresco. C) Oracle. D) Hadoop.",
                answer: "B) Alfresco."
            },
            {
                question: "En el ejemplo db.users.insertOne({\"name\":\"sue\", \"age\":26, \"status\":\"pending\"}), ¿qué es users? A) Un campo. B) Un documento. C) Una colección. D) Un método.",
                answer: "C) Una colección."
            },
            {
                question: "¿Qué tipo de procesamiento se asocia a NoSQL, en contraste con MapReduce? A) Batch. B) Interactivo. C) De solo lectura. D) De solo escritura.",
                answer: "B) Interactivo."
            },
            {
                question: "¿Qué significan los puntos azules con flechas rojas en el diagrama de \"Column family\"? A) Inserción de nuevas filas. B) Adición de nuevas tablas. C) Datos con timestamp. D) Relaciones entre columnas.",
                answer: "C) Datos con timestamp."
            },
            {
                question: "¿Qué representa el \"Row Key\" en el diagrama de \"Column family\"? A) El identificador de la columna. B) El identificador de la fila. C) El esquema de la tabla. D) Los ajustes de la base de datos.",
                answer: "B) El identificador de la fila."
            },
            {
                question: "¿Qué se menciona que Apache Kafka permite entre los dos sistemas (MapReduce y NoSQL)? A) Separar los datos. B) Sincronizar los datos. C) Borrar los datos. D) Analizar los datos.",
                answer: "B) Sincronizar los datos."
            },
            {
                question: "¿Qué es el \"Driver\" en la arquitectura de mongoDB Client Application? A) La aplicación cliente. B) Un componente para conectar la aplicación con la base de datos. C) La base de datos. D) Un tipo de documento.",
                answer: "B) Un componente para conectar la aplicación con la base de datos."
            },
            {
                question: "¿Qué concepto se usa para definir las propiedades de los nodos y aristas en las bases de datos de Grafos? A) JSON. B) SQL. C) Properties. D) Key-Value.",
                answer: "C) Properties."
            },
            {
                question: "En el ámbito de Big Data, ¿qué es HIVE? A) Un sistema de ficheros distribuido. B) Una herramienta para hacer consultas sobre Hadoop. C) Un gestor de cluster. D) Una base de datos NoSQL.",
                answer: "B) Una herramienta para hacer consultas sobre Hadoop."
            },
            {
                question: "Si un sistema NoSQL es \"Highly distributed\", ¿qué ventaja se desprende de ello según el texto? A) Menor volumen de datos. B) Sistemas escalables. C) Mayor madurez. D) Garantía ACID.",
                answer: "B) Sistemas escalables."
            },
            {
                question: "¿Qué se entiende por \"Desnormalizado\" en las bases de datos de Familia Columnas? A) Que los datos están repetidos. B) Que no sigue las reglas de normalización de las bases de datos relacionales. C) Que los datos están muy normalizados. D) Que solo se almacenan datos numéricos.",
                answer: "B) Que no sigue las reglas de normalización de las bases de datos relacionales."
            },
            {
                question: "¿Cuál de los siguientes no es un RDBMS mencionado en el texto? A) Oracle. B) MySQL. C) Cassandra. D) PostgreSQL.",
                answer: "C) Cassandra."
            },
            {
                question: "¿Qué tipo de dato se asocia con Track ID y Album ID en el diagrama de \"Products\"? A) Secondary Key. B) Primary Key. C) Partition Key. D) Sort Key.",
                answer: "D) Sort Key."
            },
            {
                question: "¿Qué sistema se menciona como \"HOGE\" en el diagrama del Teorema CAP? A) Cassandra. B) MongoDB. C) Dynamo. D) Redis.",
                answer: "A) Cassandra."
            },
            {
                question: "¿Qué se menciona que \"indexa todo lo que se va introduciendo de forma nativa\" en MongoDB? A) Las consultas. B) Los documentos. C) Las colecciones. D) Los esquemas.",
                answer: "B) Los documentos."
            }
        ];

        let userAnswers = new Array(questionData.length).fill(null);
        let currentQuestionIndex = 0;

        // Función para cargar el progreso desde el almacenamiento local
        function loadProgress() {
            try {
                const savedUserAnswers = localStorage.getItem('nosqlQuizUserAnswers');
                const savedCurrentQuestionIndex = localStorage.getItem('nosqlQuizCurrentQuestionIndex');

                if (savedUserAnswers && savedCurrentQuestionIndex) {
                    userAnswers = JSON.parse(savedUserAnswers);
                    currentQuestionIndex = parseInt(savedCurrentQuestionIndex, 10);
                } else {
                    userAnswers = new Array(questionData.length).fill(null);
                    currentQuestionIndex = 0;
                }
            } catch (e) {
                console.error("Error al cargar el progreso del test desde el almacenamiento local:", e);
                userAnswers = new Array(questionData.length).fill(null);
                currentQuestionIndex = 0;
            }
        }

        // Función para guardar el progreso en el almacenamiento local
        function saveProgress() {
            try {
                localStorage.setItem('nosqlQuizUserAnswers', JSON.stringify(userAnswers));
                localStorage.setItem('nosqlQuizCurrentQuestionIndex', currentQuestionIndex.toString());
            } catch (e) {
                console.error("Error al guardar el progreso del test en el almacenamiento local:", e);
            }
        }

        // Función para reiniciar el test
        function resetQuiz() {
            userAnswers = new Array(questionData.length).fill(null);
            currentQuestionIndex = 0;
            localStorage.removeItem('nosqlQuizUserAnswers');
            localStorage.removeItem('nosqlQuizCurrentQuestionIndex');
            loadContent();
        }

        // Función para cargar el contenido (ahora usa loadProgress)
        function loadContent() {
            loadProgress();
            displayQuestion();
        }

        // Función para mostrar la pregunta actual
        function displayQuestion() {
            const questionTextElement = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const resultMessageElement = document.getElementById('result-message');
            const prevButton = document.getElementById('prev-button');
            const nextButton = document.getElementById('next-button');
            const finalMessageElement = document.getElementById('final-message');

            resultMessageElement.textContent = '';
            finalMessageElement.style.display = 'none';

            if (currentQuestionIndex < questionData.length) {
                const currentData = questionData[currentQuestionIndex];
                const parts = currentData.question.split(/ (A|B|C|D)\)/);
                
                // Se añade el número de la pregunta
                questionTextElement.textContent = `${currentQuestionIndex + 1}. ${parts[0].trim()}`;
                
                optionsContainer.innerHTML = '';
                const options = [];
                for (let i = 1; i < parts.length; i += 2) {
                    options.push(parts[i] + ')' + parts[i + 1]);
                }

                options.forEach(option => {
                    const button = document.createElement('button');
                    button.className = 'option-button';
                    button.textContent = option.trim();
                    button.onclick = () => selectOption(option.trim());
                    optionsContainer.appendChild(button);
                });

                // El botón "Anterior" se deshabilita en la primera pregunta
                prevButton.disabled = currentQuestionIndex === 0;
                
                // Lógica modificada: el botón "Siguiente" ahora cambia a "Ver Resultados" en la última pregunta
                if (currentQuestionIndex === questionData.length - 1) {
                    nextButton.textContent = 'Ver Resultados';
                    nextButton.disabled = false;
                } else {
                    nextButton.textContent = 'Siguiente';
                    nextButton.disabled = false;
                }

                if (userAnswers[currentQuestionIndex] !== null) {
                    highlightSelectedOption(userAnswers[currentQuestionIndex]);
                }
            } else {
                // Fin del test
                questionTextElement.textContent = '¡Test Completado!';
                optionsContainer.innerHTML = '';
                resultMessageElement.textContent = '';
                prevButton.disabled = true;
                nextButton.disabled = true;
                nextButton.textContent = 'Siguiente';

                // Calcular el número de respuestas correctas, incorrectas y no contestadas
                let correctCount = 0;
                let incorrectCount = 0;
                let unansweredCount = 0;

                for (let i = 0; i < questionData.length; i++) {
                    if (userAnswers[i] === null) {
                        unansweredCount++;
                    } else if (userAnswers[i].trim() === questionData[i].answer.trim()) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }

                finalMessageElement.style.display = 'block';
                finalMessageElement.innerHTML = `
                    <p>Resultados Finales:</p>
                    <p>Respuestas Correctas: ${correctCount}</p>
                    <p>Respuestas Incorrectas: ${incorrectCount}</p>
                    <p>Preguntas Sin Contestar: ${unansweredCount}</p>
                `;
            }
        }

        // Función para seleccionar una opción
        function selectOption(selectedOption) {
            userAnswers[currentQuestionIndex] = selectedOption;
            saveProgress();
            highlightSelectedOption(selectedOption);
            // El botón "Siguiente" se habilita si no es la última pregunta
            if (currentQuestionIndex < questionData.length - 1) {
                document.getElementById('next-button').disabled = false;
            } else {
                // También habilita el botón si es la última pregunta para ver los resultados
                document.getElementById('next-button').disabled = false;
            }
        }

        // Función para resaltar la opción seleccionada y mostrar la correcta
        function highlightSelectedOption(selectedOption) {
            const optionsButtons = document.querySelectorAll('.option-button');
            const correctAnswer = questionData[currentQuestionIndex].answer.trim();
            const resultMessageElement = document.getElementById('result-message');

            optionsButtons.forEach(button => {
                button.disabled = true;
                button.classList.remove('correct', 'incorrect');

                if (button.textContent === correctAnswer) {
                    button.classList.add('correct');
                }

                if (button.textContent === selectedOption && selectedOption !== correctAnswer) {
                    button.classList.add('incorrect');
                }
            });

            if (selectedOption === correctAnswer) {
                resultMessageElement.textContent = '¡Correcto!';
                resultMessageElement.style.color = '#28a745';
            } else {
                resultMessageElement.textContent = `Incorrecto. La respuesta correcta es: ${correctAnswer}`;
                resultMessageElement.style.color = '#dc3545';
            }
        }

        // Event listeners para los botones de navegación
        document.getElementById('next-button').addEventListener('click', () => {
            if (currentQuestionIndex < questionData.length) {
                currentQuestionIndex++;
                saveProgress();
                displayQuestion();
            }
        });

        document.getElementById('prev-button').addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                saveProgress();
                displayQuestion();
            }
        });

        // Event listener para el botón de reinicio
        document.getElementById('reset-button').addEventListener('click', resetQuiz);

        // Cargar el contenido cuando la ventana se haya cargado
        window.onload = loadContent;
    </script>
</body>
</html>

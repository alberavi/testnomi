<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2 PASTILLA ROJA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            text-align: center;
            position: relative;
        }
        .question-container {
            margin-bottom: 20px;
            text-align: left;
        }
        .question-text {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #1f2937;
        }
        .options-container label {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: #e5e7eb;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .options-container label:hover {
            background-color: #d1d5db;
        }
        .options-container input[type="radio"] {
            margin-right: 15px;
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #6b7280;
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            flex-shrink: 0;
        }
        .options-container input[type="radio"]:checked {
            background-color: #2563eb;
            border-color: #2563eb;
        }
        .options-container input[type="radio"]:checked::before {
            content: '';
            display: block;
            width: 10px;
            height: 10px;
            background-color: #ffffff;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .options-container label.correct {
            background-color: #d1fae5; /* Green for correct */
            border: 2px solid #10b981;
        }
        .options-container label.incorrect {
            background-color: #fee2e2; /* Red for incorrect */
            border: 2px solid #ef4444;
        }
        .feedback-message {
            margin-top: 15px;
            font-weight: 600;
            font-size: 1.1rem;
        }
        .feedback-message.correct {
            color: #10b981;
        }
        .feedback-message.incorrect {
            color: #ef4444;
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }
        .navigation-buttons button, .action-button {
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            background-image: linear-gradient(to right, #6366f1, #3b82f6);
            color: white;
            border: none;
        }
        .navigation-buttons button:hover, .action-button:hover {
            transform: translateY(-2px);
            background-image: linear-gradient(to right, #4f46e5, #2563eb);
        }
        .navigation-buttons button:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .reset-button {
            background-color: #f59e0b;
            margin-top: 20px;
            width: auto;
            padding: 10px 20px;
            font-size: 0.9rem;
            position: absolute;
            top: 20px;
            right: 20px;
        }
        .reset-button:hover {
            background-color: #d97706;
        }
        .results-container {
            margin-top: 20px;
            text-align: left;
        }
        .results-container p {
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: #374151;
        }
        .results-container .correct-count {
            color: #10b981;
            font-weight: 700;
        }
        .results-container .incorrect-count {
            color: #ef4444;
            font-weight: 700;
        }
        .results-container .unanswered-count {
            color: #6b7280;
            font-weight: 700;
        }
        .start-button {
            padding: 15px 30px;
            font-size: 1.2rem;
            background-image: linear-gradient(to right, #10b981, #059669);
            margin-top: 30px;
        }
        .start-button:hover {
            background-image: linear-gradient(to right, #059669, #047857);
        }
        .message-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            text-align: center;
            min-width: 300px;
            max-width: 90%;
            border: 2px solid #2563eb;
        }
        .message-box h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #1f2937;
        }
        .message-box p {
            margin-bottom: 20px;
            color: #4b5563;
        }
        .message-box button {
            background-color: #2563eb;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }
        .message-box button:hover {
            background-color: #1d4ed8;
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="action-button reset-button" onclick="resetQuiz()">Reiniciar Test</button>

        <div id="start-screen">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">2 PASTILLA ROJA</h2>
            <p class="text-gray-600 mb-8">Este test combina preguntas de "Rojo - General" y "Rojo - SP". Contiene un total de <span id="total-questions-start"></span> preguntas.</p>
            <button class="action-button start-button" onclick="startQuiz()">Comenzar Test</button>
        </div>

        <div id="quiz-screen" class="hidden">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">2 PASTILLA ROJA</h2> <!-- Added title to quiz screen -->
            <div class="question-container">
                <p class="text-lg text-gray-700 mb-4">Pregunta <span id="current-question-number"></span> de <span id="total-questions"></span></p>
                <p id="question-text" class="question-text"></p>
                <div id="options-container" class="options-container">
                    <!-- Options will be loaded here -->
                </div>
                <div id="feedback" class="feedback-message"></div>
            </div>
            <div class="navigation-buttons">
                <button id="prev-button" class="action-button" onclick="prevQuestion()" disabled>Anterior</button>
                <button id="next-button" class="action-button" onclick="nextQuestion()">Siguiente</button>
            </div>
        </div>

        <div id="results-screen" class="hidden">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">2 PASTILLA ROJA</h2>
            <div class="results-container">
                <p>Preguntas Correctas: <span id="correct-count" class="correct-count"></span></p>
                <p>Preguntas Erróneas: <span id="incorrect-count" class="incorrect-count"></span></p>
                <p>Preguntas Sin Contestar: <span id="unanswered-count" class="unanswered-count"></span></p>
            </div>
            <button class="action-button start-button" onclick="resetQuiz()">Volver a Empezar</button>
        </div>
    </div>

    <div id="message-box-overlay" class="overlay hidden"></div>
    <div id="custom-message-box" class="message-box hidden">
        <h3 id="message-box-title"></h3>
        <p id="message-box-content"></p>
        <button onclick="hideMessageBox()">Aceptar</button>
    </div>

    <script>
        // Array para almacenar las preguntas del test
        let quizQuestions = [];
        // Almacena las respuestas del usuario
        let userAnswers = [];
        // Índice de la pregunta actual
        let currentQuestionIndex = 0;

        // Función para mostrar un mensaje personalizado en lugar de alert/confirm
        function showMessageBox(title, message, callback = null) {
            document.getElementById('message-box-title').innerText = title;
            document.getElementById('message-box-content').innerText = message;
            document.getElementById('message-box-overlay').classList.remove('hidden');
            document.getElementById('custom-message-box').classList.remove('hidden');

            const acceptButton = document.getElementById('custom-message-box').querySelector('button');
            acceptButton.onclick = () => {
                hideMessageBox();
                if (callback) callback();
            };
        }

        // Función para ocultar el mensaje personalizado
        function hideMessageBox() {
            document.getElementById('message-box-overlay').classList.add('hidden');
            document.getElementById('custom-message-box').classList.add('hidden');
        }

        // Carga las preguntas y respuestas al iniciar
        document.addEventListener('DOMContentLoaded', () => {
            loadQuestionsAndAnswers();
            document.getElementById('total-questions-start').innerText = quizQuestions.length;
            loadProgress();
            if (userAnswers.length > 0 && currentQuestionIndex < quizQuestions.length) {
                // If there's saved progress, show the quiz screen immediately
                document.getElementById('start-screen').classList.add('hidden');
                document.getElementById('quiz-screen').classList.remove('hidden');
                displayQuestion();
            }
        });

        // Función para cargar las preguntas y respuestas desde los PDFs (simulado)
        function loadQuestionsAndAnswers() {
            // Preguntas del PDF "Rojo - General.pdf"
            const generalQuestions = [
                {
                    question: "La Constitución Española...",
                    options: {
                        a: "Fue aprobada por las Cortes, ratificada por el pueblo español y sancionada por S.M el Rey.",
                        b: "Fue aprobada por el Congreso, ratificada por el Senado y el pueblo español y sancionada por S.M el Rey.",
                        c: "Fue ratificada por las Cortes, aprobada por el pueblo español y sancionada por S.M el Rey.",
                        d: "Fue ratificada por el Congreso, aprobada por el pueblo español y sancionada por S.M el Rey"
                    },
                    correctAnswer: "a"
                },
                {
                    question: "El artículo 18 de la Constitución Española, al respecto del uso de la informática, indica que...",
                    options: {
                        a: "Su uso no podrá ser limitado por motivos políticos o ideológicos.",
                        b: "El ejercicio de este derecho no podrá restringirse mediante ningún tipo de censura previa.",
                        c: "El ejercicio de este derecho podrá restringuirse de forma previa en caso de flagrante delito o mediante resolución judicial motivada.",
                        d: "Se limitará su uso para garantizar el honor y la intimidad personal y familiar de los ciudadanos y el pleno ejercicio de sus derechos."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "El artículo 53 de la Constitución Española indica que, al respecto de la tutela de las libertades y derechos reconocidos en el artículo 14 y la Sección primera del Capítulo segundo del Título I...",
                    options: {
                        a: "Del reconocimiento, el respeto y la protección de los mismos informarán la legislación positiva, la práctica judicial y la actuación de los poderes públicos.",
                        b: "Cualquier ciudadano que esté en uso de sus derechos políticos podrá recabar su tutela ante los Tribunales ordinarios por un procedimiento basado en los principios de preferencia y sumariedad y, en su caso, a través del recurso de amparo ante el Tribunal Constitucional, siendo este último aplicable a la cláusula de conciencia reconocida en el artículo 30.",
                        c: "Sólo podrán ser alegados ante la Jurisdicción ordinaria de acuerdo con lo que dispongan las leyes que lo desarrollen.",
                        d: "Cualquier ciudadano podrá recabar su tutela ante los Tribunales ordinarios por un procedimiento basado en los principios de preferencia y sumariedad y, en su caso, a través del recurso de amparo ante el Tribunal Constitucional."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "De los siguientes principios, la Constitución Española NO garantiza en su artículo 9.3.",
                    options: {
                        a: "Principio de retroactividad de las disposiciones sancionadoras favorables o restrictivas de derechos individuales.",
                        b: "Principio de legalidad.",
                        c: "Principio de la interdicción de la arbitrariedad de los poderes públicos.",
                        d: "Principio de publicidad de las normas"
                    },
                    correctAnswer: "c"
                },
                {
                    question: "En correspondencia con el artículo 69 de la Constitución Española, la Comunidad Autónoma de Andalucía, conformada por 8 provincias con una población de 8.538.376 personas, se verá representada en el Senado por un total de...",
                    options: {
                        a: "9 senadores.",
                        b: "41 senadores.",
                        c: "32 senadores.",
                        d: "24 senadores."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "El artículo 75 de la Constitución Española indica que funcionarán en Pleno y por Comisiones...",
                    options: {
                        a: "Las Cámaras de las Cortes.",
                        b: "El Congreso.",
                        c: "El Senado.",
                        d: "Las Cámaras de las Cortes únicamente cuando se reúnen en sesión conjunta."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "El Gobierno estará compuesto, según el artículo 98 de la Constitución Española...",
                    options: {
                        a: "Del Presidente, en su caso, de los Vicepresidentes, de los Ministros y de los demás miembros que establezca la ley.",
                        b: "Del Presidente, de los Vicepresidentes, en su caso, de los Ministros y de los demás miembros que establezca la ley.",
                        c: "Del Presidente, de los Vicepresidentes, de los Ministros y de los demás miembros que establezca la ley.",
                        d: "Del Rey, del Presidente, de los Vicepresidentes, del Defensor del Pueblo y demás miembros que establezca la ley."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "Entre las competencias establecidas en la Ley 50/1997, de 27 de noviembre, del Gobierno, le corresponde al Presidente del Gobierno...",
                    options: {
                        a: "Interponer el recurso de constitucionalidad.",
                        b: "Proponer al Rey la convocatoria de un referéndum consultivo, previa autorización del Congreso de los Diputados.",
                        c: "Nombrar y separar los Vicepresidentes y sus Ministros.",
                        d: "Proponer al Rey, previa autorización de la Cámara respectiva, la disolución del Congreso, Senado o de las Cortes Generales."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "Entre los Objetivos de Desarrollo Sostenible de la Agenda 2030, se encuentra:",
                    options: {
                        a: "Fin de la discriminación y acoso sexual.",
                        b: "Promoción de la agricultura sostenible.",
                        c: "Salud y bienestar.",
                        d: "Medio ambiente y ecosistemas."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "Con respecto al ejercicio del derecho de acceso a la información pública, según la Ley 19/2013, de 9 de diciembre, de transparencia, acceso a la información pública y buen gobierno, en su artículo 22 se indica que...",
                    options: {
                        a: "El acceso a la información se realizará por el medio señalado expresamente por el solicitante.",
                        b: "El acceso a la información será gratuito, no obstante, dará lugar a la exigencia de exacciones en los términos previstos en la Ley 8/1989, de 13 de abril, de Tasas y Precios Públicos.",
                        c: "No se limitará el acceso a la información aun cuando exista oposición de tercero, salvo en materias relacionadas con la Defensa del Estado.",
                        d: "Si la información ya ha sido publicada, la resolución podrá limitarse a indicar al solicitante cómo puede acceder a ella."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Según el Real Decreto 5/2015 por el que se aprueba el texto refundido de la Ley del Estatuto Básico del Empleado Público, el ascenso en la estructura de puestos de trabajo por los procedimientos de provisión establecidos en el capítulo III del título V del Estatuto, de acuerdo con lo indicado en el artículo 16, es...",
                    options: {
                        a: "Promoción laboral.",
                        b: "Carrera profesional.",
                        c: "Carrera horizontal.",
                        d: "Carrera vertical."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "El Real Decreto 311/2022, de 3 de mayo, por el que se regula el Esquema Nacional de Seguridad, establece que la confidencialidad, integridad, trazabilidad, autenticidad y disponibilidad son...",
                    options: {
                        a: "Dimensiones de la seguridad.",
                        b: "Categorías de seguridad.",
                        c: "Niveles de seguridad.",
                        d: "Aspectos de seguridad."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "La ley 3/2007, de 22 de marzo, para la igualdad efectiva de mujeres y hombres, define el principio de igualdad de trato de mujeres y hombres en su artículo 3...",
                    options: {
                        a: "Supone la ausencia de toda discriminación, directa o indirecta, por razón de sexo y, especialmente, las derivadas de la maternidad, la asunción de obligaciones familiares y el estado civil.",
                        b: "Supone la ausencia de toda discriminación, directa o indirecta, sea o no por razón de sexo y, especialmente, las derivadas de la maternidad, la asunción de obligaciones familiares y el estado civil.",
                        c: "Supone la ausencia de todo acoso y toda discriminación, directa o indirecta, sea o no por razón de sexo y, especialmente, las derivadas de la maternidad, la asunción de obligaciones familiares y el estado civil.",
                        d: "Supone la ausencia de toda discriminación por razón de sexo y, especialmente, las derivadas de la maternidad, la asunción de obligaciones familiares y el estado civil."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Según la Ley 39/2006, de 14 de diciembre, de Promoción de la Autonomía Personal y Atención a las personas en situación de dependencia, en su artículo 26 se indica que la situación de dependencia se clasificará...",
                    options: {
                        a: "En 3 grados, siendo el Grado I de Dependencia leve.",
                        b: "En 4 grados, siendo el Grado III de Gran Discapacidad.",
                        c: "En 3 grados, siendo el Grado II de Dependencia severa.",
                        d: "En 3 grados, siendo el Grado I de Discapacidad moderada."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "En relación con el Documento Nacional de Identidad (DNle)...",
                    options: {
                        a: "El nuevo formato europeo de DNI electrónico es el 4.0, como novedad, muestra la indicación del título de Documento Nacional de Identidad en, al menos, otra lengua oficial de la Unión Europea.",
                        b: "El nuevo formato europeo del DNI electrónico es el 4.0, como novedad, incorpora un nuevo conjunto de claves Diffie-Hellman en la zona de seguridad del chip.",
                        c: "El nuevo formato europeo del DNI electrónico es el 4.1, como novedad, los certificados están firmados por SHA-3 en vez de por BLAKE-2.",
                        d: "El nuevo formato europeo del DNI electrónico es el 4.0, como novedad, el usuario puede renovar sus certificados desde el domicilio usando el sistema Cl@ve y un dispositivo electrónico compatible con el estándar PKCS #11."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "De los siguientes ejes de España Digital 2026, se considera un eje transversal...",
                    options: {
                        a: "España, hub audiovisual.",
                        b: "Redes Territoriales de Especialización Tecnológica",
                        c: "Derechos digitales.",
                        d: "Proyectos Estratégicos para la Reutilización y Transformación Electrónica (PERTE)."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "De acuerdo con la Ley Orgánica 3/2018, de 5 de diciembre, de Protección de Datos Personales y garantía de los derechos personales, en su artículo 14 se establece que, para hacerse efectivo el derecho de rectificación, será obligatorio para el interesado incluir...",
                    options: {
                        a: "La corrección que haya de realizarse junto a una documentación justificativa de la inexactitud o carácter incompleto de los datos objeto de tratamiento.",
                        b: "Los datos a los que se refiere la inexactitud, la corrección que haya de realizarse y la documentación justificativa de la inexactitud o carácter incompleto de los datos objeto de tratamiento.",
                        c: "Los datos a los que se refiere la inexactitud junto a la corrección que haya de realizarse.",
                        d: "La corrección que haya de realizarse."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "En la Carta de Derechos Digitales, en relación con el artículo XXV en relación a los derechos del usuario ante la inteligencia artificial, indica a qué NO hace mención el artículo.",
                    options: {
                        a: "Las personas tienen derecho a solicitar una supervisión e intervención humana.",
                        b: "Las personas tienen derecho a impugnar las decisiones automatizadas tomadas por sistemas de inteligencia artificial que produzcan efectos en su esfera personal y patrimonial.",
                        c: "La inteligencia artificial deberá asegurar un enfoque centrado en la imparcialidad, exactittud y la sociedad.",
                        d: "Deberá garantizarse la accesibilidad, usabilidad y fiabilidad."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Según el Esquema Nacional de Seguridad, el encargado de desarrollar la forma concreta de implantar la seguridad en el sistema y supervisar la operación diaria del mismo, deberá ser desarrollada por...",
                    options: {
                        a: "El responsable de seguridad.",
                        b: "El responsable del sistema.",
                        c: "El responsable de seguridad y el responsable del sistema de forma conjunta.",
                        d: "El responsable de seguridad y el responsable del servicio de forma conjunta."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "Según el Real Decreto 4/2010, de 8 de enero, por el que se regula el Esquema Nacional de Interoperabilidad en el ámbito de la Administración Electrónica, se considera un principio básico del Esquema Nacional de Interoperabilidad, según el artículo 4.",
                    options: {
                        a: "Carácter multidimensional de la interoperabilidad.",
                        b: "Enfoque de soluciones únicas.",
                        c: "Interoperabilidad como responsabilidad compartida.",
                        d: "Interoperabilidad centrada en los riesgos."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "La dirección web del Punto de Acceso General de la Administración es:",
                    options: {
                        a: "administracion.es",
                        b: "pag.gob.es",
                        c: "administracionelectronica.gobierno.es",
                        d: "administracion.gob.es"
                    },
                    correctAnswer: "d"
                },
                {
                    question: "El instrumento definido en el Esquema Nacional de Interoperabilidad para publicar los modelos de datos de los elementos de interoperabilidad que permiten intercambiar información entre las Administraciones Públicas y entre éstas y los ciudadanos es...",
                    options: {
                        a: "OBSAE.",
                        b: "CISE.",
                        c: "InterDato.",
                        d: "SICRES."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "La herramienta del CCN-CERT que es un sistema de auditoría continua que tiene como objetivos incrementar la capacidad de vigilancia y conocer la superficie de exposición, pretendiendo reducir los tiempos de seguridad, es...",
                    options: {
                        a: "BÉCQUER.",
                        b: "ANA.",
                        c: "CARLA.",
                        d: "CARMEN."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "Entre los elementos de una CPU, se encuentra el secuenciador que, entre otras funciones:",
                    options: {
                        a: "Es el encargado de sincronizar el funcionamiento de la CU.",
                        b: "Es el encargado de secuenciar en la memoria durante el proceso de ejecución de la operación aritmética los datos procesados por la ALU.",
                        c: "Es el encargado de codificar la información del registro de instrucción.",
                        d: "Es el encargado de enviar las microórdenes a la ALU para preparar el circuito operacional."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Con respecto a la siguiente secuencia: 01001001, señale la afirmación correcta.",
                    options: {
                        a: "En sistema decimal, representa al número 63.",
                        b: "El LSB es 0.",
                        c: "Contiene 8 bits.",
                        d: "Contiene 8 bytes."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "Dentro de las memorias Flash, es correcto afirmar que...",
                    options: {
                        a: "Uno de sus subtipos es XNOR.",
                        b: "Uno de sus subtipos no es NOR.",
                        c: "Uno de sus subtipos es NAND.",
                        d: "Uno de sus subtipos es AND."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "DVI significa:",
                    options: {
                        a: "Digital Virtual Interface.",
                        b: "Data Video Interface.",
                        c: "Digital Video Interface.",
                        d: "Digital Visual Interface."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Entre clúster, sector y pista, como elementos constitutivos de un disco duro, el orden correcto de mayor tamaño a menor tamaño es...",
                    options: {
                        a: "Clúster, pista, sector.",
                        b: "Sector, pista, clúster.",
                        c: "Pista, clúster, sector.",
                        d: "Sector, clúster, pista."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "¿Cuál de estos tipos NO constituye un tipo de impresora?",
                    options: {
                        a: "Impresoras térmicas.",
                        b: "Impresoras de inyección fija.",
                        c: "Impresoras de impacto.",
                        d: "Impresoras de martillo."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Se corresponde con la definición de algoritmo por inserción binaria...",
                    options: {
                        a: "En el que, dividiendo en dos partes un vector de forma binaria, se ordenan por separado y posteriormente se fusiona la mezcla por comparación.",
                        b: "En el que se introduce el elemento más pequeño (o grande) para colocarlo en primera posición. Comparándolo de forma binaria, se van introduciendo los restantes elementos a la izquierda o derecha del mismo.",
                        c: "En el que, partiendo de un pivote, se realiza una división en dos sublistas que van siendo secuenciadas con nuevos pivotes de forma binaria. Al final del proceso, estos pivotes conforman la lista ordenada.",
                        d: "En el que, partiendo de una sublista ordenada de elementos de un array, se van introduciendo por búsquedas binarias elementos a la misma."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Una pantalla con resolución de 1280x720 se considera",
                    options: {
                        a: "HD.",
                        b: "Full HD.",
                        c: "Full Ready HD.",
                        d: "Ready HD."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Para que un árbol binario sea considerado perfecto, siendo n el nivel del árbol y d el número de nodos, se debe satisfacer la fórmula...",
                    options: {
                        a: "$d=2^{n}-1$",
                        b: "$n=d^{2}-1$",
                        c: "$d=n^{2}-1$",
                        d: "d = (2n-1)2"
                    },
                    correctAnswer: "a"
                },
                {
                    question: "La última versión estable del sistema operativo Android es.",
                    options: {
                        a: "13.",
                        b: "12.",
                        c: "14.",
                        d: "15."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "El sistema de archivos destinado en un futuro próximo a reemplazar NTFS en entornos de usuario, desarrollado por Microsoft y disponible desde hace diez años en versiones de Windows Server es...",
                    options: {
                        a: "WinFS (Windows File System).",
                        b: "NNTFS (Newest New Technology File System).",
                        c: "ReiserFS.",
                        d: "ReFS (Resilient File System)."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Aquel conjunto de datos donde se pueden realizar inserciones al final, y eliminaciones tanto al inicio como al final de los mismos se corresponde con...",
                    options: {
                        a: "Bicola exopermitida.",
                        b: "Bicola endorestringuida.",
                        c: "Bicola de doble salida.",
                        d: "Bicola de entrada restringida."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "¿Cuál de estas NO se corresponde con una de las reglas de Codd?",
                    options: {
                        a: "Regla de sublenguaje de datos completo.",
                        b: "Regla de actualización de vistas.",
                        c: "Regla de inserción, actualización y borrado de bajo nivel.",
                        d: "Regla de independencia de la integridad."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "¿Cuál de los siguientes tamaños se considera mayor que 1 Petabyte?",
                    options: {
                        a: "1 TB.",
                        b: "1 yB.",
                        c: "1 EB.",
                        d: "10.000 Gb."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "Entre los sistemas de bases de datos no relacionales, se encuentra",
                    options: {
                        a: "Triple validación.",
                        b: "Documental.",
                        c: "Endomórficos.",
                        d: "Objeto-valor."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "En un sistema operativo Debian GNU/Linux, podemos encontrar los contenidos de un dispositivo de almacenamiento USB externo conectado sin intervención por parte del usuario en...",
                    options: {
                        a: "/media",
                        b: "/mnt",
                        c: "/usb",
                        d: "/home/media"
                    },
                    correctAnswer: "a"
                },
                {
                    question: "A la hora de conectar con un cable de par trenzado dos dispositivos, hay que tener en cuenta los extremos del cable. El estándar que define los extremos del mismo es...",
                    options: {
                        a: "IEC/TIA-586.",
                        b: "ANSI/TIA-568.",
                        c: "ANSI/TIA-586.",
                        d: "ISO/TIA-568."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "La herramienta que permite realizar un backup en sistemas Apple que tengan instalado macOS Ventura es...",
                    options: {
                        a: "Apple Care.",
                        b: "FileVault.",
                        c: "Time Machine.",
                        d: "Finder."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "Cuando hablamos del protocolo RDP nos estamos refiriendo a...",
                    options: {
                        a: "Relay Device Protocol.",
                        b: "Rapid Data Protocol.",
                        c: "Reliable Data Protection.",
                        d: "Remote Desktop Protocol."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Respecto al protocolo POP3, es correcto afirmar que...",
                    options: {
                        a: "Con el comando STAT, se obtiene, entre otros datos, el estado de la cuenta de usuario.",
                        b: "Por defecto, no borra los mensajes del servidor una vez que los descarga al ordenador.",
                        c: "POP3 no tiene un sistema de carpetas para almacenar los correos electrónicos de los usuarios, por ello, se puede considerar que la bandeja de entrada es la única carpeta que tiene el usuario.",
                        d: "POP3S usa el protocolo TLS/SSL para añadir una capa de seguridad, para ello, requiere obligatoriamente del uso de TCP en el puerto 995."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "La última versión de Microsoft Exchange ActiveSync es...",
                    options: {
                        a: "16.1.",
                        b: "16.2.",
                        c: "2019.",
                        d: "16.3."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Con respecto al programa Nagios, se puede decir que...",
                    options: {
                        a: "Es un programa de gestión de correo electrónico de código propietario que soporta SMTP.",
                        b: "Es un programa de gestión de correo electrónico de código abierto que soporta SMTP, POP3 e IMAP.",
                        c: "Es un programa de gestión de redes de código abierto que soporta SNMP.",
                        d: "Es un programa de gestión de redes propietario que soporta SNMP y CMIP."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "De los siguientes comandos, NO forman parte del protocolo HTTP...",
                    options: {
                        a: "PROXY.",
                        b: "CONNECT.",
                        c: "TRACE.",
                        d: "HEAD."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "El secuestro de pulsaciones de ratón para redirigirlos a otro sitio, sin ser el usuario afectado consciente, es conocido como...",
                    options: {
                        a: "Clickjacking.",
                        b: "Ransomclick.",
                        c: "Jitter.",
                        d: "Mousejacking."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "En el proceso de firma digital, se le llama resumen de documento...",
                    options: {
                        a: "Al cálculo del HASH del documento, que es firmado mediante la clave pública por criptografía asimétrica.",
                        b: "Al cálculo del HASH del documento, que es firmado mediante la clave privada por criptografía asimétrica.",
                        c: "Al cálculo del HASH del documento, que es firmado mediante la clave pública por criptografía simétrica.",
                        d: "Al cálculo del HASH del documento, que es firmado mediante la clave privada por criptografía simétrica."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "Las celdas en el modo de transferencia asincrona (ATM).",
                    options: {
                        a: "Tienen un tamaño fijo de 53 bytes.",
                        b: "Tienen un tamaño variable, aunque su cabecera es fija y tiene un tamaño de 53 bytes.",
                        c: "No presentan cabeceras, las celdas tienen un tamaño variable que oscila entre los 53 bits y los 53 bytes.",
                        d: "Tienen un tamaño fijo de 53 bits."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Con respecto a las tecnologias móviles, ¿Cuál es la última generación del estándar tecnológico para telefonía móvil implantado en la actualidad?",
                    options: {
                        a: "Sexta generación.",
                        b: "Quinta generación.",
                        c: "Cuarta generación.",
                        d: "Tercera generación."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "La capa sexta del modelo de interconexión de sistemas abiertos (OSI) es conocida como la capa de...",
                    options: {
                        a: "Sesión.",
                        b: "Transmisión.",
                        c: "Transporte.",
                        d: "Presentación."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "La capa 2 del modelo de interconexión de sistemas abiertos (OSI) tiene como unidad de datos...",
                    options: {
                        a: "Trama.",
                        b: "BDPU.",
                        c: "Byte.",
                        d: "Bit."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "De entre las siguientes opciones respecto al protocolo HTTP, señale la CORRECTA.",
                    options: {
                        a: "HTTP/4 se implementó en noviembre del 2022, aportando cifrado a las cabeceras de los paquetes IP..",
                        b: "HTTP/3 usa QUIC, un protocolo que sienta sus bases en UDP.",
                        c: "HTTP/1.1 está considerado como una versión del protocolo HTTP obsoleta, de acuerdo con el RFC 9112.",
                        d: "HTTP/3 implementa HPACK en vez de QPACK, para facilitar compresión de las cabeceras, según RFC 9204."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "NO es un protocolo relacionado con la seguridad.",
                    options: {
                        a: "GRE.",
                        b: "TLS.",
                        c: "SMB.",
                        d: "SSL."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "Cuál de los siguientes elementos NO tiene que ver con claves asimétricas.",
                    options: {
                        a: "WHIRLPOOL.",
                        b: "RSA.",
                        c: "Diffie-Hellman.",
                        d: "ElGamal."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Windows Azure es un ejemplo de...",
                    options: {
                        a: "OSaaS (Operating System as a Service).",
                        b: "SaaS (Software as a Service).",
                        c: "IaaS (Infrastructure as a Service).",
                        d: "PaaS (Plattform as a Service)."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "El estándar IEEE encargado de describir las redes inalámbricas de área personal es...",
                    options: {
                        a: "IEEE 802.3",
                        b: "IEEE 802.19",
                        c: "IEEE 802.15",
                        d: "IEEE 802.11"
                    },
                    correctAnswer: "c"
                },
                {
                    question: "De los siguientes protocolos de enrutamiento, se considera un protocolo de enrutamiento externo de vector de distancia.",
                    options: {
                        a: "ExRP.",
                        b: "IS-IS.",
                        c: "EIGRP.",
                        d: "BGP."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "El estándar IEEE 802.11ac trabaja en la banda...",
                    options: {
                        a: "5 GHz.",
                        b: "2.4 y 5 GHz.",
                        c: "2.4 GHz.",
                        d: "5 y 6 GHz."
                    },
                    correctAnswer: "a"
                },
                // Preguntas de reserva del PDF General
                {
                    question: "La Constitución Española establece que la potestad reglamentaria corresponde...",
                    options: {
                        a: "Al Gobierno.",
                        b: "Al Congreso.",
                        c: "A los Tribunales.",
                        d: "Al Presidente del Gobierno."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "NO se corresponde con un factor de forma de placa base.",
                    options: {
                        a: "Nano-ATX.",
                        b: "Mini-ATX.",
                        c: "ATX.",
                        d: "Ultra-ATX."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "La diferencia entre la carpeta \"Archivos de programa\" y \"Archivos de programa (x86)\", en Windows...",
                    options: {
                        a: "La carpeta \"Archivos de programa (x86)\" en instalaciones de Windows de 64 bits contiene los archivos de programas que funcionen con 64 bits.",
                        b: "La carpeta \"Archivos de programa\" en instalaciones de Windows 11 de 32 bits no existe: se ve reemplazada por \"Archivos de programa (x86)\" para el correcto funcionamiento en instalaciones híbridas.",
                        c: "La carpeta \"Archivos de programa\" no contendrá, en ningún caso, archivos de programas que funcionen con 32 bits.",
                        d: "La carpeta \"Archivos de programa (x86)\" sólo existe en instalaciones de Windows de 64 bits."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "¿Cuál de los siguientes protocolos NO estaría englobado en la capa de Aplicación del modelo TCP/IP?",
                    options: {
                        a: "SMTP.",
                        b: "DNS.",
                        c: "Telnet.",
                        d: "HSTS."
                    },
                    correctAnswer: "d"
                }
            ];

            // Preguntas del PDF "Rojo - SP.pdf"
            const spQuestions = [
                {
                    question: "La red en la que se le asigna para trabajar es la 172.55.35.80/21, a la que se conectan un total de 925 ordenadores. ¿Cuántas IP quedan disponibles?",
                    options: {
                        a: "1.119",
                        b: "1.121",
                        c: "2.048",
                        d: "2.046"
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Debe enviar una información importante a todos los usuarios de esa red. El usuario con IP 172.5.32.7, recibirá el mensaje?",
                    options: {
                        a: "Aunque lo envíe a la dirección de broadcast (172.55.39.255), el host 172.5.32.7 no recibirá el mensaje.",
                        b: "Al enviarlo a la dirección de broadcast (172.55.39.255), el host 172.5.32.7 recibirá el mensaje.",
                        c: "Al enviarlo a la dirección de broadcast (172.55.35.255), el host 172.5.32.7 recibirá el mensaje.",
                        d: "Aunque lo envíe a la dirección de broadcast (172.55.255.255), el host 172.5.32.7 no recibirá el mensaje."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "El ordenador con IP 172.77.211.200/22 está conectado a la red...",
                    options: {
                        a: "172.77.208.0/22",
                        b: "172.77.206.0/22",
                        c: "172.77.211.200/22",
                        d: "172.77.209.98/22"
                    },
                    correctAnswer: "a"
                },
                {
                    question: "El ordenador con Ubuntu GNU/Linux al que está asignado no es capaz de conectarse a la red. El comando adecuado para comprobar los dispositivos de red del ordenador es...",
                    options: {
                        a: "ifconfig -v",
                        b: "ip-s-s address",
                        c: "ipconfig--all",
                        d: "ip adress show"
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Una vez arreglado el problema, desea habilitar el firewall del ordenador suplementario que tiene con Windows, ya que el usuario anterior lo había deshabilitado.",
                    options: {
                        a: "netsh advfirewall filter permission=allow firewall",
                        b: "SAM/user:! /service:firewall /ENABLE",
                        c: "SAM-actual-user-s firewall on",
                        d: "netsh advfirewall set currentprofile state on"
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Le informan que el CPD al que le han asignado trabajar tiene una redundancia N, lo que implica que, en términos de Tier...",
                    options: {
                        a: "Que no tiene redundancia alguna y, por lo tanto, es un Tier I.",
                        b: "Tier II, pero no puede ser Tier IV.",
                        c: "Que tiene N sistemas redundantes, por lo tanto, adicionales. (Tier IV)",
                        d: "Que tiene una redundancia estándar ya que hay N elementos adicionales en el mismo sistema, por lo que es como mínimo"
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Le piden descargar un documento usando el protocolo TFTP. Para ello, debe habilitar el puerto...",
                    options: {
                        a: "990.",
                        b: "21.",
                        c: "989.",
                        d: "69."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Una de las nuevas directrices de seguridad le exige bloquear el acceso al usuario Invitado en el ordenador Linux asignado. Para ello, usted ejecuta el comando...",
                    options: {
                        a: "usermod -L Invitado",
                        b: "lock --user Invitado",
                        c: "passwd-Uf Invitado",
                        d: "chmod 000 = Invitado"
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Le proporcionan ocho discos duros de 100 GB cada uno. Quiere implantar un RAID 6. Por lo tanto, es correcto afirmar...",
                    options: {
                        a: "Que dispondrá de mirroring.",
                        b: "Que dispondrá de 600 GB de espacio para sus datos.",
                        c: "Que podrá recuperar sus datos en caso de pérdida porque RAID 6 no dispone de mirroring.",
                        d: "Que la paridad distribuida de la configuración permite la recuperación de los datos en caso de que un disco o un número par de los mismos se estropee."
                    },
                    correctAnswer: "b"
                },
                {
                    question: "El comando para regresar a la carpeta personal de su usuario en su sistema Linux es...",
                    options: {
                        a: "cd !!",
                        b: "cd~",
                        c: "returrn-home -u opositor",
                        d: "pwd"
                    },
                    correctAnswer: "b"
                },
                {
                    question: "Como administrador de un sistema Salt, desde el salt-master, el comando para provocar que los sistemas Debian de la red borren el paquete Firefox es...",
                    options: {
                        a: "salt *' apt-get purge firefox",
                        b: "salt-G 'os:debian' pkg.purge firefox",
                        c: "salt-admin 'G: os@debian' apt.purge.pkg=firefox",
                        d: "salt-G 'os debian' apt-purge firefox"
                    },
                    correctAnswer: "b"
                },
                {
                    question: "Para verificar el listado de contenedores instalados en Docker en su ordenador, ejecutará en Docker:",
                    options: {
                        a: "docker ps -a",
                        b: "docker container -list",
                        c: "docker list -a",
                        d: "docker ps"
                    },
                    correctAnswer: "a"
                },
                {
                    question: "En Docker, si ejecutase el comando (sin comillas) \"docker images ubuntu:latest\" provocará que...",
                    options: {
                        a: "Se instalará la imagen Ubuntu, la última versión (latest), con independencia de si tenía instalada una en el ordenador o no.",
                        b: "Pondrá información de la imagen Ubuntu instalada en el equipo y comparará si la versión latest instalada de forma local coincide con la versión latest de Docker Hub. Si así no lo fuera, procederá a preguntarle si desea reemplazar la imagen actual.",
                        c: "Pondrá información de la imagen Ubuntu instalada en el equipo y comparará si la versión latest instalada de forma local coincide con la versión latest de Docker Hub. Si así no lo fuera, reemplazará de manera automática la imagen instalada en el sistema.",
                        d: "No se instalará Ubuntu."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Accede a un enlace sospechoso de un correo electrónico, donde se le pide que introduzca la \"La contrasenya\" y el sitio web es \"Amason\". Usted está siendo víctima de...",
                    options: {
                        a: "Ransomware.",
                        b: "Pharming.",
                        c: "Web Spoofing.",
                        d: "Flauros."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "Le hacen responsable de comprar un nuevo equipamiento de cables Ethernet. Le piden elegir la opción más económica posible que supere los 400 MHz de frecuencia. Por lo tanto, usted indica que adquirirá cables Ethernet que cumple la categoría, según TIA 568-B...",
                    options: {
                        a: "7.",
                        b: "6e.",
                        c: "6.",
                        d: "6a."
                    },
                    correctAnswer: "d"
                },
                {
                    question: "Desde el departamento de Seguridad, le preguntan sobre cuál programa NIDS es más adecuado instalar para las necesidades de la empresa. Usted sugiere...",
                    options: {
                        a: "Snort.",
                        b: "honeyd.",
                        c: "Samhain.",
                        d: "Jakarta."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Debido a problemas con KDC, se decide deshabilitar temporalmente la integración con Kerberos para los servicios de la empresa y, por lo tanto, se le ordena imponer en todos los firewalls de los sistemas Linux el cierre del puerto 88. El comando adecuado para su ordenador será...",
                    options: {
                        a: "iptables -A INPUT --dport 88 -j DROP",
                        b: "iptables -I INPUT --sport 88 -j DENY",
                        c: "iptables -I INPUT 88 --service \"Kerberos\" -j REJECT",
                        d: "iptables -I INPUT --localport 88 -j DENY"
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Le piden implementar un sistema de backup que ocupe el menor espacio posible a la larga. El más adecuado para la característica que le exigen sería un...",
                    options: {
                        a: "Sistema de backup incremental.",
                        b: "Sistema de backup diferencial.",
                        c: "Sistema de backup completo.",
                        d: "Sistema de backup decremental."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Con respecto al CPD de la empresa, le informan que la próxima semana tienen pensado introducir un EPO, por lo que no podrá acceder a las zonas relacionados con el subsistema al que pertenece dicho elemento, que es el...",
                    options: {
                        a: "Subsistema eléctrico.",
                        b: "Subsistema mecánico.",
                        c: "Subsistema electrónico.",
                        d: "Subsistema de telecomunicaciones."
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Usted descubre que el usuario Reyna tiene acceso a la base de datos de MySQL de la empresa. Considerando que el host es illo, le solicitan eliminar dicho usuario ya que no pertenece a la empresa.",
                    options: {
                        a: "DELETE USER FROM illo LOGIN 'Reyna'*;",
                        b: "REVOKE USER Reyna:illo;",
                        c: "DROP USER 'Reyna'@'illo';",
                        d: "ALTER USER Name=Reyna Host illo Action=PURGE"
                    },
                    correctAnswer: "c"
                },
                // Preguntas de reserva del PDF SP
                {
                    question: "La máscara de red de la dirección IP (172.55.35.80/21) es...",
                    options: {
                        a: "255.255.248.255",
                        b: "255.255.248.0",
                        c: "255.255.255.248",
                        d: "255.255.248.248"
                    },
                    correctAnswer: "b"
                },
                {
                    question: "El servicio personalizado de la empresa llamado \"Hackenslash\" ya ha sido reparado y, por lo tanto, le encargan la tarea de eliminar todas las reglas del firewall en los sistemas Windows relacionadas con el mismo. Usted ejecutará el comando...",
                    options: {
                        a: "netsh advfirewall filter remove service Hackenslash permission=DROP",
                        b: "netsh advfirewall set rule name=Hackenslash permission=ALLOW",
                        c: "netsh advfirewall firewall delete rule name=all service Hackenslash",
                        d: "netsh advfirewall firewall flush rule dir=out name=Hackenslash"
                    },
                    correctAnswer: "c"
                },
                {
                    question: "Desea examinar los intentos infructuosos del sistema actual en relación con el usuario Invitado en su sistema Linux. Para ello, ejecuta el comando...",
                    options: {
                        a: "lastb Invitado",
                        b: "vi /bar/log/wtmp.log",
                        c: "login--block --id Invitado o bien vi /var/log/utmp.log",
                        d: "last -u Invitado"
                    },
                    correctAnswer: "a"
                },
                {
                    question: "Usted descubre que la página web de la empresa ha sufrido una alteración de la imagen de la misma. Tras analizar de manera minuciosa el ataque, confirma que el impacto ha sido únicamente estético. Por lo tanto, en el informe de incidencias, expondrá que...",
                    options: {
                        a: "La página web ha sufrido Tampering.",
                        b: "La página web ha sufrido Web XSS.",
                        c: "La página web ha sufrido Defacement.",
                        d: "La página web ha sufrido Randomedit."
                    },
                    correctAnswer: "c"
                },
                {
                    question: "¿Cuál de los siguientes comandos en Windows 11, desde Power Shell, permitirá apagar el sistema?",
                    options: {
                        a: "init 0",
                        b: "shutdown-computer",
                        c: "stop-computer",
                        d: "shutdown/a"
                    },
                    correctAnswer: "c"
                }
            ];

            // Combine both sets of questions
            quizQuestions = shuffleArray([...generalQuestions, ...spQuestions]);
            // Initialize userAnswers with null for each question
            userAnswers = new Array(quizQuestions.length).fill(null);
        }

        // Función para barajar un array (algoritmo de Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Intercambiar elementos
            }
            return array;
        }

        // Inicia el quiz
        function startQuiz() {
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            displayQuestion();
        }

        // Muestra la pregunta actual
        function displayQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('current-question-number').innerText = currentQuestionIndex + 1;
            document.getElementById('total-questions').innerText = quizQuestions.length;
            document.getElementById('question-text').innerText = (currentQuestionIndex + 1) + ". " + question.question;

            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = ''; // Limpiar opciones anteriores
            document.getElementById('feedback').innerText = ''; // Limpiar feedback

            // Crear las opciones de respuesta
            for (const key in question.options) {
                const label = document.createElement('label');
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'answer';
                input.value = key;
                input.onclick = () => selectAnswer(key); // Asignar evento al hacer clic

                label.appendChild(input);
                label.appendChild(document.createTextNode(question.options[key]));
                optionsContainer.appendChild(label);

                // Si ya hay una respuesta guardada, seleccionarla
                if (userAnswers[currentQuestionIndex] === key) {
                    input.checked = true;
                    // Mostrar feedback si ya se ha contestado
                    showFeedback(key);
                }
            }

            updateNavigationButtons();
            disableOptionsIfAnswered();
        }

        // Maneja la selección de una respuesta
        function selectAnswer(selectedOption) {
            // Guardar la respuesta del usuario
            userAnswers[currentQuestionIndex] = selectedOption;
            saveProgress(); // Guardar progreso inmediatamente

            showFeedback(selectedOption);
            disableOptionsIfAnswered();
        }

        // Muestra el feedback de la respuesta
        function showFeedback(selectedOption) {
            const question = quizQuestions[currentQuestionIndex];
            const feedbackElement = document.getElementById('feedback');
            const optionsLabels = document.querySelectorAll('#options-container label');

            // Limpiar clases de feedback anteriores
            optionsLabels.forEach(label => {
                label.classList.remove('correct', 'incorrect');
            });

            // Aplicar clases de feedback
            optionsLabels.forEach(label => {
                const input = label.querySelector('input');
                if (input.value === question.correctAnswer) {
                    label.classList.add('correct');
                } else if (input.value === selectedOption && selectedOption !== question.correctAnswer) {
                    label.classList.add('incorrect');
                }
            });

            // Mostrar mensaje de feedback
            if (selectedOption === question.correctAnswer) {
                feedbackElement.innerText = '¡Correcto!';
                feedbackElement.className = 'feedback-message correct';
            } else {
                feedbackElement.innerText = `Incorrecto. La respuesta correcta era: ${question.correctAnswer.toUpperCase()}) ${question.options[question.correctAnswer]}`;
                feedbackElement.className = 'feedback-message incorrect';
            }
        }

        // Deshabilita las opciones de respuesta si la pregunta ya ha sido contestada
        function disableOptionsIfAnswered() {
            const options = document.querySelectorAll('#options-container input[type="radio"]');
            const answered = userAnswers[currentQuestionIndex] !== null;
            options.forEach(option => {
                option.disabled = answered;
            });
        }

        // Actualiza el estado de los botones de navegación
        function updateNavigationButtons() {
            document.getElementById('prev-button').disabled = currentQuestionIndex === 0;
            document.getElementById('next-button').disabled = currentQuestionIndex === quizQuestions.length - 1 && userAnswers[currentQuestionIndex] !== null;

            // If it's the last question and answered, the "Next" button should say "View Results"
            if (currentQuestionIndex === quizQuestions.length - 1 && userAnswers[currentQuestionIndex] !== null) {
                document.getElementById('next-button').innerText = 'Ver Resultados';
            } else {
                document.getElementById('next-button').innerText = 'Siguiente';
            }
        }

        // Navega a la pregunta anterior
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
                saveProgress();
            }
        }

        // Navega a la siguiente pregunta o muestra los resultados
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress();
            } else {
                // If it's the last question and answered, show results
                if (userAnswers[currentQuestionIndex] !== null) {
                    showResults();
                } else {
                    showMessageBox('Atención', 'Por favor, selecciona una respuesta antes de finalizar el test.');
                }
            }
        }

        // Muestra la pantalla de resultados
        function showResults() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('results-screen').classList.remove('hidden');

            let correctCount = 0;
            let incorrectCount = 0;
            let unansweredCount = 0;

            for (let i = 0; i < quizQuestions.length; i++) {
                const userAnswer = userAnswers[i];
                const correctAnswer = quizQuestions[i].correctAnswer;

                if (userAnswer === null) {
                    unansweredCount++;
                } else if (userAnswer === correctAnswer) {
                    correctCount++;
                } else {
                    incorrectCount++;
                }
            }

            document.getElementById('correct-count').innerText = correctCount;
            document.getElementById('incorrect-count').innerText = incorrectCount;
            document.getElementById('unanswered-count').innerText = unansweredCount;
        }

        // Guarda el progreso en LocalStorage
        function saveProgress() {
            localStorage.setItem('quizProgress', JSON.stringify({
                currentQuestionIndex: currentQuestionIndex,
                userAnswers: userAnswers
            }));
        }

        // Carga el progreso desde LocalStorage
        function loadProgress() {
            const savedProgress = localStorage.getItem('quizProgress');
            if (savedProgress) {
                const progress = JSON.parse(savedProgress);
                currentQuestionIndex = progress.currentQuestionIndex;
                userAnswers = progress.userAnswers;
            }
        }

        // Reinicia el test
        function resetQuiz() {
            showMessageBox(
                'Reiniciar Test',
                '¿Estás seguro de que quieres reiniciar el test? Se perderá todo tu progreso.',
                () => {
                    localStorage.removeItem('quizProgress');
                    currentQuestionIndex = 0;
                    userAnswers = new Array(quizQuestions.length).fill(null);
                    document.getElementById('quiz-screen').classList.add('hidden');
                    document.getElementById('results-screen').classList.add('hidden');
                    document.getElementById('start-screen').classList.remove('hidden');
                    document.getElementById('total-questions-start').innerText = quizQuestions.length;
                    // Re-load and shuffle all questions for a fresh start
                    loadQuestionsAndAnswers();
                }
            );
        }
    </script>
</body>
</html>

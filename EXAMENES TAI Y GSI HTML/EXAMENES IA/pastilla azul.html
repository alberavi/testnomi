<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PASTILLA ARCOÍRIS</title>
    <!-- Enlace a Tailwind CSS para las clases de la estructura HTML -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS completo para el estilo del quiz -->
    <style>
        /* Estilos generales del cuerpo */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }

        /* Contenedor principal del quiz */
        .container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin-top: 20px;
        }

        /* Tarjeta de la pregunta */
        .question-card {
            background-color: #f8fafc;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease-in-out;
        }

        /* Estilo para la tarjeta de pregunta correcta */
        .question-card.correct {
            background-color: #d4edda;
            border-color: #28a745;
        }

        /* Estilo para la tarjeta de pregunta incorrecta */
        .question-card.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
        }

        /* Texto de la pregunta */
        .question-text {
            font-size: 1.15rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        /* Botones de opciones */
        .option-button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 12px 18px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #cbd5e0;
            background-color: #ffffff;
            color: #4a5568;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        /* Efecto hover para los botones de opciones */
        .option-button:hover:not(.disabled) {
            background-color: #e2e8f0;
            border-color: #a0aec0;
        }

        /* Estilo para el botón de opción seleccionado */
        .option-button.selected {
            border-color: #4299e1;
            background-color: #ebf8ff;
            font-weight: 600;
        }

        /* Estilo para la respuesta correcta */
        .option-button.correct-answer {
            background-color: #28a745;
            color: #ffffff;
            border-color: #28a745;
            font-weight: 700;
        }

        /* Estilo para la respuesta incorrecta */
        .option-button.incorrect-answer {
            background-color: #dc3545;
            color: #ffffff;
            border-color: #dc3545;
            font-weight: 700;
        }

        /* Estilo para los botones deshabilitados */
        .option-button.disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        /* Contenedor de la solución */
        .solution {
            margin-top: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            background-color: #e0f2f7;
            color: #2c5282;
            font-size: 0.95rem;
            font-weight: 500;
            border: 1px solid #90cdf4;
        }

        /* Contenedor del feedback (correcto/incorrecto) */
        .feedback {
            margin-top: 15px;
            font-weight: 600;
            font-size: 1rem;
            text-align: center;
        }

        /* Estilo para feedback correcto */
        .feedback.correct {
            color: #28a745;
        }

        /* Estilo para feedback incorrecto */
        .feedback.incorrect {
            color: #dc3545;
        }

        /* Contenedor de los botones de navegación */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        /* Estilo base para los botones de navegación */
        .nav-button {
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
            text-align: center;
        }

        /* Estilo para el botón "Anterior" */
        .nav-button.prev {
            background-color: #6b7280;
            color: #ffffff;
        }
        .nav-button.prev:hover:not(:disabled) {
            background-color: #4b5563;
            transform: translateY(-2px);
        }

        /* Estilo para el botón "Siguiente" */
        .nav-button.next {
            background-color: #4299e1;
            color: #ffffff;
        }
        .nav-button.next:hover:not(:disabled) {
            background-color: #3182ce;
            transform: translateY(-2px);
        }

        /* Estilo para el botón de reinicio en línea */
        .nav-button.restart-inline {
            background-color: #f50b0b;
            color: #ffffff;
        }
        .nav-button.restart-inline:hover:not(:disabled) {
            background-color: #ac0505;
            transform: translateY(-2px);
        }

        /* Estilo para los botones deshabilitados */
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Barra de progreso */
        .progress-bar-container {
            width: 100%;
            background-color: #e2e8f0;
            border-radius: 5px;
            height: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: #4299e1;
            width: 0%;
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        /* Visualización de la puntuación final */
        .score-display {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-top: 20px;
        }

        /* Resumen de resultados */
        .results-summary {
            margin-top: 20px;
            padding: 20px;
            background-color: #f8fafc;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
        }

        .results-summary p {
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: #2d3748;
        }

        .results-summary p strong {
            font-weight: 700;
        }

        /* Botón de reinicio final */
        .restart-button {
            display: block;
            width: fit-content;
            margin: 20px auto 0 auto;
            padding: 12px 30px;
            background-color: #48bb78;
            color: #ffffff;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .restart-button:hover {
            background-color: #38a169;
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="color: #003366; font-family: 'Georgia', serif; font-size: 3rem; text-align: center; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);">PASTILLA AZUL</h1>

        <!-- Barra de progreso -->
        <div class="progress-bar-container">
            <div id="progressBar" class="progress-bar"></div>
        </div>

        <!-- Contenedor principal de las preguntas -->
        <div id="quizContainer">
            <!-- Las preguntas se cargarán dinámicamente aquí -->
        </div>

        <!-- Botones de navegación -->
        <div class="navigation-buttons">
            <button id="prevBtn" class="nav-button prev" disabled>Anterior</button>
            <button id="restartInlineBtn" class="nav-button restart-inline">Reiniciar Test</button>
            <button id="nextBtn" class="nav-button next">Siguiente</button>
        </div>

        <!-- Contenedor de la puntuación final -->
        <div id="finalScore" class="hidden">
            <div class="score-display"></div>
            <div class="results-summary">
                <p><strong>Preguntas Correctas:</strong> <span id="correctCount">0</span></p>
                <p><strong>Preguntas Incorrectas:</strong> <span id="incorrectCount">0</span></p>
                <p><strong>Preguntas Sin Contestar:</strong> <span id="unansweredCount">0</span></p>
            </div>
            <button id="restartBtn" class="restart-button">Reiniciar Test</button>
        </div>
    </div>
    
    <script>
        // Sección para que puedas pegar tu array de preguntas sin que se modifiquen
        // Por favor, copia y pega tu array aquí. Si esta variable está vacía, se usará el array por defecto.
        const userQuestions = []; // <--- ¡Pega tu array de preguntas aquí!

        const defaultQuestions = [
            // Preguntas del archivo "Azul - General.pdf"
            {
            
                question: "1. En relación con la nacionalidad española, según el tenor literal del artículo 11 de la Constitución Española, es correcto indicar que:",
                options: [
                    "El Estado podrá concertar tratados de doble nacionalidad con los países de la Unión Europea.",
                    "Los españoles podrán naturalizarse en cualquier país sin perder su nacionalidad de origen.",
                    "La nacionalidad española se adquiere, se conserva y se pierde de acuerdo solo con lo dispuesto en este artículo.",
                    "Ningún español de origen podrá ser privado de su nacionalidad."
                ],
                correctAnswer: "d"
            },
            {
                question: "2. Según se dispone en el artículo 21 de la Constitución Española, será necesaria la autorización previa para ejercer el derecho de reunión:",
                options: [
                    "En el caso de reuniones en lugares de tránsito público.",
                    "En el caso de manifestaciones.",
                    "En ningún caso.",
                    "En el caso de reuniones pacíficas y sin armas en el ámbito privado."
                ],
                correctAnswer: "c"
            },
            {
                question: "3. Señala cuál de las siguientes opciones NO se corresponde con un derecho fundamental y libertad pública:",
                options: [
                    "Los ciudadanos tienen el derecho a participar en los asuntos públicos.",
                    "Los españoles tienen derecho a elegir libremente su residencia.",
                    "El hombre y la mujer tienen derecho a contraer matrimonio con plena igualdad jurídica.",
                    "El derecho al honor, a la intimidad personal y familiar y a la propia imagen."
                ],
                correctAnswer: "c"
            },
            {
                question: "4. Las abdicaciones y renuncias, y cualquier duda de hecho o de derecho que incurra en el orden de sucesión a la corona se resolverán por:",
                options: [
                    "Decreto-Ley.",
                    "Real Decreto acordado por el Consejo de Ministros.",
                    "Ley Orgánica.",
                    "Sentencia del Tribunal Constitucional."
                ],
                correctAnswer: "c"
            },
            {
                question: "5. La Constitución Española define como cámara de representación territorial a:",
                options: [
                    "El Congreso de los Diputados.",
                    "El Senado.",
                    "El Congreso de los Diputados y el Senado, de forma conjunta.",
                    "Las Diputaciones provinciales y ayuntamientos."
                ],
                correctAnswer: "b"
            },
            {
                question: "6. ¿Cuántos miembros conforman el Tribunal Constitucional?",
                options: [
                    "14",
                    "12",
                    "18",
                    "16"
                ],
                correctAnswer: "b"
            },
            {
                question: "7. De acuerdo con el artículo 97 de la Constitución Española, en relación con las competencias del Gobierno, indique cuál de la siguientes NO se corresponde con ellas:",
                options: [
                    "Dirigir la Administración civil.",
                    "Dirigir la Administración militar.",
                    "Ejercer la función legislativa.",
                    "Ejercer la potestad reglamentaria."
                ],
                correctAnswer: "c"
            },
            {
                question: "8. En relación con la moción de censura prevista en el artículo 113, se considerará aprobada por el Congreso mediante:",
                options: [
                    "Mayoría simple.",
                    "Mayoría absoluta.",
                    "Mayoría de tres quintos.",
                    "Mayoría de dos tercios."
                ],
                correctAnswer: "b"
            },
            {
                question: "9. Según el artículo 22 del Texto Refundido de la Ley del Estatuto Básico del Empleado Público, las retribuciones de los funcionarios de carrera se clasifican en:",
                options: [
                    "Retribuciones básicas, complementarias y extraordinarias.",
                    "Retribuciones básicas y extraordinarias.",
                    "Salario base y complemento de destino.",
                    "Retribuciones básicas y complementarias."
                ],
                correctAnswer: "d"
            },
            {
                question: "10. Entre los requisitos generales para acceder al empleo público del artículo 56 del Texto Refundido de la Ley del Estatuto Básico del Empleado Público, sin perjuicio de lo que se dispone en los artículos siguientes, se encuentra:",
                options: [
                    "Tener, como mínimo, cumplidos dieciocho años.",
                    "Conocer el castellano, en el supuesto de ser nacional de otro Estado.",
                    "Tener la nacionalidad española.",
                    "Hallarse en inhabilitación especial para el acceso al cuerpo o escala de funcionario."
                ],
                correctAnswer: "c"
            },
            {
                question: "11. En relación con la Agenda 2030, se establecen:",
                options: [
                    "19 metas de desarrollo sostenible.",
                    "19 objetivos de desarrollo sostenible.",
                    "17 metas de desarrollo sostenible.",
                    "17 objetivos de desarrollo sostenible."
                ],
                correctAnswer: "d"
            },
            {
                question: "12. La Ley 19/2013, de transparencia, acceso a la información pública y buen gobierno dispone del desarrollo por parte de la Administración General del Estado de un Portal de Transparencia. La información publicada en dicho portal cumplirá con los principios de:",
                options: [
                    "Accesibilidad, Interoperabilidad y Reutilización.",
                    "Accesibilidad, Interconexión y Reutilización.",
                    "Accesibilidad, Interoperabilidad y Confidencialidad.",
                    "Adaptabilidad, Interconexión y Reutilización."
                ],
                correctAnswer: "a"
            },
            {
                question: "13. Según la Ley Orgánica 3/2007, para la igualdad efectiva de mujeres y hombres, el comportamiento realizado en función del sexo de una persona con el propósito de atentar contra su dignidad y de crear un entorno intimidatorio, degradante y ofensivo constituye:",
                options: [
                    "Acoso sexual.",
                    "Discriminación sexual.",
                    "Acoso discriminatorio por razón sexual.",
                    "Acoso por razón de sexo."
                ],
                correctAnswer: "d"
            },
            {
                question: "14. Según lo dispuesto en la Ley Orgánica 1/2004. de Medidas de Protección Integral contra la Violencia de Género. ¿Qué órgano colegiado, adscrito al Ministerio de Trabajo y Asuntos Sociales, elaborará propuestas de actuación en materia de violencia de género?",
                options: [
                    "La Delegación del Gobierno contra la Violencia de Género.",
                    "La Comisión Interministerial de Igualdad entre mujeres y hombres.",
                    "El Observatorio Estatal de Violencia sobre la Mujer.",
                    "El Instituto de la Mujer."
                ],
                correctAnswer: "c"
            },
            {
                question: "15. Los Grados de dependencia establecidos por el artículo 26 de la Ley 39/2006, de Promoción de la Autonomía Personal y Atención a las personas en situación de dependencia son:",
                options: [
                    "Dependencia leve, Dependencia moderada y Dependencia grave.",
                    "Dependencia moderada, Dependencia severa y Gran dependencia.",
                    "Dependencia grave, Dependencia muy grave y Gran dependencia.",
                    "Dependencia leve, Dependencia severa y Gran dependencia."
                ],
                correctAnswer: "b"
            },
            {
                question: "16. El periodo de validez de la tarjeta-soporte del DNI electrónico será de cinco años en el caso de que:",
                options: [
                    "El titular haya cumplido los diez años de edad y no haya alcanzado los treinta al momento de la expedición o renovación.",
                    "El titular haya cumplido los diez años de edad y no haya alcanzado los veinticinco al momento de la expedición o renovación.",
                    "El titular haya cumplido los cinco años de edad y no haya alcanzado los cuarenta al momento de la expedición o renovación.",
                    "El titular haya cumplido los cinco años de edad y no haya alcanzado los treinta al momento de la expedición o renovación."
                ],
                correctAnswer: "d"
            },
            {
                question: "17. Indique cuál de los siguientes NO se corresponde con un plan o estrategia de la Agenda España Digital 2026:",
                options: [
                    "Estrategia Nacional de Inteligencia Artificial.",
                    "Plan de Aplicaciones Móviles de Servicios públicos.",
                    "Plan Nacional de Competencias Digitales.",
                    "Estrategia de Impulso de la tecnología 5G."
                ],
                correctAnswer: "b"
            },
            {
                question: "18. ¿Qué autoridad estatal tiene la condición de representante común del Reino de España en el Comité Europeo de Protección de Datos, según se establece en la Ley Orgánica 3/2018, de Protección de Datos Personales y garantía de los derechos digitales?",
                options: [
                    "La Administración General del Estado.",
                    "El Instituto Nacional de Estadística.",
                    "La Agencia Española de Protección de Datos.",
                    "El Centro Criptológico Nacional."
                ],
                correctAnswer: "c"
            },
            {
                question: "19. Según dispone el Reglamento (UE) 2016/679, los datos personales obtenidos a partir de un tratamiento técnico específico, relativos a las características físicas, fisiológicas o conductuales de una persona física que permitan o confirmen la identificación única de dicha persona, como imágenes faciales o datos dactiloscópicos son:",
                options: [
                    "Datos genéticos.",
                    "Datos biométricos.",
                    "Datos identificativos.",
                    "Datos relativos a la salud."
                ],
                correctAnswer: "b"
            },
            {
                question: "20. El Real Decreto 203/2021, por el que se aprueba el Reglamento de actuación y funcionamiento del sector público por medios electrónicos, establece en su artículo 4 canales de asistencia para el acceso a los servicios electrónicos. Cuál de los siguientes NO es uno de ellos:",
                options: [
                    "Redes sociales.",
                    "Sedes electrónicas.",
                    "Correo postal.",
                    "Presencial, a través de las oficinas de asistencia que se determinen."
                ],
                correctAnswer: "c"
            },
            {
                question: "21. EI ENS (Esquema Nacional de Seguridad) establece categorías de seguridad de un sistema. Indica la respuesta correcta, en función del grado de gravedad:",
                options: [
                    "Categoría Básica, Categoría Media y Categoría Alta.",
                    "Categoría Baja, Categoría Media y Categoría Alta.",
                    "Categoría Media, Categoría Alta y Categoría Crítica.",
                    "Categoría Básica, Categoría Media y Categoría Crítica."
                ],
                correctAnswer: "a"
            },
            {
                question: "22. ¿Cuál es el nombre que tiene el Portal del Empleado Público?",
                options: [
                    "PAG.",
                    "dehú.",
                    "FUNCIONA.",
                    "REÚNETE."
                ],
                correctAnswer: "c"
            },
            {
                question: "23. En relación con el sistema Cl@ve, una vez registrado en el sistema ¿Cuáles son los tipos de clave de acceso que se proporcionan?",
                options: [
                    "Cl@ve PIN, CI@ve Permanente y Cl@ve Single-Sign On.",
                    "Cl@ve Móvil, Cl@ve Firma y Cl@ve Permanente.",
                    "Cl@ve PIN y Cl@ve Firma.",
                    "Cl@ve Móvil, Cl@ve PIN y Cl@ve Permanente."
                ],
                correctAnswer: "d"
            },
            {
                question: "24. Indica cuál de estas afirmaciones es correcta, en relación con los buses de conexión:",
                options: [
                    "AGP es una versión mejorada del bus PCI Express para conectar GPU.",
                    "PCI es un bus de transmisión en paralelo, mientras que PCI Express es un bus de transmisión en serie.",
                    "PCI-X es un versión preliminar del bus PCI.",
                    "La versión más reciente de PCI Express es la 3.0."
                ],
                correctAnswer: "b"
            },
            {
                question: "25. La taxonomía de Flynn en relación a la arquitectura de ordenadores clasificaria a un sistema de Von Neumann estricto en:",
                options: [
                    "MIMD.",
                    "MISD.",
                    "SISD.",
                    "SIMD."
                ],
                correctAnswer: "c"
            },
            {
                question: "26. ¿Cuál de estas arquitecturas de procesadores es RISC?",
                options: [
                    "PowerPC.",
                    "x86.",
                    "AMD64.",
                    "Motorola 68000."
                ],
                correctAnswer: "a"
            },
            {
                question: "27. Indique de los siguientes periféricos aquel que sea de entrada.",
                options: [
                    "Teclado.",
                    "Monitor.",
                    "Altavoz.",
                    "Impresora."
                ],
                correctAnswer: "a"
            },
            {
                question: "28. ¿Cuál de los siguientes sistemas de almacenamiento es un dispositivo de almacenamiento óptico?",
                options: [
                    "Cinta LTO.",
                    "Disco Duro.",
                    "Blu-Ray",
                    "Memoria Flash."
                ],
                correctAnswer: "c"
            },
            {
                question: "29. ¿Qué es el 'ghosting'?",
                options: [
                    "Es un problema de impresoras de inyección provocado por una mala calidad de la tinta.",
                    "Es un problema de escáneres que tienen mal acoplado el CCD (Charge-Coupled Device).",
                    "Es un problema de recepción de pulsaciones inexistentes de un ratón inalámbrico.",
                    "Es un problema de monitores que tienen un tiempo de respuesta elevado."
                ],
                correctAnswer: "d"
            },
            {
                question: "30. Una pila es una estructura de datos que utiliza un algoritmo de tipo:",
                options: [
                    "FIFO (First in, First out).",
                    "FILO (First in, Last out).",
                    "LIFO (Last in, First out).",
                    "LILO (Last in, Last out)."
                ],
                correctAnswer: "c"
            },
            {
                question: "31. ¿Qué significan las siglas .odp y para qué tipo de ficheros se utiliza?",
                options: [
                    "odp (Open data preservation) se utiliza para el guardado definitivo de documentos de texto.",
                    "odp (Open document presentation) se utiliza para presentación de diapositivas.",
                    "odp (Official database protocol) es el estándar ISO para guardar tablas de bases de datos relacionales.",
                    "odp (Offline digital privileges) se utiliza en archivos de configuración de permisos sin conexión en sistemas Solaris."
                ],
                correctAnswer: "b"
            },
            {
                question: "32. En relación con los sistemas de ficheros, ¿Qué quiere significar que un sistema es 'Case insensitive' y no es 'Case preserving'?",
                options: [
                    "Es un sistema de ficheros que no distingue entre mayúsculas y minúsculas y, además, guarda los ficheros solo en mayúsculas o minúsculas.",
                    "Es un sistema de ficheros que distingue entre mayúsculas y minúsculas y, además, guarda los ficheros solo en mayúsculas o minúsculas.",
                    "Es un sistema de ficheros que no distingue entre mayúsculas y minúsculas que guarda los ficheros pudiendo mezclar mayúsculas y minúsculas.",
                    "Es un sistema de ficheros que distingue entre mayúsculas y minúsculas que guarda los ficheros pudiendo mezclar mayúsculas y minúsculas."
                ],
                correctAnswer: "a"
            },
            {
                question: "33. ¿Cuáles son las versiones comerciales de Windows 11?",
                options: [
                    "Windows 11 Enterprise, Windows 11 Pro y Windows 11 Home.",
                    "Windows 11 Pro y Windows 11 Standard.",
                    "Windows 11 Enterprise, Windows 11 Pro y Windows 11 Standard.",
                    "Windows 11 Pro y Windows 11 Home."
                ],
                correctAnswer: "d"
            },
            {
                question: "34. En relación con sistemas Linux ¿Qué es xfce?",
                options: [
                    "Un gestor de paquetes.",
                    "Una distribución Linux.",
                    "Una consola de comandos.",
                    "Un entorno de escritorio."
                ],
                correctAnswer: "d"
            },
            {
                question: "35. La versión más reciente del sistema operativo Android es:",
                options: [
                    "Android Pie.",
                    "Android 11.",
                    "Android 12L.",
                    "Android 13."
                ],
                correctAnswer: "d"
            },
            {
                question: "36. Si nosotros realizamos un recorrido POSORDEN en un árbol binario y el conjunto ordenado de nodos obtenido es el conjunto C={A,F,E,U,N,O,P}, podemos afirmar que el nodo raíz es:",
                options: [
                    "P",
                    "A",
                    "U",
                    "C"
                ],
                correctAnswer: "a"
            },
            {
                question: "37. En relación con las bases de datos relacionales, indica la respuesta INCORRECTA en relación con las características que debe presentar, atendiendo a las reglas de Codd:",
                options: [
                    "Debe cumplir la regla de independencia física de los datos.",
                    "Debe cumplir la regla de dependencia lógica de los datos.",
                    "Tiene que tener un catálogo dinámico en línea, basado en el modelo relacional.",
                    "Debe permitir la inserción, actualización y borrado de alto nivel."
                ],
                correctAnswer: "b"
            },
            {
                question: "38. Si queremos otorgar permisos a determinados usuarios para poder modificar una base de datos relacional, ¿Qué comando SQL deberemos utilizar?",
                options: [
                    "GRANT",
                    "REVOKE",
                    "PERMIT",
                    "ALLOW"
                ],
                correctAnswer: "a"
            },
            {
                question: "39. ¿En qué directorio se suelen guardar las aplicaciones instaladas a partir de los repositorios en un sistema Debian?",
                options: [
                    "/usr",
                    "/root",
                    "/sbin",
                    "/opt"
                ],
                correctAnswer: "a"
            },
            {
                question: "40. ¿Qué comando en un sistema Debian nos permite eliminar un programa y sus archivos de configuración?",
                options: [
                    "apt-cache purge",
                    "apt remove",
                    "apt-get purge",
                    "apt-get delete"
                ],
                correctAnswer: "c"
            },
            {
                question: "41. El programa Oracle VM Virtual Box es un ejemplo de:",
                options: [
                    "De programa de virtualización de contenedores.",
                    "De programa de virtualización de sesiones de escritorio.",
                    "De programa de virtualización de máquinas virtuales de tipo 2.",
                    "De programa de virtualización de máquinas virtuales sobre el metal."
                ],
                correctAnswer: "c"
            },
            {
                question: "42. ¿Qué descripción NO es correcta, en relación con los backups o copias de respaldo?",
                options: [
                    "Las copias de respaldo completas implican una copia de todos los ficheros y bases de datos.",
                    "Las copias de respaldo diferenciales copian los datos modificados desde la última copia diferencial.",
                    "La restauración de una copia de respaldo diferencial suele ser más rápida que una copia de respaldo incremental.",
                    "La ventaja de las copias de respaldo completas es que se tiene la seguridad de tener una imagen completa en el momento de la salvaguarda."
                ],
                correctAnswer: "b"
            },
            {
                question: "43. ¿Cuál de los siguientes NO se corresponde con una extensión de SMTP?",
                options: [
                    "DKIM",
                    "Opportunistic TLS",
                    "MTA-STS",
                    "MIME"
                ],
                correctAnswer: "a"
            },
            {
                question: "44. En relación con los contenedores e imágenes de Docker podemos afirmar que:",
                options: [
                    "Una imagen es una instancia de un contenedor.",
                    "Un contenedor es una instancia de una imagen.",
                    "Una imagen es el nombre que recibe el programa en el Docker Hub y contenedor es el nombre que recibe el programa en el cliente.",
                    "Un contenedor es una versión de una imagen determinada por un tag."
                ],
                correctAnswer: "b"
            },
            {
                question: "45. Se puede decir que el protocolo SNMP se utiliza:",
                options: [
                    "Para gestionar las políticas de seguridad del tráfico mediante HTTP, conocido también como HTTPS.",
                    "Para facilitar el intercambio de información de administración entre dispositivos de red.",
                    "Para el envío de correos electrónicos entre servidores de correo electrónico entre sí o con agentes de correo.",
                    "Para asociar la información descentralizada de dispositivos conectados a redes como Internet o una red privada a través de nombres de dominio."
                ],
                correctAnswer: "b"
            },
            {
                question: "46. El algoritmo de seguridad AES es:",
                options: [
                    "Un algoritmo simétrico de bloque de 128 bits.",
                    "Un algoritmo simétrico de flujo.",
                    "Un algoritmo asimétrico basado en números primos.",
                    "Un algoritmo simétrico de bloque de 64 bits."
                ],
                correctAnswer: "a"
            },
            {
                question: "47. ¿Qué herramienta del CCN-CERT permite el intercambio de información de ciberamenazas?",
                options: [
                    "CLAUDIA",
                    "LORETO",
                    "REYES",
                    "ROCÍO"
                ],
                correctAnswer: "c"
            },
            {
                question: "48. ¿Qué nombre recibe el programa que aparentemente, o realmente, ejecuta una función útil, pero oculta un subprograma dañino que abusa de los privilegios concedidos para la ejecución del citado programa?",
                options: [
                    "Bomba Lógica.",
                    "Backdoor.",
                    "Virus.",
                    "Caballo de Troya."
                ],
                correctAnswer: "d"
            },
            {
                question: "49. Según la clasificación determinada por TIA 952, un CPD que tiene un 99,741% de disponibilidad estaría encuadrado en un:",
                options: [
                    "Tier III",
                    "Tier I",
                    "Tier IV",
                    "Tier II"
                ],
                correctAnswer: "d"
            },
            {
                question: "50. ¿Cuál es el estándar sobre el que se comercializan los dispositivos compatibles con Wi-Fi 7?",
                options: [
                    "802.3ax",
                    "802.11ax",
                    "802.11ba",
                    "802.11be"
                ],
                correctAnswer: "d"
            },
            {
                question: "51. ¿Qué protocolo se utiliza para la conmutación de paquetes sin conexión?",
                options: [
                    "ARQ",
                    "TCP",
                    "UDP",
                    "MPLS"
                ],
                correctAnswer: "c"
            },
            {
                question: "52. El modelo TCP/IP consta de:",
                options: [
                    "7 niveles.",
                    "6 niveles.",
                    "4 niveles.",
                    "3 niveles."
                ],
                correctAnswer: "c"
            },
            {
                question: "53. ¿Cuál de los siguientes protocolos NO trabaja sobre la capa de aplicación del modelo OSI?",
                options: [
                    "ARP",
                    "DHCP",
                    "SMTP",
                    "LDAP"
                ],
                correctAnswer: "a"
            },
            {
                question: "54. En relación con los métodos de HTTP, ¿Qué quiere significar que un método sea 'idempotente'?",
                options: [
                    "Que el resultado de la petición se guarda en la caché del servidor para futuras peticiones, mejorando la velocidad de respuesta.",
                    "Que la petición puede generar efectos adicionales en el servidor, por lo que debe ser acompañada de otros métodos.",
                    "Que el resultado de la petición reemplaza la información guardada en la caché de otra petición idempotente anterior.",
                    "Que la misma petición ejecutada varias veces generará el mismo efecto que si fuese ejecutada una única vez."
                ],
                correctAnswer: "d"
            },
            {
                question: "55. En relación con la notación para direcciones IPv6 es correcto indicar que:",
                options: [
                    "Son de 128 bits de longitud escrita en doce grupos de cuatro dígitos hexadecimales.",
                    "Son de 128 bits de longitud escrita en ocho grupos de cuatro digitos hexadecimales.",
                    "Son de 64 bits de longitud escrita en ocho grupos de cuatro dígitos octales.",
                    "Son de 128 bits de longitud escrita en doce grupos de cuatro dígitos octales."
                ],
                correctAnswer: "b"
            },
            {
                question: "56. En relación con las direcciones IPv4 ¿Cuál es el rango de direcciones privadas de Clase B?",
                options: [
                    "172.16.0.0/12",
                    "192.168.0.0/16",
                    "100.64.0.0/10",
                    "128.16.0.0/16"
                ],
                correctAnswer: "a"
            },
            {
                question: "57. En relación con la seguridad perimetral, ¿Cuál de las siguientes medidas de seguridad es una solución Single-Box?",
                options: [
                    "Red DMZ.",
                    "Screening Router.",
                    "Screened Host.",
                    "Screened Subnet."
                ],
                correctAnswer: "b"
            },
            {
                question: "58. Los routers gestionan los paquetes de datos a un destino determinado a través de la ruta más adecuada partiendo de una serie de reglas, ¿Cuál es el nombre del elemento que le permite encaminar al router?",
                options: [
                    "Firewall.",
                    "Tabla de enrutamiento.",
                    "Tabla MAC.",
                    "Tabla CAM."
                ],
                correctAnswer: "b"
            },
            {
                question: "59. ¿Cuál de los siguientes tipos de cables de par trenzado ofrece una menor capacidad de protección frente a interferencias, ruidos u otras eventualidades que comprometan la señal?",
                options: [
                    "U/UTP",
                    "S/STP",
                    "F/FTP",
                    "N/NTP"
                ],
                correctAnswer: "a"
            },
            {
                question: "60. Según se determina en el artículo 6 del Título Preliminar de la Constitución Española, ¿Qué tiene consideración de instrumento fundamental para la participación politica?",
                options: [
                    "Los partidos políticos.",
                    "Los sindicatos.",
                    "Las Cortes Generales.",
                    "Las elecciones periódicas por sufragio universal."
                ],
                correctAnswer: "a"
            },
            {
                question: "61. Señale la respuesta INCORRECTA, en relación con la Carpeta Ciudadana:",
                options: [
                    "Contiene información sobre notificaciones pendientes de leer y el estado de los expedientes en trámite.",
                    "Si se encuentra algún dato erróneo o que no aparece correctamente, se debe acudir al organismo correspondiente.",
                    "En un mismo dispositivo, tras el primer acceso, no requiere autenticaciones adicionales durante las 4 horas siguientes.",
                    "Mi Carpeta Ciudadana no almacena datos propios al respecto de expedientes o datos personales."
                ],
                correctAnswer: "c"
            },
            {
                question: "62. ¿A qué se refieren las siglas aas?",
                options: [
                    "A un algoritmo asimétrico basado en logaritmo discreto. (Algorithm for Autenthicated Security).",
                    "A la externalización de la gestión de seguridad en una auditoría autónoma de seguridad. (Autonomous Audit System).",
                    "A la capacidad de un sistema informático de autenticar a un usuario de forma automática. (Automatic Authentication Service).",
                    "Al modelo de negocio en el que un recurso informático se comercializa como un servicio. (As a Service)."
                ],
                correctAnswer: "d"
            },
            {
                question: "63. ¿Cuál es el método HTTP que nos permite obtener un recurso en específico de un servidor?",
                options: [
                    "REQUEST",
                    "HEAD",
                    "OPEN",
                    "GET"
                ],
                correctAnswer: "d"
            },
            // Preguntas del archivo "Azul - SP.pdf"
            {
                question: "64-1. En el departamento al que usted va asignado, dispone de distintos equipos con múltiples sistemas operativos, entre los que se incluyen Debian y Windows 11. Los sistemas Debian se utilizan para realizar gestiones administrativas y los usuarios se distribuyen en tres grupos distintos: gestion, administrativo y auxiliar; dependiendo de las funciones que en ellos se ejerzan. En tanto que no se le diga lo contrario, asuma que tiene privilegios de administrador para poder ejecutar los trabajos y tare as que se le pidan en todos los equipos que se le indique. Se le ha proporcionado la red 10.10.0.0. ¿A qué clase pertenece la red?",
                options: [
                    "Clase D",
                    "Clase C",
                    "Clase B",
                    "Clase A"
                ],
                correctAnswer: "d"
            },
            {
                question: "65-2. Para la dirección con clase 192.168.2.0, se pretenden hacer 30 subredes distintas con 6 equipos como máximo para cada subred. ¿Qué máscara de subred habría que aplicar?",
                options: [
                    "255.255.255.224",
                    "255.255.255.252",
                    "255.255.255.240",
                    "255.255.255.248"
                ],
                correctAnswer: "d"
            },
            {
                question: "66-3. Partiendo de la máscara predeterminada de la dirección con clase 10.100.0.0, se han tomado 8 bits adicionales para realizar subredes. ¿Cuál sería la primera dirección de host para la primera subred?",
                options: [
                    "10.0.0.1",
                    "10.100.0.1",
                    "10.0.0.0",
                    "10.1.0.1"
                ],
                correctAnswer: "a"
            },
            {
                question: "67-4. El anterior administrador de los sistemas Debian de la organización hizo al usuario Jake miembro del grupo 'gestion' por error, por lo que hay que suprimirlo de dicho grupo, ¿Qué comando utilizaría?",
                options: [
                    "delgroup jake gestion",
                    "gpasswd -d jake gestion",
                    "usermod -dG gestion jake",
                    "groups -d gestion jake"
                ],
                correctAnswer: "b"
            },
            {
                question: "68-5. Nadie le ha informado de la versión de Debian que tiene instalado el sistema operativo ni si está completamente actualizado, ¿Qué comando le permitiría actualizar el sistema operativo a su versión más reciente?",
                options: [
                    "apt-cache upgrade",
                    "apt-get update",
                    "apt full-upgrade",
                    "apt distro-sync"
                ],
                correctAnswer: "c"
            },
            {
                question: "69-6. Le han pedido que compruebe el estado de los puertos del servidor que tiene como IP 88.88.88.88. ¿Cuál sería el comando más adecuado para conseguirlo?",
                options: [
                    "traceroute 88.88.88.88 -p all",
                    "nmap-v-z 88.88.88.88",
                    "listen --all 88.88.88.88:1-65535",
                    "netcat-v-z 88.88.88.88 1-65535"
                ],
                correctAnswer: "d"
            },
            {
                question: "70-7. Le piden que se dirija a uno de los equipos que tienen Debian para que desactive la interfaz de red ya que está teniendo problemas. ¿Qué comando utilizaría?",
                options: [
                    "ipconfig eth0 disable",
                    "ip link set dev eth0 state off",
                    "ip link set dev eth0 down",
                    "ip device disable eth0"
                ],
                correctAnswer: "c"
            },
            {
                question: "71-8. En la organización se está utilizando para la gestión de base de datos de usuarios MySQL. ¿Qué puerto debería asegurarse que está bien configurado?",
                options: [
                    "El puerto 1521.",
                    "El puerto 3306.",
                    "El puerto 3360.",
                    "El puerto 3366."
                ],
                correctAnswer: "b"
            },
            {
                question: "72-9. En nuestros sistemas Windows se ha detectado un problema importante en la configuración del firewall, por lo que quiere bloquear todo el tráfico entrante mientras termina por arreglar las reglas, ¿Qué comando utilizaría?",
                options: [
                    "netsh advfirewall set allprofiles firewallpolicy blockinboundalways, allowoutbound",
                    "netsh advfirewall firewall add rule name='all' dir=in enable=yes",
                    "netsh advfirewall firewall set firewallpolicy blockinboundalways",
                    "netsh advfirewall firewall add rule name='all' dir=in enable=no"
                ],
                correctAnswer: "a"
            },
            {
                question: "73-10. Necesita comprobar en Windows cuáles son las máquinas y usuarios que están actualmente conectados en nuestro servidor. ¿Qué comando utilizaría para ello?",
                options: [
                    "net view",
                    "net user",
                    "net session",
                    "net config"
                ],
                correctAnswer: "c"
            },
            {
                question: "74-11. Se ha decidido establecer una RAID 01 y le piden que prepare los mínimos discos indispensables para hacer pruebas con ellos. ¿Cuántos cogería?",
                options: [
                    "2",
                    "6",
                    "3",
                    "4"
                ],
                correctAnswer: "d"
            },
            {
                question: "75-12. Al montar uno de los discos duros que ha traído en un Sistema Windows, sus superiores tienen dudas sobre la integridad del disco duro, ¿Qué comando de los siguientes ha podido utilizar su superior para llegar a esta conclusión?",
                options: [
                    "wmic",
                    "fdisk",
                    "lvm",
                    "fstab"
                ],
                correctAnswer: "a"
            },
            {
                question: "76-13. Se ha hecho una gestión inadecuada de los contenedores en Docker y se requiere eliminar todos aquellos contenedores que no estén en uso. ¿Qué comando utilizaría?",
                options: [
                    "docker container prune",
                    "docker container purge",
                    "docker container flush",
                    "docker container dump"
                ],
                correctAnswer: "a"
            },
            {
                question: "77-14. Le piden que se dirija al equipo que hace de salt-master para que mande órdenes a los equipos que tienen instalado Fedora. ¿Cuál sería el comando adecuado?",
                options: [
                    "salt-Cos:Fedora'",
                    "salt-G 'os:Fedora'",
                    "salt -L'os:Fedora'",
                    "salt -S 'os:Fedora'"
                ],
                correctAnswer: "b"
            },
            {
                question: "78-15. ¿Cuáles de estos puertos son los que debemos tener preparados para Salt en los equipos que sean salt-minions?",
                options: [
                    "4505 y 4506.",
                    "7306 y 7307.",
                    "80 y 443.",
                    "5004 y 5005."
                ],
                correctAnswer: "a"
            },
            {
                question: "79-16. El equipo está muy preocupado porque se están produciendo muchos ataques y necesitan montar un sistema que les permita desviar a los atacantes de forma temporal de los activos esenciales del sistema. ¿Qué programa le sugeriría?",
                options: [
                    "honeyd",
                    "Nagios",
                    "BitLocker",
                    "PILAR"
                ],
                correctAnswer: "a"
            },
            {
                question: "80-17. Se han recibido múltiples llamadas por parte de los usuarios ya que están recibiendo errores 504. ¿Cuál es el mensaje de error que están recibiendo?",
                options: [
                    "BAD REQUEST",
                    "INTERNAL SERVER ERROR",
                    "GATEWAY TIMEOUT",
                    "NOT FOUND"
                ],
                correctAnswer: "c"
            },
            {
                question: "81-18. En su unidad se está utilizando una herramienta del CCN-Cert como plataforma unificada para la notificación y gestión de los incidentes. ¿Qué plataforma es?",
                options: [
                    "ANA",
                    "ADA",
                    "VANESA",
                    "LUCIA"
                ],
                correctAnswer: "d"
            },
            {
                question: "82-19. Le informan desde la DCM que se requiere una conexión Ethernet que permita en una frecuencia de hasta 350 MHz una velocidad de 500 Mbps como mínimo. Según el estándar ANSI/TIA 568-B ¿Cuál sería la categoría de cable de menor capacidad que haría posible esta conexión?",
                options: [
                    "Categoría 5e",
                    "Categoría 6",
                    "Categoría 6A",
                    "Categoría 8"
                ],
                correctAnswer: "c"
            },
            {
                question: "83-20. Se está configurando una VLAN en otro departamento y están teniendo problemas para su configuración. ¿Qué estándar les indicaría que deben soportar los dispositivos de dicha red para que su implementación sea un éxito?",
                options: [
                    "IEEE 802.1Q",
                    "IEEE 802.3Q",
                    "IEEE 802.11Q",
                    "IEEE 802.15Q"
                ],
                correctAnswer: "a"
            },
            {
                question: "84-21. Necesitamos conectarnos a través de SSH para poder acceder a un servidor remoto y realizar un intercambio de ficheros. ¿Cuál es el puerto por defecto para las conexiones de este protocolo?",
                options: [
                    "20",
                    "21",
                    "22",
                    "23"
                ],
                correctAnswer: "c"
            },
            {
                question: "85-22. ¿Qué comando en un sistema Linux nos permite realizar una transferencia de ficheros a través del protocolo ssh?",
                options: [
                    "ssh-copy",
                    "ssh-agent",
                    "smv",
                    "scp"
                ],
                correctAnswer: "d"
            },
            {
                question: "86-23. ¿Cuál sería la wildcard de un host que tiene 27 bits encendidos como máscara de red?",
                options: [
                    "0.0.0.15",
                    "0.0.0.16",
                    "0.0.0.31",
                    "0.0.0.32"
                ],
                correctAnswer: "c"
            },
            {
                question: "87-24. Necesita abrir el Visor de eventos en uno de sus equipos con Windows 11, ya que necesita información sobre los últimos arranques del equipo. ¿Cuál es el comando que debería ejecutar en el Símbolo del Sistema?",
                options: [
                    "eventvwr",
                    "regedit",
                    "Get-Systeminfo",
                    "taskmgr"
                ],
                correctAnswer: "a"
            },
            {
                question: "88-25. En su unidad hay sistemas de información que se consideran de categoría de seguridad MEDIA. En relación con las auditorías de seguridad que deben llevarse a cabo, de conformidad con lo indicado en el ENS, es cierto que:",
                options: [
                    "El responsable del sistema, atendiendo a una eventual gravedad de las deficiencias encontradas, podrá suspender la prestación de servicios.",
                    "Deberán realizarse auditorías regulares ordinarias, al menos cada dos años.",
                    "Para la realización de la auditoría del sistema, solo se requerirá de una autoevaluación para su declaración de conformidad.",
                    "Bajo ningún concepto, al ser un sistema de categoría de seguridad MEDIA, podrá extenderse el plazo para la realización de auditorías en su sistema de información."
                ],
                correctAnswer: "b"
            }
        ];
        
        // Usa userQuestions si no está vacío, de lo contrario, usa defaultQuestions
        const questions = userQuestions.length > 0 ? userQuestions : defaultQuestions;
        
        let currentQuestionIndex = 0;
        let answeredCount = 0;
        let correctCount = 0;
        let incorrectCount = 0;
        const userAnswers = {}; // Almacena las respuestas del usuario {preguntaIndex: 'letra'}
        
        // Elementos del DOM
        const quizContainer = document.getElementById('quizContainer');
        const progressBar = document.getElementById('progressBar');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const restartInlineBtn = document.getElementById('restartInlineBtn');
        const restartBtn = document.getElementById('restartBtn');
        const finalScoreDisplay = document.getElementById('finalScore');
        const scoreText = finalScoreDisplay.querySelector('.score-display');
        const correctCountSpan = document.getElementById('correctCount');
        const incorrectCountSpan = document.getElementById('incorrectCount');
        const unansweredCountSpan = document.getElementById('unansweredCount');

        /**
         * Inicializa el cuestionario.
         * Comprueba si hay un estado guardado en localStorage para restaurarlo.
         */
        function initQuiz() {
            const savedState = localStorage.getItem('quizState');
            if (savedState) {
                const state = JSON.parse(savedState);
                currentQuestionIndex = state.currentQuestionIndex;
                answeredCount = state.answeredCount;
                correctCount = state.correctCount;
                incorrectCount = state.incorrectCount;
                Object.assign(userAnswers, state.userAnswers);
            } else {
                // Limpia el estado si no hay uno guardado o si se reinicia
                currentQuestionIndex = 0;
                answeredCount = 0;
                correctCount = 0;
                incorrectCount = 0;
                for (const key in userAnswers) {
                    delete userAnswers[key];
                }
                localStorage.clear();
            }

            quizContainer.classList.remove('hidden');
            finalScoreDisplay.classList.add('hidden');
            loadQuestion(currentQuestionIndex);
            updateProgressBar();
            updateNavigationButtons();
        }

        /**
         * Guarda el estado actual del cuestionario en localStorage.
         */
        function saveQuizState() {
            const state = {
                currentQuestionIndex,
                answeredCount,
                correctCount,
                incorrectCount,
                userAnswers: userAnswers
            };
            localStorage.setItem('quizState', JSON.stringify(state));
        }

        /**
         * Carga la pregunta actual en el DOM.
         * @param {number} index - El índice de la pregunta a cargar.
         */
        function loadQuestion(index) {
            quizContainer.innerHTML = '';
            const questionData = questions[index];
            const questionElement = document.createElement('div');
            questionElement.classList.add('question-card');

            const questionText = document.createElement('p');
            questionText.classList.add('question-text');
            questionText.textContent = questionData.question;
            questionElement.appendChild(questionText);

            const optionsList = document.createElement('div');
            optionsList.classList.add('options-list');

            const optionLetters = ['a', 'b', 'c', 'd'];
            questionData.options.forEach((option, i) => {
                const button = document.createElement('button');
                const optionLetter = optionLetters[i];
                button.classList.add('option-button');
                button.dataset.option = optionLetter;
                button.textContent = `${optionLetter.toUpperCase()}. ${option}`;
                optionsList.appendChild(button);

                if (userAnswers[index] === optionLetter) {
                    button.classList.add('selected');
                }

                button.addEventListener('click', () => {
                    handleOptionSelect(index, optionLetter);
                });
            });

            questionElement.appendChild(optionsList);
            quizContainer.appendChild(questionElement);

            // Resalta la opción previamente seleccionada si la hay
            if (userAnswers[index]) {
                const selectedOption = optionsList.querySelector(`[data-option="${userAnswers[index]}"]`);
                if (selectedOption) {
                    selectedOption.classList.add('selected');
                    // Muestra el feedback si ya ha sido respondida
                    showFeedback(index, userAnswers[index]);
                }
            }

            saveQuizState();
        }

        /**
         * Maneja la selección de una opción por parte del usuario.
         * @param {number} questionIndex - El índice de la pregunta respondida.
         * @param {string} selectedOption - La letra de la opción seleccionada.
         */
        function handleOptionSelect(questionIndex, selectedOption) {
            const questionData = questions[questionIndex];
            const isCorrect = selectedOption === questionData.correctAnswer;
            
            // Si la pregunta no ha sido respondida antes, actualiza la puntuación
            if (!userAnswers.hasOwnProperty(questionIndex)) {
                if (isCorrect) {
                    correctCount++;
                } else {
                    incorrectCount++;
                }
                answeredCount++;
            }

            // Almacena la respuesta del usuario
            userAnswers[questionIndex] = selectedOption;
            
            showFeedback(questionIndex, selectedOption);
            updateProgressBar();
            saveQuizState();
        }
        
        /**
         * Muestra el feedback de la respuesta (correcta/incorrecta).
         * @param {number} questionIndex - El índice de la pregunta.
         * @param {string} selectedOption - La opción seleccionada por el usuario.
         */
        function showFeedback(questionIndex, selectedOption) {
            const questionData = questions[questionIndex];
            const questionCard = quizContainer.querySelector('.question-card');
            const options = questionCard.querySelectorAll('.option-button');
            const optionLetters = ['a', 'b', 'c', 'd'];

            options.forEach(optionBtn => {
                optionBtn.classList.add('disabled');
                const optionLetter = optionBtn.dataset.option;
                if (optionLetter === questionData.correctAnswer) {
                    optionBtn.classList.add('correct-answer');
                }
                if (optionLetter === selectedOption && optionLetter !== questionData.correctAnswer) {
                    optionBtn.classList.add('incorrect-answer');
                }
            });

            // Añadir clase al contenedor de la pregunta
            if (selectedOption === questionData.correctAnswer) {
                questionCard.classList.add('correct');
            } else {
                questionCard.classList.add('incorrect');
            }
        }

        /**
         * Actualiza la barra de progreso del quiz.
         */
        function updateProgressBar() {
            const progress = (answeredCount / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        /**
         * Actualiza el estado de los botones de navegación (habilitar/deshabilitar).
         */
        function updateNavigationButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.textContent = 'Ver Resultados';
            } else {
                nextBtn.textContent = 'Siguiente';
            }
        }

        /**
         * Muestra los resultados finales del quiz.
         */
        function showResults() {
            const unansweredCount = questions.length - answeredCount;
            const finalScorePercentage = (correctCount / questions.length) * 100;

            quizContainer.classList.add('hidden');
            finalScoreDisplay.classList.remove('hidden');

            scoreText.textContent = `Puntuación: ${correctCount}/${questions.length}`;
            correctCountSpan.textContent = correctCount;
            incorrectCountSpan.textContent = incorrectCount;
            unansweredCountSpan.textContent = unansweredCount;
            
            localStorage.clear(); // Limpiar el localStorage al terminar el quiz
        }

        // Event Listeners para los botones de navegación
        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
                updateProgressBar();
                updateNavigationButtons();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
                updateProgressBar();
                updateNavigationButtons();
            } else {
                showResults();
            }
        });

        restartInlineBtn.addEventListener('click', () => {
            initQuiz();
        });

        restartBtn.addEventListener('click', () => {
            initQuiz();
        });

        // Iniciar el quiz al cargar la página
        initQuiz();
    </script>
</body>
</html>

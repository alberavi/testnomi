<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL</title>
    <!-- Enlace a Tailwind CSS para las clases de la estructura HTML -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS completo para el estilo del quiz -->
    <style>
        /* Estilos generales del cuerpo */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }

        /* Contenedor principal del quiz */
        .container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin-top: 20px;
        }

        /* Tarjeta de la pregunta */
        .question-card {
            background-color: #f8fafc;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease-in-out;
        }

        /* Estilo para la tarjeta de pregunta correcta */
        .question-card.correct {
            background-color: #d4edda;
            border-color: #28a745;
        }

        /* Estilo para la tarjeta de pregunta incorrecta */
        .question-card.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
        }

        /* Texto de la pregunta */
        .question-text {
            font-size: 1.15rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        /* Botones de opciones */
        .option-button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 12px 18px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #cbd5e0;
            background-color: #ffffff;
            color: #4a5568;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        /* Efecto hover para los botones de opciones */
        .option-button:hover:not(.disabled) {
            background-color: #e2e8f0;
            border-color: #a0aec0;
        }

        /* Estilo para el botón de opción seleccionado */
        .option-button.selected {
            border-color: #4299e1;
            background-color: #ebf8ff;
            font-weight: 600;
        }

        /* Estilo para la respuesta correcta */
        .option-button.correct-answer {
            background-color: #28a745;
            color: #ffffff;
            border-color: #28a745;
            font-weight: 700;
        }

        /* Estilo para la respuesta incorrecta */
        .option-button.incorrect-answer {
            background-color: #dc3545;
            color: #ffffff;
            border-color: #dc3545;
            font-weight: 700;
        }

        /* Estilo para los botones deshabilitados */
        .option-button.disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        /* Contenedor de la solución */
        .solution {
            margin-top: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            background-color: #e0f2f7;
            color: #2c5282;
            font-size: 0.95rem;
            font-weight: 500;
            border: 1px solid #90cdf4;
        }

        /* Contenedor del feedback (correcto/incorrecto) */
        .feedback {
            margin-top: 15px;
            font-weight: 600;
            font-size: 1rem;
            text-align: center;
        }

        /* Estilo para feedback correcto */
        .feedback.correct {
            color: #28a745;
        }

        /* Estilo para feedback incorrecto */
        .feedback.incorrect {
            color: #dc3545;
        }

        /* Contenedor de los botones de navegación */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        /* Estilo base para los botones de navegación */
        .nav-button {
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
            text-align: center;
        }

        /* Estilo para el botón "Anterior" */
        .nav-button.prev {
            background-color: #6b7280;
            color: #ffffff;
        }
        .nav-button.prev:hover:not(:disabled) {
            background-color: #4b5563;
            transform: translateY(-2px);
        }

        /* Estilo para el botón "Siguiente" */
        .nav-button.next {
            background-color: #4299e1;
            color: #ffffff;
        }
        .nav-button.next:hover:not(:disabled) {
            background-color: #3182ce;
            transform: translateY(-2px);
        }

        /* Estilo para el botón de reinicio en línea */
        .nav-button.restart-inline {
            background-color: #f50b0b;
            color: #ffffff;
        }
        .nav-button.restart-inline:hover:not(:disabled) {
            background-color: #ac0505;
            transform: translateY(-2px);
        }

        /* Estilo para los botones deshabilitados */
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Barra de progreso */
        .progress-bar-container {
            width: 100%;
            background-color: #e2e8f0;
            border-radius: 5px;
            height: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: #4299e1;
            width: 0%;
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        /* Visualización de la puntuación final */
        .score-display {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-top: 20px;
        }

        /* Resumen de resultados */
        .results-summary {
            margin-top: 20px;
            padding: 20px;
            background-color: #f8fafc;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
        }

        .results-summary p {
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: #2d3748;
        }

        .results-summary p strong {
            font-weight: 700;
        }

        /* Botón de reinicio final */
        .restart-button {
            display: block;
            width: fit-content;
            margin: 20px auto 0 auto;
            padding: 12px 30px;
            background-color: #48bb78;
            color: #ffffff;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .restart-button:hover {
            background-color: #38a169;
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
                <h1 style="color: #003366; font-family: 'Georgia', serif; font-size: 2rem; text-align: center; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);">PASTILLA ARCOIRIS</h1>


        <!-- Barra de progreso -->
        <div class="progress-bar-container">
            <div id="progressBar" class="progress-bar"></div>
        </div>

        <!-- Contenedor principal de las preguntas -->
        <div id="quizContainer">
            <!-- Las preguntas se cargarán dinámicamente aquí -->
        </div>

        <!-- Botones de navegación -->
        <div class="navigation-buttons">
            <button id="prevBtn" class="nav-button prev" disabled>Anterior</button>
            <button id="restartInlineBtn" class="nav-button restart-inline">Reiniciar Test</button>
            <button id="nextBtn" class="nav-button next">Siguiente</button>
        </div>

        <!-- Contenedor de la puntuación final -->
        <div id="finalScore" class="hidden">
            <div class="score-display"></div>
            <div class="results-summary">
                <p><strong>Preguntas Correctas:</strong> <span id="correctCount">0</span></p>
                <p><strong>Preguntas Incorrectas:</strong> <span id="incorrectCount">0</span></p>
                <p><strong>Preguntas Sin Contestar:</strong> <span id="unansweredCount">0</span></p>
            </div>
            <button id="restartBtn" class="restart-button">Reiniciar Test</button>
        </div>
    </div>
    
   

    <script>
        // Array de preguntas y respuestas.
        // Puedes editar este array directamente para cambiar las preguntas del test.
        const defaultQuestions = [
             {
                question: "¿En qué fecha entró en vigor la Constitución Española?",
                options: [
                    "28 de diciembre de 1979.",
                    "8 de diciembre de 1978.",
                    "27 de diciembre de 1978.",
                    "29 de diciembre de 1978."
                ],
                correctAnswer: "D"
            },
            {
                question: "¿Cuántos títulos, excluyendo el preliminar, posee la Constitución Española?",
                options: [
                    "11 títulos.",
                    "10 títulos.",
                    "9 títulos.",
                    "La Constitución Española se estructura en epígrafes, no en títulos."
                ],
                correctAnswer: "B"
            },
            {
                question: "¿Cuál de los siguientes derechos deben ser informados ante la legislación positiva, la práctica judicial y la actuación de los poderes públicos, según el artículo 53.3 de la Constitución Española?",
                options: [
                    "El derecho al matrimonio con plena igualdad jurídica entre hombre y mujer.",
                    "El derecho a la protección de la salud.",
                    "El derecho de fundación para fines de interés general.",
                    "El derecho de asociación."
                ],
                correctAnswer: "B"
            },
            {
                question: "Entre las funciones que le corresponden al Rey, según el artículo 62 de la Constitución Española, se encuentra:",
                options: [
                    "Expedir y ratificar las leyes.",
                    "El mando supremo de las Fuerzas y Cuerpos de Seguridad.",
                    "Conferir los empleos civiles y militares y conceder honores y distinciones con arreglo a las leyes.",
                    "Aprobar los decretos acordados en el Consejo de Ministros."
                ],
                correctAnswer: "C"
            },
            {
                question: "Según el artículo 68 de la Constitución Española, el Congreso será elegido mediante un sufragio:",
                options: [
                    "Universal, libre, igual, directo y secreto.",
                    "Universal, censitario, igual, directo y secreto.",
                    "Universal, libre, igual, indirecto y secreto.",
                    "Universal, censitario, libre, directo y secreto."
                ],
                correctAnswer: "A"
            },
            {
                question: "Los miembros del Tribunal Constitucional, según se indica en el articulo 159 de la Constitución:",
                options: [
                    "Serán designados por un periodo de nueve años y se renovarán por terceras partes cada cuatro.",
                    "Serán designados por un periodo de doce años y se renovarán por terceras partes cada cuatro.",
                    "Serán designados por un periodo de doce años y se renovarán por cuartas partes cada tres.",
                    "Serán designados por un periodo de nueve años y se renovarán por terceras partes cada tres."
                ],
                correctAnswer: "D"
            },
            {
                question: "El artículo 116 de la Constitución Española indica la existencia de los siguientes tipos de estado, de menor a mayor gravedad.",
                options: [
                    "Estado de alarma, de excepción y de sitio.",
                    "Estado de alarma, de sitio itio y crítico.",
                    "Estado de excepción, de sitio y crítico.",
                    "Estado de alarma, de excepción, de sitio y crítico."
                ],
                correctAnswer: "A"
            },
            {
                question: "Según el artículo 86 de la Constitución Española, las Cortes podrán tramitar como proyecto de ley por el procedimiento de emergencia los Decretos-Leyes del Gobierno en un plazo de...",
                options: [
                    "No existe dicho procedimiento recogido en la Constitución.",
                    "Durante el plazo de 30 días siguientes a su promulgación.",
                    "Durante el plazo de 15 días siguientes a su promulgación.",
                    "Durante el plazo de 30 días siguientes a su convalidación."
                ],
                correctAnswer: "A"
            },
            {
                question: "Se considera información pública, según el artículo 13 de la Ley 19/2013 de Transparencia, acceso a la información pública y buen gobierno",
                options: [
                    "Se entiende por información pública los contenidos o documentos, cualquiera que sea su formato o soporte, que obren en poder de cualquier persona física o jurídica, hayan sido o no elaborados o adquiridos en el ejercicio de sus funciones.",
                    "Se entiende por información pública los contenidos o documentos, cualquiera que sea su formato o soporte, que obren en poder de alguno de los sujetos incluidos en el ámbito de aplicación de este título y que hayan sido elaborados o adquiridos en el ejercicio de sus funciones.",
                    "Se entiende por información pública los contenidos o documentos en formato electrónico o susceptibles de digitalización, que obren en poder de alguno de los sujetos incluidos en el ámbito de aplicación de este título y que no hayan sido elaborados o adquiridos en el ejercicio de sus funciones.",
                    "Se entiende por información pública los documentos electrónicos relativos a los procedimientos administrativos que se encuentren en fase de recuperación o conservación, que obren en poder de la Administración General del Estado o cualquier ente público subvencionado con fondos públicos, esté o no disponible en ARCHIVE."
                ],
                correctAnswer: "B"
            },
            {
                question: "Se considera personal eventual, según el artículo 12 del Real Decreto Legislativo 5/2015 por el que se aprueba el texto refundido de la Ley del Estatuto Básico del Empleado Público.",
                options: [
                    "el que, en virtud de nombramiento y con carácter no permanente, sólo realiza funciones expresamente calificadas como de confianza o asesoramiento especial, siendo retribuido con cargo a los créditos presupuestarios consignados para este fin.",
                    "el que, en virtud de nombramiento y con carácter permanente, sólo realiza funciones expresamente calificadas como de confianza o asesoramiento especial, siendo retribuido con cargo a los Presupuestos Generales del Estado.",
                    "el que en virtud de contrato de trabajo formalizado por escrito, en cualquiera de las modalidades de contratación de personal previstas en la legislación administrativa, presta servicios retribuidos por las Administraciones Públicas con cargo a los créditos presupuestarios consignados para este fin.",
                    "el que en virtud de contrato de trabajo formalizado por escrito, en cualquiera de las modalidades de contratación de personal previstas en la legislación laboral, presta servicios no retribuidos por las Administraciones Públicas."
                ],
                correctAnswer: "A"
            },
            {
                question: "Según el artículo 21 del Procedimiento Administrativo Común de las Administraciones Públicas, la Administración está obligada a dictar resolución expresa y a notificarla en todos los procedimientos cualquiera que sea su forma de iniciación, en un plazo...",
                options: [
                    "No superior a nueve meses, salvo que una norma con rango de Ley establezca uno mayor o así venga previsto en el Derecho de la Unión Europea.",
                    "No superior a seis meses, salvo que una norma con rango de Ley establezca uno mayor o así venga previsto en el Derecho de la Unión Europea.",
                    "No inferior a tres meses ni superior a cinco meses, salvo que una norma con rango de Ley establezca uno mayor o así venga previsto en el Derecho de la Unión Europea.",
                    "El que indique la norma reguladora del correspondiente procedimiento, no existiendo un plazo máximo de notificación expresa de la resolución."
                ],
                correctAnswer: "B"
            },
            {
                question: "Según se indica en la Ley Orgánica 3/2007, para la igualdad efectiva de mujeres y hombres, el comportamiento realizado en función del sexo de una persona, con el propósito o el efecto de atentar contra su dignidad y de crear un entorno intimidatorio, degradante u ofensivo constituirá:",
                options: [
                    "Un acoso por razón de sexo.",
                    "Un acoso sexual..",
                    "Una discriminación por razón de sexo.",
                    "Un acoso discriminatorio."
                ],
                correctAnswer: "A"
            },
            {
                question: "NO se considera un derecho de carácter individual del empleado público, según el artículo 14 del Real Decreto Legislativo 5/2015 por el que se aprueba el texto refundido de la Ley del Estatuto Básico del Empleado Público.",
                options: [
                    "A la intimidad en el uso de dispositivos digitales puestos a su disposición y frente al uso de dispositivos de videovigilancia y geolocalización, así como a la desconexión digital en los términos establecidos en la legislación vigente en materia de protección de datos personales y garantía de los derechos digitales.",
                    "A las vacaciones, descansos, permisos y licencias.",
                    "Al planteamiento de conflictos colectivos de trabajo, de acuerdo con la legislación vigente.",
                    "A las prestaciones de la Seguridad Social correspondientes al régimen que les sea de aplicación."
                ],
                correctAnswer: "C"
            },
            {
                question: "El articulo 63 de la Ley Orgánica 3/2007 se indica que los departamentos ministeriales y organismos públicos deben remitir, a los Ministerios de Trabajo, Asuntos Sociales y de Administraciones Pública, información relativa a la aplicación efectiva del principio de igualdad entre mujeres y hombres, con carácter",
                options: [
                    "Periódico.",
                    "Anual.",
                    "Semestral.",
                    "Cada dos años."
                ],
                correctAnswer: "B"
            },
            {
                question: "Según el artículo 2 de la Ley 39/2006 de Promoción de la Autonomia Personal y Atención a las personas en situación de dependencia, se define como dependencia...",
                options: [
                    "el estado de carácter intermitente en que se encuentran las personas que, por razones derivadas de la edad, la enfermedad o la discapacidad, y ligadas a la falta o a la pérdida de autonomía física, mental, intelectual o sensorial, precisan de la atención de otra u otras personas o ayudas importantes.",
                    "el estado de carácter permanente en que se encuentran las personas que, por razones derivadas de la edad, la enfermedad o la discapacidad, y ligadas a la falta o a la pérdida de autonomía física, mental, intelectual o sensorial, precisan de la atención de otra u otras personas o ayudas importantes.",
                    "el estado de carácter intermitente en que se encuentran las personas que, por razones derivadas de la edad, la enfermedad o la discapacidad, ligadas o no a la falta o a la pérdida de autonomía física, mental, intelectual o sensorial, que precisan de la atención de otra u otras personas o ayudas importantes.",
                    "el estado de carácter permanente en que se encuentran las personas que, por razones derivadas de la edad, la enfermedad o la discapacidad, y ligadas o no a la falta o a la pérdida de autonomía física, mental, intelectual o sensorial, precisan de la atención de otra u otras personas o ayudas importantes."
                ],
                correctAnswer: "B"
            },
            {
                question: "Entre los objetivos de la Agenda España Digital 2026 NO se encuentra:",
                options: [
                    "75% de personas con competencias digitales mínimas.",
                    "25% de contribución del comercio electrónico en las PYMES.",
                    "30% Aumento de la producción audiovisual en España.",
                    "50% de los servicios públicos disponibles en aplicaciones móviles."
                ],
                correctAnswer: "A"
            },
            {
                question: "¿Cuál de las siguientes claves asimétricas se encuentra presente en el DNIe?",
                options: [
                    "SHA.",
                    "AES.",
                    "ElGamal.",
                    "Diffie-Hellman."
                ],
                correctAnswer: "D"
            },
            {
                question: "El principio que se refiere a que los datos serán adecuados, pertinentes y limitados a lo necesario en relación con los fines para los que son tratados, según el Reglamento (UE) 2016/679 del Parlamento Europeo y del Consejo, relativo a la protección de las personas físicas en lo que respecta al tratamiento de datos personales, es:.",
                options: [
                    "Principio de limitación de la finalidad.",
                    "Principio de adecuación, lealtad y transparencia.",
                    "Principio de minimización de datos.",
                    "Principio de responsabilidad proactiva."
                ],
                correctAnswer: "C"
            },
            {
                question: "De acuerdo con la Ley Orgánica 3/2018, de Protección de Datos Personales y garantía de los derechos digitales, ¿Quién hará de interlocutor ante la Agencia Española de Protección de Datos?",
                options: [
                    "El responsable del tratamiento.",
                    "El delegado de protección de datos.",
                    "El encargado del tratamiento.",
                    "El responsable o el delegado de protección de datos."
                ],
                correctAnswer: "B"
            },
            {
                question: "Según el Esquema Nacional de Seguridad en su artículo 31, un sistema de categoría MEDIA deberá ser objeto de una auditoria regular ordinaria...",
                options: [
                    "Cada 2 años y, con carácter extraordinario siempre que se produzcan modificaciones sustanciales en los sistemas de información.",
                    "Cada 2 años y, con carácter extraordinario en un plazo de 3 meses tras un incidente de seguridad de nivel MEDIO ALTO.",
                    "Cada año, aunque este plazo podrá extenderse por 3 meses cuando concurran impedimentos de fuerza mayor no imputables a la entidad titular del sistema.",
                    "Cada 3 años, aunque este plazo podrá extenderse por 2 meses cuando concurran impedimentos de fuerza mayor imputables a la entidad titular del sistema."
                ],
                correctAnswer: "A"
            },
            {
                question: "En el Esquema Nacional de Interoperabilidad se identifican unos principios específicos para desarrollar la interoperabilidad. ¿Cuál de los siguientes NO es uno de estos principios?",
                options: [
                    "La reevaluación periódica de la interoperabilidad.",
                    "La interoperabilidad como cualidad integral.",
                    "Carácter multidimensional de la interoperabilidad.",
                    "Enfoque de soluciones multilaterales."
                ],
                correctAnswer: "A"
            },
            {
                question: "El servicio en red para el usuario final o integrable con aplicaciones usuarias que proporciona un sistema de comunicaciones seguro entre Administraciones Públicas, incluyendo el envío de información no estructurada o la posibilidad de crear bandejas temáticas es...",
                options: [
                    "SNE.",
                    "NOTIFICA.",
                    "CORINTO.",
                    "GALATEA."
                ],
                correctAnswer: "C"
            },
            {
                question: "Indique cuál de estas firmas NO incluye sellos del tiempo.",
                options: [
                    "AdES B-level.",
                    "AdES LTA-level.",
                    "AdES-A.",
                    "AdES-XL."
                ],
                correctAnswer: "A"
            },
            {
                question: "¿Qué elemento de los siguientes NO está conectado en el Northbridge?",
                options: [
                    "El procesador.",
                    "La pila.",
                    "La tarjeta gráfica.",
                    "El reloj."
                ],
                correctAnswer: "B"
            },
            {
                question: "¿A qué nos referimos con \"Zenbleed\"?",
                options: [
                    "Al estado en que entra un proceso cuando los mapas de direcciones no se corresponden con los datos referenciados.",
                    "A la corrupción en la representación gráfica de un proceso cuando se activa la aceleración por hardware en procesadores singlethread.",
                    "A una vulnerabilidad de algunos procesadores AMD que permite a un atacante robar datos de forma remota.",
                    "A un problema de visualización propio de sistemas virtualizados ejecutados en procesadores sin compatibilidad nativa."
                ],
                correctAnswer: "C"
            },
            {
                question: "Indica qué relación de las siguientes NO es correcta, sobre los métodos y sistemas de almacenamiento:",
                options: [
                    "LTO (Linear Tape Open) es una tecnología de cinta magnética.",
                    "Un sistema de almacenamiento WORM solo permite una única escritura.",
                    "Dentro de los dispositivos de almacenamiento interno no nos encontramos con el CD-RAM.",
                    "Los SSD (Solid State Drive) más avanzados presentan doble cabezal en cada cara."
                ],
                correctAnswer: "D"
            },
            {
                question: "Una impresora que usa un sistema de agujas alineadas se considera un tipo de impresora...",
                options: [
                    "De inyección fija.",
                    "De inyección no fija.",
                    "De sublimación.",
                    "De impacto, matricial."
                ],
                correctAnswer: "D"
            },
            {
                question: "La última versión disponible de PCI Express es...",
                options: [
                    "5.0.",
                    "7.0.",
                    "8.0.",
                    "6.0."
                ],
                correctAnswer: "D"
            },
            {
                question: "Es una tecnología propia de las pantallas táctiles:",
                options: [
                    "Naturales.",
                    "Capacitivas.",
                    "Sintéticas.",
                    "De matriz pasiva."
                ],
                correctAnswer: "B"
            },
            {
                question: "Recorrer un árbol binario perfecto mediante INORDEN...",
                options: [
                    "Implica recorrerlo por amplitud.",
                    "Implica recorrerlo comenzando por la rama izquierda, recorriendo ésta en INORDEN, luego la rama derecha, recorriendo ésta por INORDEN, y acabar por la raíz.",
                    "Implica recorrerlo por profundidad.",
                    "Al ser un árbol binario perfecto, el resultado de recorrerlo por INORDEN es el mismo que otros métodos de recorrido por amplitud, como Djikstra o Rijndael."
                ],
                correctAnswer: "C"
            },
            {
                question: "¿Cuál de los siguientes algoritmos de ordenación tiene una complejidad definida por O (n log n)?",
                options: [
                    "Bubblesort.",
                    "Binsort.",
                    "Mergesort.",
                    "Insertion sort."
                ],
                correctAnswer: "C"
            },
            {
                question: "Cuando nos referimos al Dispatcher...",
                options: [
                    "Nos referimos al componente de la memoria que usa paginación indexada para indizar los procesos.",
                    "Dentro de la Unidad de Control del procesador, es el encargado de enviar las instrucciones a la ALU (Unidad Lógico-Artimética) para desarrollar las operaciones de la instrucción.",
                    "Nos referimos al registro liberador, que entrega el resultado de la operación del registro acumulador al registro de instrucción para dar por concluido el proceso.",
                    "Nos referimos al Short Term Scheduler, que entrega los procesos al procesador para su ejecución."
                ],
                correctAnswer: "D"
            },
            {
                question: "Indica la opción correcta. En relación con Unix y Linux.",
                options: [
                    "Unix es una derivación de BSD que, a su vez, es una derivación de Linux.",
                    "Linux provee un núcleo híbrido, mientras que Unix provee un núcleo monolítico.",
                    "Con Unix nos referimos al kernel, mientras que Linux hace referencia al Sistema Operativo.",
                    "Linux no es una derivación directa de Unix."
                ],
                correctAnswer: "D"
            },
            {
                question: "Como novedad en Windows 11:",
                options: [
                    "No soporta procesadores de 32 bits.",
                    "Requiere una pantalla HD que, al menos, sea compatible con 1080p.",
                    "Incorpora Bitlocker to Go, una versión con menos funcionalidades de uso personal para versiones Home.",
                    "Requiere al menos 128 GB de espacio si se usa un sistema de archivos ExFAT."
                ],
                correctAnswer: "A"
            },
            {
                question: "¿Cuál es la última versión de iOS estable, disponible desde el año 2022?",
                options: [
                    "13 \"Ventura\".",
                    "14 'Sonoma'.",
                    "16.",
                    "18."
                ],
                correctAnswer: "C"
            },
            {
                question: "Una base de datos SQL es un sistema de base de datos...",
                options: [
                    "Relacional.",
                    "No relacional.",
                    "De clave-valor.",
                    "Que usa el lenguaje SQL, independientemente del carácter relacional de la base de datos."
                ],
                correctAnswer: "A"
            },
            {
                question: "En el contexto de las bases de datos, \"CRUD\" es...",
                options: [
                    "Las siglas de \"Common Readable Usage Distribution\", por el que se establece un mecanismo de permisos para usuarios.",
                    "Un tipo de base de datos no relacional en el que se ejecutan rutinas comunes para comparar datos mediante vectores y árboles binarios dirigidos.",
                    "El acrónimo de las cuatro operaciones elementales para crear y gestionar elementos de bases de datos relacionales y no relacionales.",
                    "El acrónimo de los cuatro procedimientos por los que se normalizan los datos de bases de datos clave-valor, garantizando que estén, al menos, en 3FN."
                ],
                correctAnswer: "C"
            },
            {
                question: "Dentro del principio de Comprensibilidad, en WCAG, se encuentra...",
                options: [
                    "Legible.",
                    "Métodos de entrada.",
                    "Robustez.",
                    "Distinguible."
                ],
                correctAnswer: "A"
            },
            {
                question: "El Real Decreto 1112/2018, sobre accesibilidad de los sitios web y aplicaciones para dispositivos móviles del sector público, establece que las comunicaciones sobre requisitos de accesibilidad podrán presentarse:",
                options: [
                    "Mediante medios electrónicos, habilitando una dirección de correo específica y un formulario habilitado que permita la presentación telemática. Adicionalmente, se habilitará un canal complementario electrónico de atención sincrona al usuario.",
                    "Mediante medios electrónicos, habilitando una dirección de correo específica o un formulario que permita la presentación telemática. Adicionalmente, se habilitará un canal complementario al electrónico: Un teléfono o una oficina física de atención.",
                    "Mediante medios electrónicos, habilitando un formulario que permita la presentación telemática. Adicionalmente, se habilitarán dos canales complementarios al electrónico: Mediante correo postal y un teléfono.",
                    "Mediante medios electrónicos, habilitando una dirección de correo específica, un formulario que permita la presentación telemática y mediante las redes sociales."
                ],
                correctAnswer: "B"
            },
            {
                question: "NO es un formato de archivo que se usa para distribuir paquetes en Linux",
                options: [
                    ".apt",
                    ".deb",
                    ".rpm",
                    ".tar.gz"
                ],
                correctAnswer: "A"
            },
            {
                question: "El archivo en Debian GNU/Linux donde se colocan las ubicaciones de dónde conseguir los paquetes es...",
                options: [
                    "/var/lib/apt/sources.list",
                    "/etc/sources/apt.list",
                    "/etc/apt/sources/packages.list",
                    "/etc/apt/sources.list"
                ],
                correctAnswer: "D"
            },
            {
                question: "Indica cuál es la respuesta correcta, en relación con las estrategias de copia de seguridad.",
                options: [
                    "Un sistema de copias de respaldo incremental no partirá de una copia de seguridad completa.",
                    "Cada copia diferencial contiene únicamente los archivos que no han cambiado respecto a la anterior copia.",
                    "Una copia de respaldo incremental puede hacerse partiendo de una copia completa, una copia diferencial o una copia incremental anterior.",
                    "Para recuperar toda la información en un sistema de copias de respaldo completo, son precisas la información de la copia completa actual y la inmediatamente anterior."
                ],
                correctAnswer: "C"
            },
            {
                question: "Con respecto a la virtualización en puestos de usuario, un escritorio dinámico...",
                options: [
                    "Se basa en el uso de una copia maestra, que conforme se usa el usuario configurará, quedando dichas modificaciones registradas para futuros usos.",
                    "No guardará las configuraciones y modificaciones realizadas por el usuario.",
                    "Es aquel que usa un espacio de disco variable, comenzando por un tamaño fijo hasta alcanzar cierto límite.",
                    "Se diferencia de los escritorios persistentes en que el usuario puede instalar aplicaciones y programas."
                ],
                correctAnswer: "B"
            },
            {
                question: "El programa que el usuario usa para escribir el correo electrónico, en el contexto del funcionamiento de los servicios de correo, se le conoce como...",
                options: [
                    "MUA.",
                    "MSA.",
                    "Outlook.",
                    "MTA."
                ],
                correctAnswer: "A"
            },
            {
                question: "Indica la secuencia mínima de comandos requeridos que utiliza un agente mediante SMTP para el envio de un correo electrónico",
                options: [
                    "HELO, VRFY, RCPT TO, MAIL FROM, DATA, QUIT.",
                    "EHLO, MAIL FROM, RCPT TO, DATA, QUIT.",
                    "HELO, EHLO, RCPT TO, MAIL FROM, DATA, QUIT.",
                    "HELO, MAIL FROM, RCPT TO, DATA, SEND, QUIT."
                ],
                correctAnswer: "B"
            },
            {
                question: "Indica cuáles son los ámbitos de grupo que utiliza Active Directory para distribuir permisos y recursos a las cuentas:",
                options: [
                    "Universal, Global, Local, Local de dominio.",
                    "General, Local, Local de dominio.",
                    "Universal, Regional, Local.",
                    "Bosque, Árbol, Unidad local."
                ],
                correctAnswer: "A"
            },
            {
                question: "En el marco de SNMP, un dispositivo conectado a un NMS recibirá comunicaciones como, por ejemplo...",
                options: [
                    "Trap.",
                    "EnableRequest.",
                    "GetRequest.",
                    "PostRequest."
                ],
                correctAnswer: "C"
            },
            {
                question: "Cuando nos referimos al UPS de un CPD, estamos refiriéndonos a:",
                options: [
                    "A su sistema de apagado de emergencia.",
                    "A su sistema unificado de transporte de paquetes.",
                    "A su sistema de refrigeración pasiva.",
                    "A su sistema de alimentación ininterrumpida."
                ],
                correctAnswer: "D"
            },
            {
                question: "Indique la afirmación correcta respecto a la firma digital",
                options: [
                    "El cifrado del documento es opcional.",
                    "El responsable de realizar la firma digital debe enviar su certificado digital, que contiene la clave privada necesaria para que el cliente pueda saber la HMAC del documento.",
                    "El cifrado de la huella del documento es opcional.",
                    "Para una mayor seguridad, se recomienda usar mecanismos de cifrado simétricos en lugar de asimétricos."
                ],
                correctAnswer: "A"
            },
            {
                question: "Con respecto a las características de los cables de fibra óptica...",
                options: [
                    "A la hora de medir los diámetros en los cables de fibra óptica, la unidad de medida empleada es el nanómetro.",
                    "Un cable de fibra óptica de salto discreto no presenta saltos abruptos en la longitud de onda.",
                    "Un cable multimodo OM/3 como máximo soporta velocidades en Ethernet de hasta 10 Gb/s.",
                    "El núcleo de la fibra óptica monomodo es de 8 a 10,5 micrómetros de diámetro."
                ],
                correctAnswer: "D"
            },
            {
                question: "LTE Advanced es una tecnología móvil...",
                options: [
                    "4,5G.",
                    "4G.",
                    "5G.",
                    "3G."
                ],
                correctAnswer: "B"
            },
            {
                question: "Con respecto al modelo OSI, ¿qué relación existe entre una capa superior y una capa inferior?",
                options: [
                    "La capa superior encapsula los elementos de la capa inferior.",
                    "La capa inferior provee servicios a la capa superior.",
                    "La capa inferior traduce los mensajes provenientes de la capa superior.",
                    "La capa inferior protege los elementos de la capa superior."
                ],
                correctAnswer: "B"
            },
            {
                question: "NO es correcto decir en el protocolo UDP.",
                options: [
                    "El protocolo UDP no incorpora mecanismos de detección de errores en su cabecera.",
                    "En el modelo OSI, ocupa la misma capa que el protocolo TCP.",
                    "El campo \"Puerto origen\" es opcional, independientemente de si se está en IPv4 o IPv6.",
                    "Aunque el tamaño de la cabecera UDP es fijo, existe en ella un campo \"Length\"."
                ],
                correctAnswer: "A"
            },
            {
                question: "De forma general, ¿Cómo se expresa, de forma completa, una dirección IPv6?",
                options: [
                    "Con 6 grupos, separados por dos puntos, de 4 números hexadecimales cada uno.",
                    "Con 8 grupos, separados por dos puntos, de 4 números hexadecimales cada uno.",
                    "Con 8 grupos, separados por puntos, de 6 números hexadecimales cada uno.",
                    "Con 8 grupos, separados por dos puntos, de 4 números octales cada uno."
                ],
                correctAnswer: "B"
            },
            {
                question: "Dentro de las fases del protocolo DHCP, nos encontramos con la fase \"Request\". Es correcto afirmar que, en ella...",
                options: [
                    "El cliente pide una IP al servidor, y éste posteriormente le responderá con una o varias opciones para elegir.",
                    "El cliente escoge una de las IP propuestas en la fase anterior por el servidor.",
                    "El servidor solicita al cliente liberar la IP asignada, al que éste a continuación le responderá afirmativamente.",
                    "El cliente reclama información adicional al servidor una vez recibida la IP, y éste puede o no responder."
                ],
                correctAnswer: "B"
            },
            {
                question: "¿Cómo se conoce al enlace que une dos conmutadores para agregar tráfico procedente de VLAN?",
                options: [
                    "Gateway.",
                    "Trunk.",
                    "Túnel.",
                    "Stick."
                ],
                correctAnswer: "B"
            },
            {
                question: "¿Cuáles es el nombre correspondiente a un sistema de respuesta pasiva que emite alertas ante comportamientos sospechosos para que otro sistema pueda responder ante estos comportamientos?",
                options: [
                    "Honeypot.",
                    "NBA.",
                    "Cortafuegos.",
                    "IDS."
                ],
                correctAnswer: "D"
            },
            {
                question: "En un sistema RAID 5, es correcto afirmar que",
                options: [
                    "Dedica un disco duro para los bits de paridad.",
                    "No tiene número de discos mínimos requeridos para ser implementado.",
                    "Realiza striping a nivel de bloque.",
                    "Como método de redundancia, utiliza mirroring."
                ],
                correctAnswer: "C"
            },
            {
                question: "¿A qué versión de HTTP nos referimos cuando indicamos que usa QUIC como protocolo para transmitir la información?",
                options: [
                    "A HTTP/3.0.",
                    "A HTTP/2.2.",
                    "A HTTP/2.0.",
                    "A HTTP/1.1."
                ],
                correctAnswer: "A"
            },
            {
                question: "Una definición de VPN adecuada sería...",
                options: [
                    "Es un método para crear redes lógicas independientes dentro de una misma red física.",
                    "Es una red de computadoras que une e interconecta varias redes de ámbito geográfico mayor, independientemente de que sus miembros estén o no en una misma ubicación física.",
                    "Es una tecnología de red de ordenadores que permite una extensión segura de la red de área local sobre una red pública o no controlada como Internet.",
                    "Es un protocolo de seguridad que permite encapsular a nivel interno las comunicaciones de una organización."
                ],
                correctAnswer: "C"
            },
            {
                question: "Indique la respuesta INCORRECTA. Según el artículo 16 de la Constitución Española, nadie podrá ser obligado a declarar sobre su:",
                options: [
                    "Ideología.",
                    "Religión.",
                    "Creencias.",
                    "Opinión."
                ],
                correctAnswer: "D"
            },
            {
                question: "¿A qué dimensión de la seguridad pertenece la siguiente definición? Es una propiedad consistente en que una entidad es quien dice ser y que garantiza la fuente de la que proceden los datos.",
                options: [
                    "Trazabilidad.",
                    "Disponibilidad.",
                    "Autenticidad.",
                    "Confidencialidad."
                ],
                correctAnswer: "C"
            },
            {
                question: "¿Qué tipo de criptografía utiliza TLS en su fase de Handshake?",
                options: [
                    "Usa criptografía simétrica.",
                    "Usa criptografía asimétrica y simétrica.",
                    "Usa criptografía asimétrica.",
                    "Usa criptografía asimétrica o simétrica, en función de la suite de cifrado escogida en la fase de Record."
                ],
                correctAnswer: "C"
            },
            // Preguntas del SUPUESTO PRÁCTICO.pdf
            {
                question: "Para configurar a un dispositivo que tendrá como IP 172.123.23.33/18 ¿Qué máscara de subred habrá que aplicar?",
                options: [
                    "255.255.224.0",
                    "255.255.128.0",
                    "255.255.64.0",
                    "255.255.192.0"
                ],
                correctAnswer: "D"
            },
            {
                question: "¿Cuántas direcciones pueden ser asignables para host en cada subred de la dirección 172.123.23.33/18?",
                options: [
                    "16.384.",
                    "262.144.",
                    "16.382.",
                    "262.142."
                ],
                correctAnswer: "C"
            },
            {
                question: "¿Cuál es la dirección de broadcast que tendría que usar dicho dispositivo para poder comunicarse con todos los de su misma subred?",
                options: [
                    "172.132.63.255",
                    "172.123.255.255",
                    "127.132.63.254",
                    "172.123.63.255"
                ],
                correctAnswer: "D"
            },
            {
                question: "En un sistema Windows, se le pide obtener la dirección física de las interfaces de red de su ordenador. ¿Con cuál de los siguientes comandos podría obtenerla?",
                options: [
                    "ipconfig/mac",
                    "ifconfig /all",
                    "arping",
                    "getmac"
                ],
                correctAnswer: "D"
            },
            {
                question: "Le han informado desde un sistema Debian que las reglas que se han establecido para el firewall no están funcionando adecuadamente. Usted le aconseja que las elimine todas y empiece de cero, por lo que para ello se debe ejecutar:",
                options: [
                    "iptables -C",
                    "iptables -X",
                    "iptables -F",
                    "iptables -D"
                ],
                correctAnswer: "C"
            },
            {
                question: "En Linux, ¿Cuál de los siguientes comandos permitirá asignar la dirección multicast 232.232.233.233 al dispositivo de red eth1?",
                options: [
                    "ip maddress 232.232.233.233 to eth1",
                    "ip-4 mcast add 232.232.233.233 if eth1",
                    "ip maddr add 232.232.233.233 dev eth 1",
                    "ifconfig set eth1 mcast 232.232.233.233"
                ],
                correctAnswer: "C"
            },
            {
                question: "Su departamento tiene asignado el mantenimiento de una página web: www.reynard.com. No están seguros qué IP tiene asignado el control de la página web, por lo que un posible comando para averiguarlo, desde su sistema Linux, es:",
                options: [
                    "discover",
                    "ping",
                    "tracert",
                    "statip"
                ],
                correctAnswer: "B"
            },
            {
                question: "¿Con cuál comando agregaría al usuario existente sticky en el grupo mbs?",
                options: [
                    "useradd mbs sticky",
                    "groupmod --new sticky mbs",
                    "gpasswd -A sticky mbs",
                    "usermod -aG mbs sticky"
                ],
                correctAnswer: "D"
            },
            {
                question: "Como nueva directriz del departamento al que ha sido asignado, le indican que las contraseñas de los usuarios deben ser como mínimo de 12 caracteres. ¿Cuál de los siguientes comandos provocaría dicho cambio?",
                options: [
                    "net user /MIN: 12",
                    "net password /MIN: 12",
                    "net session /PWLEN: >=12",
                    "net accounts /MINPWLEN:12"
                ],
                correctAnswer: "D"
            },
            {
                question: "Le piden que programe su sistema para que, automáticamente, realice una compresión de archivos críticos del departamento, ¿Cuál de las siguientes herramientas le permite abrir el Programador de Tareas en Windows 11?",
                options: [
                    "taskschd.msc",
                    "scheduler.msc",
                    "taskvwr.msc",
                    "taskmonitor.msc"
                ],
                correctAnswer: "A"
            },
            {
                question: "En Docker, se le pide conectar el contenedor en ejecución Constance en la red Benedict. ¿Con qué comando lograría dicho objetivo?",
                options: [
                    "docker container -d --network benedict constance",
                    "docker network --container constance benedict",
                    "docker network connect benedict constance",
                    "docker connect constance benedict"
                ],
                correctAnswer: "C"
            },
            {
                question: "En Kubernetes, el comando usado para obtener un listado de todos los pods instalados en el sistema es...",
                options: [
                    "kubectl list pods",
                    "kubeadm show pods",
                    "kubectl watch pods",
                    "kubectl get pods"
                ],
                correctAnswer: "D"
            },
            {
                question: "Al entrar en la página web, los usuarios nos están reportando un error HTTP con código 503. ¿Qué puede indicarnos este código?",
                options: [
                    "Que la página está sobrecargada y el servidor no puede manejar la petición.",
                    "Que la página se ha encontrado con un bucle mientra procesaba la solicitud",
                    "Que la sintaxis utilizada por el cliente no es correcta.",
                    "Que el servidor no encuentra el contenido que el cliente ha solicitado en su petición."
                ],
                correctAnswer: "A"
            },
            {
                question: "Un disco duro del departamento muestra fallos y debe ser desechado de forma segura. ¿Qué herramienta del CCN-Cert puede ayudarle a realizar esta función?",
                options: [
                    "ADA.",
                    "LUCÍA.",
                    "OLVIDO.",
                    "PILAR."
                ],
                correctAnswer: "C"
            },
            {
                question: "En el departamento recientemente han sufrido un intento de Phishing. ¿Qué descripción de las siguientes se ajusta más al hecho sucedido?",
                options: [
                    "Un delincuente ha intentado cambiar el archivo de servidor de nombres de dominio del usuario, cambiando la dirección IP de una dirección legítima por otro, pudiendo así robar sus datos.",
                    "Un delincuente ha intentado obtenido acceso remoto mediante un programa para borrar información confidencial.",
                    "La activación de un malware que cifra archivos del disco duro, pidiendo dinero para descifrarlo, cuestión a la que la empresa se ha negado y ha optado por formatear la computadora afectada.",
                    "Un delincuente ha intentado suplantar a una empresa mediante el envío de un email con, o bien un enlace que le lleva a una web fraudulenta, o la instalación de un archivo malicioso."
                ],
                correctAnswer: "D"
            },
            {
                question: "¿Qué puerto usa SQLServer para funcionar?",
                options: [
                    "3306.",
                    "1433.",
                    "66.",
                    "5321."
                ],
                correctAnswer: "B"
            },
            {
                question: "Le preguntan cuál es la especificación que debe cumplir los dispositivos inalámbricos del departamento para cumplir con la certificación \"Wi-Fi Certified\"",
                options: [
                    "Soportar WPA-Entreprise con un servidor RADIUS.",
                    "Soportar la tecnología WPA3.",
                    "Soportar Wi-Fi 7 (802.11be).",
                    "Soportar la transferencia de datos en cualquier canal de los disponibles (2,4, 5 y 6 GHz)."
                ],
                correctAnswer: "B"
            },
            {
                question: "Desde la dirección del departamento, le informan que en los próximos meses va a proceder a la actualización del cableado interno, sustituyendo los cables de par trenzado existentes por unos de fibra óptica, manteniendo la velocidad de conexión Giga Ethernet de 1 GB. Dicho cableado por lo tanto, debe cumplir con el estándar",
                options: [
                    "802.3z",
                    "802.3ab",
                    "802.1m",
                    "802.1г"
                ],
                correctAnswer: "A"
            },
            {
                question: "Le han pedido que efectúe un RAID 10 con 3 discos duros de 6 GB cada uno y otros 3 discos con 4 GB. ¿Cuál será el espacio de almacenamiento efectivo del sistema?",
                options: [
                    "15 GB.",
                    "24 GB.",
                    "12 GB.",
                    "18 GB."
                ],
                correctAnswer: "C"
            },
            {
                question: "Para obtener el listado de dependencias que requiere el paquete openssh en RedHat, ¿Qué comando usaría?",
                options: [
                    "dnf show dependency openssh",
                    "yum listdep openssh",
                    "rpm -qpR openssh",
                    "apt-cache -q openssh"
                ],
                correctAnswer: "C"
            },
            // Preguntas de reserva del SUPUESTO PRÁCTICO.pdf (se añaden para llegar al total de 88)
            {
                question: "¿Cuál de los siguientes programas NO es una solución de virtualización?",
                options: [
                    "Microsoft Hyper-V",
                    "Xen",
                    "RHEV",
                    "Icinga"
                ],
                correctAnswer: "D"
            },
            {
                question: "La dirección de la red a la que pertenece el dispositivo de IP 172.123.23.33/18 se corresponde con...",
                options: [
                    "172.123.16.0",
                    "172.123.0.0",
                    "172.123.2.0",
                    "172.123.4.0"
                ],
                correctAnswer: "B"
            },
            {
                question: "Debe editar los permisos que tienen los usuarios cuando ejecutan tareas como root. ¿Qué archivo debería editar?",
                options: [
                    "/etc/sudo",
                    "/etc/root",
                    "/etc/sudoers",
                    "/sbin/sudo.conf"
                ],
                correctAnswer: "C"
            },
            {
                question: "La amenaza informática que podría propiciar un alto consumo de recursos en la organización, pudiendo por lo tanto dejar a su departamento en un Denial Distributed of Service, es...",
                options: [
                    "Randomware.",
                    "Gusano.",
                    "Pharming.",
                    "ARP Spoofing."
                ],
                correctAnswer: "B"
            },
            {
                question: "A la hora de configurar Active Directory, uno de los puertos que se debería habilitar es:",
                options: [
                    "389",
                    "6600.",
                    "446.",
                    "443."
                ],
                correctAnswer: "A"
            }
        ];

        // Definición de variables globales
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = {};

        // Constantes para las claves de Local Storage
        const LS_KEY_INDEX = 'quizCurrentQuestionIndex';
        const LS_KEY_ANSWERS = 'quizUserAnswers';
        const LS_KEY_SCORE = 'quizScore';

        // Elementos del DOM
        const quizContainer = document.getElementById('quizContainer');
        const progressBar = document.getElementById('progressBar');
        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');
        const restartInlineBtn = document.getElementById('restartInlineBtn');
        const restartBtn = document.getElementById('restartBtn');
        const finalScore = document.getElementById('finalScore');
        const scoreDisplay = finalScore.querySelector('.score-display');
        const correctCount = document.getElementById('correctCount');
        const incorrectCount = document.getElementById('incorrectCount');
        const unansweredCount = document.getElementById('unansweredCount');

        // Escuchadores de eventos
        nextBtn.addEventListener('click', showNextQuestion);
        prevBtn.addEventListener('click', showPreviousQuestion);
        restartInlineBtn.addEventListener('click', restartQuiz);
        restartBtn.addEventListener('click', restartQuiz);

        /**
         * Inicializa el quiz cargando el estado desde el localStorage si existe.
         */
        function initQuiz() {
            loadStateFromLocalStorage();
            loadQuestion(currentQuestionIndex);
        }

        /**
         * Guarda el estado actual del quiz en el localStorage.
         */
        function saveStateToLocalStorage() {
            localStorage.setItem(LS_KEY_INDEX, currentQuestionIndex);
            localStorage.setItem(LS_KEY_ANSWERS, JSON.stringify(userAnswers));
            localStorage.setItem(LS_KEY_SCORE, score);
        }

        /**
         * Carga el estado del quiz desde el localStorage.
         */
        function loadStateFromLocalStorage() {
            const savedIndex = localStorage.getItem(LS_KEY_INDEX);
            const savedAnswers = localStorage.getItem(LS_KEY_ANSWERS);
            const savedScore = localStorage.getItem(LS_KEY_SCORE);

            if (savedIndex !== null) {
                currentQuestionIndex = parseInt(savedIndex);
            }
            if (savedAnswers !== null) {
                userAnswers = JSON.parse(savedAnswers);
            }
            if (savedScore !== null) {
                score = parseInt(savedScore);
            }

            if (currentQuestionIndex >= defaultQuestions.length) {
                // Si el índice guardado es el final, muestra los resultados
                showResults();
            }
        }

        /**
         * Carga una pregunta específica en la interfaz.
         * @param {number} index El índice de la pregunta a cargar.
         */
        function loadQuestion(index) {
            if (finalScore.classList.contains('hidden')) {
                const questionData = defaultQuestions[index];
                quizContainer.innerHTML = '';
                
                const card = document.createElement('div');
                card.classList.add('question-card');

                const questionText = document.createElement('p');
                questionText.classList.add('question-text');
                questionText.textContent = `${index + 1}. ${questionData.question}`;
                card.appendChild(questionText);

                questionData.options.forEach((option, i) => {
                    const optionButton = document.createElement('button');
                    const optionLabel = String.fromCharCode(65 + i); // A, B, C, D
                    optionButton.classList.add('option-button');
                    optionButton.textContent = `${optionLabel}. ${option}`;
                    optionButton.dataset.option = optionLabel;
                    optionButton.addEventListener('click', () => handleOptionClick(optionButton, index));
                    card.appendChild(optionButton);
                });

                quizContainer.appendChild(card);

                // Actualiza el estado de los botones y la barra de progreso
                updateNavigationButtons();
                updateProgressBar();
                
                // Si la pregunta ya fue respondida, carga la respuesta y muestra el feedback
                if (userAnswers[index]) {
                    showAnswerFeedback(index, userAnswers[index]);
                }
            }
        }

        /**
         * Maneja el clic en una opción de respuesta.
         * @param {HTMLElement} button El botón de opción clickeado.
         * @param {number} questionIndex El índice de la pregunta actual.
         */
        function handleOptionClick(button, questionIndex) {
            // Deshabilita todos los botones para evitar múltiples clics
            const optionButtons = quizContainer.querySelectorAll('.option-button');
            optionButtons.forEach(btn => btn.classList.add('disabled'));

            const selectedOption = button.dataset.option;
            const questionData = defaultQuestions[questionIndex];
            const isCorrect = selectedOption === questionData.correctAnswer;

            // Actualiza la puntuación y las respuestas del usuario
            if (userAnswers[questionIndex] && userAnswers[questionIndex] !== selectedOption) {
                // Si cambia la respuesta y la anterior era correcta, resta 1 al score.
                if (userAnswers[questionIndex] === questionData.correctAnswer) {
                    score--;
                }
                // Si la nueva es correcta, suma 1.
                if (isCorrect) {
                    score++;
                }
            } else if (!userAnswers[questionIndex]) {
                // Si es la primera vez que responde y es correcta, suma 1.
                if (isCorrect) {
                    score++;
                }
            }
            
            userAnswers[questionIndex] = selectedOption;

            // Guarda el estado en localStorage
            saveStateToLocalStorage();

            // Muestra el feedback visual
            showAnswerFeedback(questionIndex, selectedOption);
        }

        /**
         * Muestra el feedback visual para la respuesta seleccionada.
         * @param {number} questionIndex El índice de la pregunta.
         * @param {string} selectedOption La opción seleccionada.
         */
        function showAnswerFeedback(questionIndex, selectedOption) {
            const questionCard = quizContainer.querySelector('.question-card');
            const questionData = defaultQuestions[questionIndex];
            const optionButtons = quizContainer.querySelectorAll('.option-button');

            // Actualiza la clase de la tarjeta y los botones
            questionCard.classList.remove('incorrect', 'correct');
            questionCard.classList.add(selectedOption === questionData.correctAnswer ? 'correct' : 'incorrect');

            optionButtons.forEach(btn => {
                const option = btn.dataset.option;
                btn.classList.remove('selected', 'correct-answer', 'incorrect-answer');

                if (option === selectedOption) {
                    btn.classList.add('selected', selectedOption === questionData.correctAnswer ? 'correct-answer' : 'incorrect-answer');
                }
                if (option === questionData.correctAnswer) {
                    btn.classList.add('correct-answer');
                }
                btn.classList.add('disabled');
            });
        }

        /**
         * Actualiza el estado de los botones de navegación.
         */
        function updateNavigationButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            const isLastQuestion = currentQuestionIndex === defaultQuestions.length - 1;
            nextBtn.textContent = isLastQuestion ? 'Ver Resultados' : 'Siguiente';
            // Se elimina la condición de deshabilitar el botón si no se ha respondido
            nextBtn.disabled = false;
        }

        /**
         * Actualiza la barra de progreso.
         */
        function updateProgressBar() {
            const progress = (currentQuestionIndex + 1) / defaultQuestions.length * 100;
            progressBar.style.width = `${progress}%`;
        }

        /**
         * Muestra la siguiente pregunta.
         */
        function showNextQuestion() {
            const isLastQuestion = currentQuestionIndex === defaultQuestions.length - 1;
            if (isLastQuestion) {
                showResults();
            } else {
                currentQuestionIndex++;
                saveStateToLocalStorage();
                loadQuestion(currentQuestionIndex);
            }
        }

        /**
         * Muestra la pregunta anterior.
         */
        function showPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                saveStateToLocalStorage();
                loadQuestion(currentQuestionIndex);
            }
        }

        /**
         * Calcula y muestra los resultados finales del quiz.
         */
        function showResults() {
            quizContainer.classList.add('hidden');
            finalScore.classList.remove('hidden');
            
            const incorrectCountValue = defaultQuestions.length - score;
            const answeredQuestions = Object.keys(userAnswers);
            const unansweredCountValue = defaultQuestions.length - answeredQuestions.length;

            scoreDisplay.textContent = `Has obtenido ${score} de ${defaultQuestions.length} preguntas correctas.`;
            correctCount.textContent = score;
            incorrectCount.textContent = incorrectCountValue;
            unansweredCount.textContent = unansweredCountValue;
        }

        /**
         * Reinicia el quiz al estado inicial y limpia el localStorage.
         */
        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = {};
            localStorage.clear();
            
            // Oculta los resultados y muestra el quiz
            finalScore.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            
            initQuiz();
        }

        // Llama a initQuiz cuando la página se carga
        window.onload = initQuiz;
    </script>
</body>
</html>


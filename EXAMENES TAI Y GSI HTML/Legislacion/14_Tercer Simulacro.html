<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tercer Simulacro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            padding: 30px;
            width: 100%;
            max-width: 800px;
            box-sizing: border-box;
        }
        .question-card {
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .question-text {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 15px;
        }
        .answer-option {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            margin-bottom: 10px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            font-size: 1rem;
            color: #374151;
        }
        .answer-option:hover {
            background-color: #e0f2fe;
            border-color: #90cdf4;
        }
        .answer-option.selected {
            background-color: #bfdbfe;
            border-color: #60a5fa;
        }
        .answer-option.correct {
            background-color: #d1fae5;
            border-color: #34d399;
            color: #065f46;
            font-weight: 600;
        }
        .answer-option.incorrect {
            background-color: #fee2e2;
            border-color: #ef4444;
            color: #991b1b;
            font-weight: 600;
        }
        .answer-option input[type="radio"] {
            margin-right: 10px;
            accent-color: #3b82f6;
        }
        .feedback {
            margin-top: 10px;
            font-weight: 600;
            font-size: 0.95rem;
        }
        .feedback.correct-text {
            color: #10b981;
        }
        .feedback.incorrect-text {
            color: #ef4444;
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }
        .nav-button, .reset-button, .results-button {
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .nav-button-primary {
            background-color: #3b82f6;
            color: #ffffff;
        }
        .nav-button-primary:hover {
            background-color: #2563eb;
            transform: translateY(-1px);
        }
        .nav-button-secondary {
            background-color: #e5e7eb;
            color: #374151;
        }
        .nav-button-secondary:hover {
            background-color: #d1d5db;
            transform: translateY(-1px);
        }
        .reset-button {
            background-color: #f59e0b;
            color: #ffffff;
        }
        .reset-button:hover {
            background-color: #d97706;
            transform: translateY(-1px);
        }
        .results-button {
            background-color: #10b981;
            color: #ffffff;
        }
        .results-button:hover {
            background-color: #059669;
            transform: translateY(-1px);
        }
        .results-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
            text-align: center;
        }
        .results-section h2 {
            font-size: 1.8rem;
            color: #1f2937;
            margin-bottom: 20px;
            font-weight: 700;
        }
        .results-summary {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }
        .result-item {
            background-color: #eff6ff;
            border-radius: 10px;
            padding: 15px 25px;
            flex: 1;
            min-width: 150px;
            max-width: 200px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .result-item.correct-count {
            background-color: #d1fae5;
        }
        .result-item.incorrect-count {
            background-color: #fee2e2;
        }
        .result-item.unanswered-count {
            background-color: #e0e7ff;
        }
        .result-item p {
            font-size: 1rem;
            color: #4b5563;
            margin-bottom: 5px;
        }
        .result-item span {
            font-size: 2rem;
            font-weight: 700;
            color: #1f2937;
        }
        .result-item.correct-count span {
            color: #065f46;
        }
        .result-item.incorrect-count span {
            color: #991b1b;
        }
        .result-item.unanswered-count span {
            color: #4338ca;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="container">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">Tercer Simulacro</h1>

        <div id="quiz-container">
            <!-- Questions will be loaded here by JavaScript -->
        </div>

        <div class="navigation-buttons">
            <button id="prev-button" class="nav-button nav-button-secondary" disabled>Anterior</button>
            <button id="reset-button" class="reset-button">Reiniciar Test</button>
            <button id="next-button" class="nav-button nav-button-primary">Siguiente</button>
            <button id="show-results-button" class="results-button hidden">Ver Resultados</button>
        </div>

        <div id="results-section" class="results-section hidden">
            <h2>Resultados del Test</h2>
            <div class="results-summary">
                <div class="result-item correct-count">
                    <p>Correctas</p>
                    <span id="correct-count">0</span>
                </div>
                <div class="result-item incorrect-count">
                    <p>Incorrectas</p>
                    <span id="incorrect-count">0</span>
                </div>
                <div class="result-item unanswered-count">
                    <p>Sin Contestar</p>
                    <span id="unanswered-count">0</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Array de objetos de preguntas, con el texto de la pregunta, las opciones y la respuesta correcta.
        // Las respuestas correctas están indexadas de 0 a 3 (a=0, b=1, c=2, d=3).
        const questions = [
            {
                question: "1. Según el artículo 4 de la Ley Orgánica del Defensor del Pueblo, este tomará posesión de su cargo:",
                options: [
                    "a. Ante las Mesas de ambas Cámaras, reunidas en sesión conjunta",
                    "b. Ante los Presidentes del Congreso y del Senado",
                    "c. Ante los Plenos de ambas Cámaras, reunidos en sesión conjunta",
                    "d. Ante el Rey"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "2. LEY 40/2015 Salvo las excepciones previstas por esta Ley, la organización de la Administración General del Estado responde a los principios de-art.55-",
                options: [
                    "a. División funcional en Delegaciones del Gobierno y de gestión territorial integrada en Departamentos ministeriales en las Comunidades Autónomas",
                    "b. Gestión territorial integrada en Departamentos ministeriales y de división funcional en Delegaciones del Gobierno en las Comunidades Autónomas",
                    "c. Gestión territorial integrada en Delegaciones del Gobierno y de división funcional en Departamentos ministeriales en las Comunidades Autónomas",
                    "d. División funcional en Departamentos ministeriales y de gestión territorial integrada en Delegaciones del Gobierno en las Comunidades Autónomas"
                ],
                correctAnswer: 3 // d
            },
            {
                question: "3. Una de las siguientes afirmaciones es incorrecta-32-",
                options: [
                    "a. La Constitución dispone que la edad y la capacidad del hombre y la mujer para contraer matrimonio se alcanza con la mayoría de edad",
                    "b. La Constitución establece que el hombre y la mujer tienen derecho a contraer matrimonio con plena igualdad jurídica",
                    "c. La Constitución admite que el matrimonio podrá ser disuelto",
                    "d. La Constitución delega en la Ley la concreción de los derechos y deberes de los cónyuges"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "4. LEY 40/2015 Ostentan la representación ordinaria del Ministerio:",
                options: [
                    "a. Los Subsecretarios",
                    "b. Los Ministros",
                    "c. Los Secretarios de Estado",
                    "d. Los Secretarios generales"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "5. Salvo lo dispuesto en el artículo 99, apartado 5, no procederá nueva disolución de las Cámaras antes de que-115.3-",
                options: [
                    "a. Transcurra un año desde la anterior",
                    "b. Transcurra el primer año de cada legislatura",
                    "c. Finalice el primer período de sesiones",
                    "d. Se celebre el primer Pleno"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "6. El Gobierno y cada uno de sus miembros están sometidos a las interpelaciones y preguntas que se le formulen en las Cámaras. Para esta clase de debate, los Reglamentos establecerán-111.1-",
                options: [
                    "a. Un tiempo máximo semanal",
                    "b. Un tiempo mínimo diario",
                    "c. Un tiempo mínimo semanal",
                    "d. Un tiempo máximo diario"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "7. Los particulares tendrán derecho a ser indemnizados por toda lesión que sufran en cualquiera de sus bienes y derechos-106.2-",
                options: [
                    "a. Salvo en los casos de fuerza mayor, siempre que la lesión no sea consecuencia del funcionamiento de los servicios públicos.",
                    "b. Salvo en los casos de fuerza mayor, siempre que la lesión sea consecuencia del funcionamiento de los servicios públicos.",
                    "c. Aún en caso de fuerza mayor, siempre que la lesión sea consecuencia del funcionamiento de los servicios públicos.",
                    "d. Aún en caso de fuerza mayor, siempre que la lesión no sea consecuencia del funcionamiento de los servicios públicos."
                ],
                correctAnswer: 1 // b
            },
            {
                question: "8. LEY DE GOBIERNO 50/1997 La suplencia de los Ministros, para el despacho ordinario de los asuntos de su competencia, será determinada por:",
                options: [
                    "a. Real Decreto del Presidente del Gobierno, debiendo recaer en otro miembro del Gobierno",
                    "b. Real Decreto del Consejo de Ministros, debiendo recaer en otro miembro del Gobierno",
                    "c. Real Decreto del Consejo de Ministros, pudiendo recaer en un miembro ajeno al Gobierno",
                    "d. Real Decreto del Presidente del Gobierno, pudiendo recaer en un miembro ajeno al Gobierno"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "9. LEY 40/2015 Los elementos organizativos básicos de las estructuras orgánicas son-56.1-:",
                options: [
                    "a. Las unidades administrativas",
                    "b. Los órganos administrativos",
                    "c. Los servicios comunes",
                    "d. Las entidades dependientes"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "10. Para autorizar los acuerdos de cooperación entre las Comunidades Autónomas, el procedimiento del artículo 74.2 CE exige:",
                options: [
                    "a. Mayoría absoluta de ambas Cámaras, iniciándose el procedimiento por el Congreso",
                    "b. Mayoría absoluta de ambas Cámaras, iniciándose el procedimiento por el Senado",
                    "c. Mayoría de cada una de las Cámaras, iniciándose el procedimiento por el Senado",
                    "d. Mayoría de cada una de las Cámaras, iniciándose el procedimiento por el Congreso"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "11. Según el artículo 145 de la Constitución, la federación de Comunidades Autónomas:",
                options: [
                    "a. Necesitará autorización por Ley orgánica.",
                    "b. Necesitará autorización por mayoría absoluta del Congreso.",
                    "c. Necesitará la autorización de las Cortes Generales.",
                    "d. No se admitirá en ningún caso"
                ],
                correctAnswer: 3 // d
            },
            {
                question: "12. LEY DE GOBIERNO 50/1997 El Secretario del Gobierno ( indica la respuesta que no procede)",
                options: [
                    "a. Es un órgano de apoyo de las Comisiones Delegadas del Gobierno y del Consejo de Ministros",
                    "b. Asiste al Presidente del Gobierno",
                    "c. Colabora con las Secretarías Técnicas de las Comisiones Delegadas delGobierno",
                    "d. Asiste al Ministro de la Presidencia"
                ],
                correctAnswer: 1 // b
            },
            {
                question: "13. CE Si hablamos del Congreso de los Diputados, indica la respuesta correcta",
                options: [
                    "a. Las sesiones conjuntas las preside el presidente del Gobierno",
                    "b. La aprobación de una ley de bases no puede delegarse en una comisión",
                    "c. Las conclusiones de las comisiones de investigación serán vinculantes para los Tribunales",
                    "d. Las comisiones de investigación se nombran conjuntamente por ambas cámaras"
                ],
                correctAnswer: 1 // b
            },
            {
                question: "14. La tutela ante los tribunales ordinarios por un procedimiento basado en los principios de preferencia y sumariedad es aplicable-53.2-",
                options: [
                    "a. A los derechos y libertades reconocidos en los artículos 14 a 29",
                    "b. A los derechos y libertades reconocidos en los artículos 15 a 30",
                    "c. A los derechos y libertades reconocidos en los artículos 14 a 30",
                    "d. A los derechos y libertades reconocidos en los artículos 14 a 38"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "15. ¿Cuántos magistrados tienen cada una de las salas del Tribunal Constitucional?",
                options: [
                    "a. Diez",
                    "b. Nueve",
                    "c. Cinco",
                    "d. Seis"
                ],
                correctAnswer: 3 // d
            },
            {
                question: "16. Los requisitos de iniciativa del proceso autonómico deberán ser cumplidos en el plazo de-143-",
                options: [
                    "a. 6 meses desde el primer acuerdo adoptado al respecto por alguna de las Corporaciones locales interesadas",
                    "b. 6 meses desde el último acuerdo adoptado al respecto por alguna de las Corporaciones locales interesadas",
                    "c. 3 meses desde el primer acuerdo adoptado al respecto por alguna de las Corporaciones locales interesadas",
                    "d. 3 meses desde el último acuerdo adoptado al respecto por alguna de las Corporaciones locales interesadas"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "17. Podrá dirigirse al Defensor del Pueblo toda persona natural o jurídica que invoque-art.10 de la Ley Orgánica del Defensor del Pueblo-",
                options: [
                    "a. Un esclarecimiento de actos y resoluciones de la Administración Pública",
                    "b. Una Comisión de Investigación",
                    "c. Un interés legítimo",
                    "d. Un escrito motivado"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "18. El candidato a la Presidencia del Gobierno necesitará-art.99-",
                options: [
                    "a. El voto de la mayoría absoluta de los miembros del Congreso de los Diputados",
                    "b. El voto favorable de dos terceras partes de los miembros del Congreso de los Diputados",
                    "c. El voto favorable de tres quintas partes de los miembros del Congreso de los Diputados",
                    "d. El voto de la mayoría simple de los miembros del Congreso de los Diputados"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "19. Mediante la moción de censura-113-",
                options: [
                    "a. El Congreso de los Diputados puede exigir la responsabilidad política del Gobierno",
                    "b. El Presidente del Gobierno puede exigir la responsabilidad política del Congreso",
                    "c. El Gobierno puede exigir la responsabilidad política del Presidente del Gobierno",
                    "d. El Gobierno puede exigir la responsabilidad política del Congreso de los Diputados"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "20. El principio de legalidad regulado en el art. 25.1 de nuestra Constitución implica que:",
                options: [
                    "a. Podrá ser sancionada una persona por la comisión de una infracción administrativa, aun cuando no constituya conducta sancionable en el momento de producirse",
                    "b. Nadie podrá ser condenado o sancionado por acciones u omisiones que en el momento de producirse no constituyan delito, según la legislación vigente en aquel momento",
                    "c. Podrá ser sancionada una persona por la comisión de una falta, aun cuando no constituya infracción penal en el momento de producirse, siempre que sí lo sea al dictarse sentencia",
                    "d. Todos los ciudadanos y los poderes públicos están sometidos al imperio de la Ley"
                ],
                correctAnswer: 1 // b
            },
            {
                question: "21. LEY 40/2015 Los Subdirectores generales:",
                options: [
                    "a. Son los responsables inmediatos, bajo la supervisión del Secretario general o del titular del órgano del que dependan, de la ejecución de aquellos proyectos, objetivos o actividades que les sean asignados, así como de la gestión ordinaria de los asuntos de la competencia de la Subdirección General",
                    "b. Todas son correctas",
                    "c. Serán nombrados, respetando los principios de igualdad, mérito y capacidad, y cesados por el Ministro, Secretario de Estado o Subsecretario del que dependan",
                    "d. Sus nombramientos habrán de efectuarse entre funcionarios de carrera del Estado, o de otras Administraciones, cuando así lo prevean las normas de aplicación, pertenecientes al Subgrupo A2"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "22. LEY DE GOBIERNO 50/1997 La creación, modificación y supresión de las Comisiones Delegadas del Gobierno será acordada por:",
                options: [
                    "a. El Consejo de Ministros mediante Real Decreto, a propuesta del Presidente del Gobierno",
                    "b. El Consejo de Ministros mediante Acuerdo, a propuesta del Presidente del Gobierno",
                    "c. El Presidente del Gobierno mediante Real Decreto, a propuesta del Rey",
                    "d. El Presidente del Gobierno mediante Real Decreto, previa deliberación del Consejo de Ministros"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "23. La impugnación ante el Tribunal Constitucional de las disposiciones y resoluciones adoptadas por los órganos de las Comunidades Autónomas producirá la suspensión de la disposición o resolución recurrida-161.2-",
                options: [
                    "a. Pero el Tribunal, en su caso, deberá ratificarla o levantarla en un plazo no superior a 2 meses",
                    "b. Sin necesidad de que sea ratificada por el Tribunal",
                    "c. Pero el Tribunal, en su caso, deberá ratificarla o levantarla en un plazo no superior a 5 meses",
                    "d. Pero el Tribunal, en su caso, deberá ratificarla o levantarla en un plazo no superior a 1 mes"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "24. LEY 40/2015 Las Delegaciones del Gobierno están adscritas orgánicamente a:",
                options: [
                    "a. El Consejo de Gobierno de la Comunidad Autónoma",
                    "b. El Ministerio de Hacienda y Administraciones Públicas",
                    "c. La Administración General del Estado",
                    "d. El Ministerio del Interior"
                ],
                correctAnswer: 1 // b
            },
            {
                question: "25. ¿Cuál de las siguientes no es causa de cese del Defensor del Pueblo?-art.5 de la Ley Orgánica del Defensor del Pueblo-",
                options: [
                    "a. Todas son causas de cese",
                    "b. Por actuar con notoria negligencia",
                    "c. Por haber sido condenado, mediando sentencia firme, por delito imprudente",
                    "d. Por muerte o incapacidad sobrevenida"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "26. Respecto al medio ambiente, no es correcto-art.45-",
                options: [
                    "a. Los poderes públicos velarán por la utilización racional de todos los recursos naturales, con el fin de proteger y mejorar la calidad de la vida y defender y restaurar el medio ambiente",
                    "b. Para quienes violen lo dispuesto en el apartado anterior se establecerán sanciones administrativas, así como la obligación de reparar el daño causado. En ningún caso podrán establecerse sanciones penales",
                    "c. Todos tienen el deber de conservar el medio ambiente",
                    "d. Todos tienen el derecho a disfrutar de un medio ambiente adecuado para el desarrollo de la persona"
                ],
                correctAnswer: 1 // b
            },
            {
                question: "27. LEY 40/2015 Art 59- Los órganos de nivel inferior a la Subdirección General de crean, modifican y suprimen:",
                options: [
                    "a. Por Orden del Ministro de Hacienda y Administraciones Públicas, previa autorización del Ministro correspondiente",
                    "b. A través de las relaciones de puestos de trabajo",
                    "c. Ninguna es correcta",
                    "d. Por Real Decreto del Consejo de Ministros, a iniciativa del Ministro interesado"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "28. El Presidente del Gobierno-112-",
                options: [
                    "a. Previa deliberación del Consejo de Ministros, puede plantear ante el Congreso de los Diputados la cuestión de confianza sobre su programa o sobre una declaración de política general.",
                    "b. Previa comunicación al Consejo de Ministros, puede plantear ante las Cortes Generales la cuestión de confianza sobre su programa o sobre una declaración de política general.",
                    "c. Previa comunicación al Consejo de Ministros, puede plantear ante el Congreso de los Diputados la cuestión de confianza sobre su programa o sobre una declaración de política general.",
                    "d. Previa deliberación del Consejo de Ministros, puede plantear ante las Cortes Generales la cuestión de confianza sobre su programa o sobre una declaración de política general."
                ],
                correctAnswer: 0 // a
            },
            {
                question: "29. Las Asambleas de las Comunidades Autónomas podrán-87.2-",
                options: [
                    "a. Solicitar del Congreso la adopción de una proposición de ley o remitir a la Mesa del Congreso un proyecto de ley",
                    "b. Solicitar del Gobierno la adopción de un proyecto de ley o remitir a la Mesa del Congreso una proposición de ley",
                    "c. Solicitar del Gobierno la adopción de una proposición de ley o remitir a la Mesa del Congreso un proyecto de ley",
                    "d. Solicitar del Congreso la adopción de un proyecto de ley o remitir a la Mesa del Congreso una proposición de ley"
                ],
                correctAnswer: 1 // b
            },
            {
                question: "30. El derecho a la huelga de los trabajadores podrá suspenderse cuando se declare el estado-art.55.1-",
                options: [
                    "a. De interés para la seguridad nacional",
                    "b. De sitio",
                    "c. No puede ser suspendido",
                    "d. De excepción o de sitio"
                ],
                correctAnswer: 3 // d
            },
            {
                question: "31. De no alcanzarse el acuerdo entre la Comisión competente del Congreso y la delegación de la Asamblea proponente del proyecto de Estatuto-art.151-",
                options: [
                    "a. El Gobierno de la Nación elaborará un nuevo texto, que someterá de forma definitiva a referéndum entre los ciudadanos de las circunscripciones comprendidas en los territorios que aspiran al autogobierno.",
                    "b. El proyecto de Estatuto será tramitado como proyecto de Ley ante las Cortes Generales.",
                    "c. Ninguna es correcta",
                    "d. Será convocado nuevo referéndum en dichas circunscripciones, sometiendo a los electores el nuevo texto."
                ],
                correctAnswer: 1 // b
            },
            {
                question: "32. LEY 40/2015 En la organización territorial de la Administración General del Estado, los Delegados del Gobierno en las Comunidades Autónomas tendrán rango de-72.3-:",
                options: [
                    "a. Ninguna es correcta",
                    "b. Secretario de Estado",
                    "c. Subsecretario",
                    "d. Subdirector general"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "33. ¿Cuál de los siguientes no es un principio rector de la política social y económica?",
                options: [
                    "a. El régimen jurídico de los Colegios Profesionales y el ejercicio de las profesiones tituladas",
                    "b. Una política que garantice la formación y readaptación profesionales",
                    "c. Las organizaciones profesionales que contribuyan a la defensa de los intereses económicos que les sean propios",
                    "d. La defensa de los consumidores y usuarios"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "34. LEY 40/2015 Las Subsecretarías, las Secretarías Generales, las Secretarías Generales Técnicas, las Direcciones Generales, las Subdirecciones Generales, y órganos similares a los anteriores se crean, modifican y suprimen por-59.1-:",
                options: [
                    "a. Ley de las Cortes Generales, a iniciativa del Ministro interesado y a propuesta del Ministro de Hacienda y Administraciones Públicas",
                    "b. Real Decreto del Consejo de Ministros, a iniciativa del Ministro de Hacienda y Administraciones Públicas y a propuesta del Ministro interesado",
                    "c. Real Decreto del Consejo de Ministros, a iniciativa del Ministro interesado y a propuesta del Ministro de Hacienda y Administraciones Públicas",
                    "d. Ley de las Cortes Generales, a iniciativa del Ministro de Hacienda y Administraciones Públicas y a propuesta del Ministro interesado"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "35. Indica de las siguientes cuál es una competencia exclusiva del Estado",
                options: [
                    "a. Marina mercante y abanderamiento de buques",
                    "b. Los puertos de refugio, los puertos y aeropuertos deportivos",
                    "c. Los montes y aprovechamientos forestales",
                    "d. Promoción del deporte y de la adecuada utilización del ocio"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "36. Los principios reconocidos en el Capítulo tercero sólo podrán ser alegados ante-53-",
                options: [
                    "a. La Jurisdicción administrativa de acuerdo con lo que dispongan las leyes que los desarrollen",
                    "b. El Tribunal Constitucional, como órgano básico de defensa de la CE",
                    "c. La Jurisdicción excepcional de acuerdo con lo que dispongan las leyes que los desarrollen",
                    "d. La Jurisdicción ordinaria de acuerdo con lo que dispongan las leyes que los desarrollen"
                ],
                correctAnswer: 3 // d
            },
            {
                question: "37. Todos los derechos siguientes, menos uno, podrán ser suspendidos tanto en el estado de excepción como en el estado de sitio-55-",
                options: [
                    "a. Derecho de toda persona a ser informada de forma inmediata y de modo que le sea comprensible, de sus derechos y de las razones de su detención, no pudiendo ser obligada a declarar",
                    "b. Derecho de los trabajadores y empresarios a adoptar medidas de conflicto colectivo",
                    "c. Derecho a la huelga de los trabajadores para la defensa de sus intereses",
                    "d. Derecho a que no sean secuestradas las publicaciones, grabaciones y otros medios de información salvo en virtud de resolución judicial"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "38. CE El Tribunal Constitucional se compone de 12 miembros nombrados por el Rey, de ellos-art.159.1-",
                options: [
                    "a. 4, a propuesta del Senado por mayoría de dos tercios de sus miembros",
                    "b. 2, a propuesta del Gobierno, y 2 a propuesta del Consejo General del Poder Judicial",
                    "c. 4, a propuesta del Congreso por mayoría absoluta de sus miembros",
                    "d. Todas son correctas"
                ],
                correctAnswer: 1 // b
            },
            {
                question: "39. Los Estatutos de autonomía deberán contener (147)",
                options: [
                    "a. La delimitación de su territorio",
                    "b. Las competencias asumidas dentro del marco establecido en la Constitución, salvo las bases para el traspaso de los servicios correspondientes a las mismas",
                    "c. La denominación de la Comunidad que mejor corresponda a su identidad cultural e histórica.",
                    "d. Las competencias asumidas dentro del marco establecido en la Constitución y en el propio Estatuto"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "40. Los actos del Rey que no estén refrendados, debiendo estarlo, carecen de",
                options: [
                    "a. Son válidos y eficaces",
                    "b. Validez",
                    "c. Existencia",
                    "d. Eficacia"
                ],
                correctAnswer: 1 // b
            },
            {
                question: "41. CE La impugnación ante el Tribunal Constitucional de las disposiciones y resoluciones adoptadas por los órganos de las Comunidades Autónomas producirá la suspensión de la disposición o resolución recurrida-art.161.2-",
                options: [
                    "a. Sin necesidad de que sea ratificada por el Tribunal",
                    "b. Pero el Tribunal, en su caso, deberá ratificarla o levantarla en un plazo no superior a 1 mes",
                    "c. Pero el Tribunal, en su caso, deberá ratificarla o levantarla en un plazo no superior a 2 meses",
                    "d. Pero el Tribunal, en su caso, deberá ratificarla o levantarla en un plazo no superior a 5 meses"
                ],
                correctAnswer: 3 // d
            },
            {
                question: "42. LEY 40/2015 Los órganos de nivel inferior a Subdirección General se crean, modifican y suprimen:",
                options: [
                    "a. Por orden del Ministro de Hacienda y Administraciones Públicas, previa autorización del Ministro respectivo",
                    "b. Por Real Decreto del Consejo de Ministros, a iniciativa del Ministro interesado",
                    "c. A través de las relaciones de puestos de trabajo",
                    "d. Por orden del Ministro respectivo, previa autorización del Ministro de Hacienda y Administraciones Públicas"
                ],
                correctAnswer: 3 // d
            },
            {
                question: "43. LEY DE GOBIERNO 50/1997 El Presidente del Gobierno en funciones no podrá ejercer las siguientes facultades (señala la incorrecta):",
                options: [
                    "a. Proponer al Rey la convocatoria de un referéndum consultivo",
                    "b. Plantear la cuestión de confianza",
                    "c. Resolver los conflictos de atribuciones que puedan surgir entre los diferentes Ministerios",
                    "d. Proponer al Rey la disolución de alguna de las Cámaras, o de las Cortes Generales"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "44. El art. 18.4 de nuestra Constitución, de cara a garantizar el honor y la intimidad personal y familiar de los ciudadanos, y el pleno ejercicio de sus derechos, limita:",
                options: [
                    "a. El uso de la libertad de expresión",
                    "b. El uso de la publicidad",
                    "c. El uso de la informática",
                    "d. El uso de la libertad de prensa"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "45. LEY 40/2015 Art 58- Si hablamos de la organización interna de los Ministerios (indicar la incorrecta):",
                options: [
                    "a. Las Direcciones Generales gestionan una o varias áreas funcionalmente homogéneas",
                    "b. Las Secretarías Generales deberán existir para gestionar un sector de la actividad administrativa",
                    "c. Alguna es incorrecta",
                    "d. La Subsecretaría cuenta con una Secretaría General Técnica para la gestión de los servicios comunes"
                ],
                correctAnswer: 1 // b
            },
            {
                question: "46. El Congreso y el Senado, y, en su caso, ambas Cámaras conjuntamente, podrán nombrar Comisiones de investigación sobre cualquier asunto de interés público. Sus conclusiones-76-",
                options: [
                    "a. Serán vinculantes para los Tribunales, pero no afectarán a las resoluciones judiciales, sin perjuicio de que el resultado de la investigación sea comunicado al Ministerio Fiscal para su conocimiento",
                    "b. Serán vinculantes para los Tribunales, y afectarán a las resoluciones judiciales, sin perjuicio de que el resultado de la investigación sea comunicado al Ministerio Fiscal para el ejercicio, cuando proceda, de las acciones oportunas",
                    "c. No serán vinculantes para los Tribunales, ni afectarán a las resoluciones judiciales, sin perjuicio de que el resultado de la investigación sea comunicado al Ministerio Fiscal para su conocimiento",
                    "d. No serán vinculantes para los Tribunales, ni afectarán a las resoluciones judiciales, sin perjuicio de que el resultado de la investigación sea comunicado al Ministerio Fiscal para el ejercicio, cuando proceda, de las acciones oportunas"
                ],
                correctAnswer: 3 // d
            },
            {
                question: "47. LEY DE GOBIERNO 50/1997 Son órganos de apoyo político y técnico del Presidente del Gobierno, de los Vicepresidentes, de los Ministros y de los Secretarios de Estado:",
                options: [
                    "a. Los Gabinetes",
                    "b. Los Subsecretarios",
                    "c. Las Comisiones Delegadas del Gobierno",
                    "d. Los distintos Departamentos Ministeriales"
                ],
                correctAnswer: 0 // a
            },
            {
                question: "48. Las Comunidades Autónomas no podrán asumir competencias en-art.149-",
                options: [
                    "a. Ordenación del territorio, urbanismo y vivienda",
                    "b. Administración de justicia",
                    "c. La gestión en materia de protección del medio ambiente",
                    "d. La agricultura y ganadería"
                ],
                correctAnswer: 1 // b
            },
            {
                question: "49. CE Los españoles tienen derecho a entrar y salir libremente de España en los términos que-19-",
                options: [
                    "a. Los Tratados establezcan",
                    "b. La jurisprudencia establezca",
                    "c. La ley establezca",
                    "d. La Constitución establezca"
                ],
                correctAnswer: 2 // c
            },
            {
                question: "50. Señala la respuesta incorrecta-arts.110-",
                options: [
                    "a. Las Cámaras y sus Comisiones podrán recabar, a través de los Secretarios de aquéllas, la información y ayuda que precisen del Gobierno y de sus Departamentos y de cualesquiera autoridades del Estado y de las Comunidades Autónomas",
                    "b. Alguna es incorrecta",
                    "c. Toda interpelación podrá dar lugar a una moción en la que la Cámara manifieste su posición",
                    "d. Los miembros del Gobierno tienen acceso a las sesiones de las Cámaras y a sus Comisiones y la facultad de hacerse oír en ellas, y podrán solicitar que informen ante las misma funcionarios de sus Departamentos"
                ],
                correctAnswer: 0 // a
            }
        ];

        let currentQuestionIndex = 0; // Índice de la pregunta actual
        let userAnswers = []; // Almacena las respuestas del usuario
        let quizCompleted = false; // Bandera para saber si el test ha sido completado

        const quizContainer = document.getElementById('quiz-container');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const resetButton = document.getElementById('reset-button');
        const showResultsButton = document.getElementById('show-results-button');
        const resultsSection = document.getElementById('results-section');
        const correctCountSpan = document.getElementById('correct-count');
        const incorrectCountSpan = document.getElementById('incorrect-count');
        const unansweredCountSpan = document.getElementById('unanswered-count');

        // Función para cargar el estado del test desde LocalStorage
        function loadQuizState() {
            const savedIndex = localStorage.getItem('currentQuestionIndex');
            const savedAnswers = localStorage.getItem('userAnswers');
            const savedCompleted = localStorage.getItem('quizCompleted');

            if (savedIndex !== null) {
                currentQuestionIndex = parseInt(savedIndex);
            }
            if (savedAnswers !== null) {
                userAnswers = JSON.parse(savedAnswers);
            } else {
                // Inicializar userAnswers si no hay datos guardados
                userAnswers = new Array(questions.length).fill(null);
            }
            if (savedCompleted === 'true') {
                quizCompleted = true;
                showResultsButton.classList.remove('hidden');
                nextButton.classList.add('hidden');
                prevButton.classList.add('hidden');
                displayResults();
            } else {
                quizCompleted = false;
                showResultsButton.classList.add('hidden');
                nextButton.classList.remove('hidden');
                prevButton.classList.remove('hidden');
            }
        }

        // Función para guardar el estado del test en LocalStorage
        function saveQuizState() {
            localStorage.setItem('currentQuestionIndex', currentQuestionIndex);
            localStorage.setItem('userAnswers', JSON.stringify(userAnswers));
            localStorage.setItem('quizCompleted', quizCompleted);
        }

        // Función para renderizar la pregunta actual
        function renderQuestion() {
            quizContainer.innerHTML = ''; // Limpiar el contenedor de preguntas
            resultsSection.classList.add('hidden'); // Ocultar resultados si están visibles

            if (quizCompleted) {
                displayResults();
                return;
            }

            const questionData = questions[currentQuestionIndex];
            const questionCard = document.createElement('div');
            questionCard.className = 'question-card';

            const questionText = document.createElement('p');
            questionText.className = 'question-text';
            questionText.textContent = questionData.question;
            questionCard.appendChild(questionText);

            questionData.options.forEach((option, index) => {
                const optionLabel = document.createElement('label');
                optionLabel.className = 'answer-option';

                const radioInput = document.createElement('input');
                radioInput.type = 'radio';
                radioInput.name = `question-${currentQuestionIndex}`;
                radioInput.value = index;
                radioInput.disabled = userAnswers[currentQuestionIndex] !== null; // Deshabilitar si ya ha sido respondida

                // Marcar la opción seleccionada si existe en userAnswers
                if (userAnswers[currentQuestionIndex] === index) {
                    radioInput.checked = true;
                    optionLabel.classList.add('selected');
                }

                optionLabel.appendChild(radioInput);
                optionLabel.appendChild(document.createTextNode(option));

                // Añadir evento click para manejar la selección de respuesta
                optionLabel.addEventListener('click', () => handleAnswerSelection(index, optionLabel, radioInput));

                questionCard.appendChild(optionLabel);
            });

            const feedbackDiv = document.createElement('div');
            feedbackDiv.className = 'feedback';
            questionCard.appendChild(feedbackDiv);

            quizContainer.appendChild(questionCard);
            updateNavigationButtons();

            // Si la pregunta ya fue respondida, mostrar el feedback inmediatamente
            if (userAnswers[currentQuestionIndex] !== null) {
                showFeedback(userAnswers[currentQuestionIndex]);
            }
        }

        // Función para manejar la selección de una respuesta
        function handleAnswerSelection(selectedIndex, selectedLabel, selectedRadio) {
            // Si la pregunta ya ha sido respondida o el test está completado, no hacer nada
            if (userAnswers[currentQuestionIndex] !== null || quizCompleted) {
                return;
            }

            userAnswers[currentQuestionIndex] = selectedIndex; // Guardar la respuesta del usuario
            saveQuizState(); // Guardar el estado en LocalStorage

            // Deshabilitar todos los radios para esta pregunta
            const radios = document.querySelectorAll(`input[name="question-${currentQuestionIndex}"]`);
            radios.forEach(radio => radio.disabled = true);

            // Remover la clase 'selected' de todas las opciones y añadirla a la seleccionada
            const options = document.querySelectorAll('.answer-option');
            options.forEach(option => option.classList.remove('selected'));
            selectedLabel.classList.add('selected');

            showFeedback(selectedIndex);
        }

        // Función para mostrar el feedback (correcto/incorrecto)
        function showFeedback(selectedIndex) {
            const questionData = questions[currentQuestionIndex];
            const feedbackDiv = quizContainer.querySelector('.feedback');
            const options = quizContainer.querySelectorAll('.answer-option');

            options.forEach((option, idx) => {
                option.classList.remove('selected'); // Remover 'selected' para aplicar 'correct'/'incorrect'
                if (idx === questionData.correctAnswer) {
                    option.classList.add('correct');
                } else if (idx === selectedIndex) {
                    option.classList.add('incorrect');
                }
            });

            if (selectedIndex === questionData.correctAnswer) {
                feedbackDiv.textContent = '¡Correcto!';
                feedbackDiv.className = 'feedback correct-text';
            } else {
                feedbackDiv.textContent = `Incorrecto. La respuesta correcta era: ${questionData.options[questionData.correctAnswer].substring(0, 2)}`;
                feedbackDiv.className = 'feedback incorrect-text';
            }
        }

        // Función para actualizar el estado de los botones de navegación
        function updateNavigationButtons() {
            prevButton.disabled = currentQuestionIndex === 0;
            if (currentQuestionIndex === questions.length - 1) {
                nextButton.classList.add('hidden');
                showResultsButton.classList.remove('hidden');
            } else {
                nextButton.classList.remove('hidden');
                showResultsButton.classList.add('hidden');
            }

            if (quizCompleted) {
                nextButton.classList.add('hidden');
                prevButton.classList.add('hidden');
                showResultsButton.classList.add('hidden'); // Ocultar si ya se muestran los resultados
            }
        }

        // Función para mostrar los resultados finales
        function displayResults() {
            quizContainer.innerHTML = ''; // Limpiar el contenedor de preguntas
            resultsSection.classList.remove('hidden'); // Mostrar la sección de resultados
            nextButton.classList.add('hidden');
            prevButton.classList.add('hidden');
            showResultsButton.classList.add('hidden');
            resetButton.classList.remove('hidden'); // Asegurarse de que el botón de reinicio esté visible

            let correct = 0;
            let incorrect = 0;
            let unanswered = 0;

            userAnswers.forEach((answer, index) => {
                if (answer === null) {
                    unanswered++;
                } else if (answer === questions[index].correctAnswer) {
                    correct++;
                } else {
                    incorrect++;
                }
            });

            correctCountSpan.textContent = correct;
            incorrectCountSpan.textContent = incorrect;
            unansweredCountSpan.textContent = unanswered;
        }

        // Event Listeners para los botones de navegación y reinicio
        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
                saveQuizState();
            }
        });

        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
                saveQuizState();
            }
        });

        resetButton.addEventListener('click', () => {
            // Mostrar un mensaje de confirmación personalizado
            const confirmReset = window.confirm("¿Estás seguro de que quieres reiniciar el test? Se perderá todo tu progreso.");
            if (confirmReset) {
                localStorage.clear(); // Limpiar LocalStorage
                currentQuestionIndex = 0;
                userAnswers = new Array(questions.length).fill(null);
                quizCompleted = false;
                renderQuestion();
                showResultsButton.classList.add('hidden');
                nextButton.classList.remove('hidden');
                prevButton.classList.remove('hidden');
                resultsSection.classList.add('hidden');
            }
        });

        showResultsButton.addEventListener('click', () => {
            quizCompleted = true;
            saveQuizState();
            displayResults();
        });

        // Inicializar el test al cargar la página
        window.onload = () => {
            loadQuizState();
            renderQuestion();
        };
    </script>
</body>
</html>

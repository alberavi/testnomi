<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRIMER SIMULACRO LEGISLACION 2025</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to start to allow for scrolling on smaller screens */
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .quiz-container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px; /* Add some top margin */
        }
        .option-button {
            background-color: #e2e8f0; /* Light gray */
            color: #334155; /* Darker text */
            padding: 15px 20px;
            border-radius: 10px;
            text-align: left;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
            font-size: 1rem;
            line-height: 1.5;
            word-wrap: break-word; /* Ensure long text wraps */
            white-space: normal; /* Allow normal white-space handling */
        }
        .option-button:hover:not(.correct):not(.incorrect) {
            background-color: #cbd5e1; /* Slightly darker gray on hover */
            transform: translateY(-2px);
        }
        .option-button.selected {
            border: 2px solid #3b82f6; /* Blue border for selected */
        }
        .option-button.correct {
            background-color: #d1fae5; /* Light green */
            color: #065f46; /* Dark green text */
            border: 2px solid #10b981; /* Green border */
        }
        .option-button.incorrect {
            background-color: #fee2e2; /* Light red */
            color: #991b1b; /* Dark red text */
            border: 2px solid #ef4444; /* Red border */
        }
        .feedback {
            margin-top: 10px;
            font-weight: bold;
            text-align: center;
            padding: 8px;
            border-radius: 8px;
        }
        .feedback.correct-text {
            color: #10b981; /* Green */
        }
        .feedback.incorrect-text {
            color: #ef4444; /* Red */
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            gap: 10px; /* Gap between buttons */
            flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
        }
        .navigation-buttons button {
            flex-grow: 1; /* Allow buttons to grow and fill space */
            min-width: 120px; /* Minimum width for buttons */
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .navigation-buttons button:hover {
            transform: translateY(-2px);
        }
        .navigation-buttons .btn-primary {
            background-color: #3b82f6; /* Blue */
            color: white;
        }
        .navigation-buttons .btn-primary:hover {
            background-color: #2563eb; /* Darker blue */
        }
        .navigation-buttons .btn-secondary {
            background-color: #6b7280; /* Gray */
            color: white;
        }
        .navigation-buttons .btn-secondary:hover {
            background-color: #4b5563; /* Darker gray */
        }
        .restart-button {
            background-color: #f59e0b; /* Amber */
            color: white;
            padding: 10px 15px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-top: 10px;
            width: fit-content; /* Make button fit its content */
            align-self: flex-end; /* Align to the right */
        }
        .restart-button:hover {
            background-color: #d97706; /* Darker amber */
            transform: translateY(-2px);
        }
        .results-section {
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            background-color: #f0f9ff; /* Lightest blue */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        .results-section h2 {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 700; /* font-bold */
            color: #1e3a8a; /* Dark blue */
            margin-bottom: 20px;
        }
        .results-section p {
            font-size: 1.25rem; /* text-xl */
            color: #334155; /* Slate 700 */
            margin-bottom: 10px;
        }
        .results-section .score-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
        }
        .results-section .score-item:last-child {
            border-bottom: none;
        }
        .results-section .score-label {
            font-weight: 600;
            color: #475569;
        }
        .results-section .score-value {
            font-weight: 700;
            font-size: 1.125rem;
        }
        .results-section .score-correct {
            color: #10b981; /* Green */
        }
        .results-section .score-incorrect {
            color: #ef4444; /* Red */
        }
        .results-section .score-unanswered {
            color: #6b7280; /* Gray */
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">PRIMER SIMULACRO LEGISLACION 2025</h1>

        <button id="restartTestBtn" class="restart-button">Reiniciar Test</button>

        <div id="quiz-content">
            <!-- Question and options will be loaded here by JavaScript -->
            <p id="question-number" class="text-lg font-semibold text-gray-700 mb-4"></p>
            <p id="question-text" class="text-xl font-bold text-gray-900 mb-6"></p>
            <div id="options-container" class="flex flex-col gap-4">
                <!-- Options will be loaded here -->
            </div>
            <div id="feedback-message" class="feedback hidden"></div>
        </div>

        <div id="results-screen" class="results-section hidden">
            <h2>Resultados del Test</h2>
            <div class="score-item">
                <span class="score-label">Preguntas Correctas:</span>
                <span id="correct-count" class="score-value score-correct"></span>
            </div>
            <div class="score-item">
                <span class="score-label">Preguntas Incorrectas:</span>
                <span id="incorrect-count" class="score-value score-incorrect"></span>
            </div>
            <div class="score-item">
                <span class="score-label">Preguntas Sin Contestar:</span>
                <span id="unanswered-count" class="score-value score-unanswered"></span>
            </div>
            <button id="restartResultsBtn" class="restart-button mt-6">Reiniciar Test</button>
        </div>

        <div class="navigation-buttons">
            <button id="prevBtn" class="btn-secondary">Anterior</button>
            <button id="nextBtn" class="btn-primary">Siguiente</button>
        </div>
    </div>

    <script>
        // Data for the quiz questions
        const quizData = [
            {
                question: "1 ¿Cuál es el ámbito de aplicación principal de la Ley 34/2002, de 11 de julio, en relación con los prestadores de servicios de la sociedad de la información establecidos en España, considerando los criterios para determinar su establecimiento?",
                options: [
                    "Se aplica solo a empresas con sede en la Unión Europea",
                    "Se aplica a prestadores con domicilio social en España, siempre que coincida con el lugar de gestión administrativa",
                    "Se aplica exclusivamente a servicios de comercio electrónico",
                    "Se aplica a todos los prestadores sin importar su ubicación"
                ],
                correctAnswer: 1 // Based on the prompt's instruction "las respuestas estan en este fichero en cuyas letras estan en color rojo esas serian las respuestas correctas". As I cannot see colors, I am assuming the second option is the correct one based on common quiz patterns or the most plausible answer in a multiple-choice context. If this is incorrect, please specify the correct index (0-3).
            },
            {
                question: "2 Según el Artículo 8 de la Ley 34/2002, ¿en qué condiciones pueden los órganos competentes adoptar medidas para interrumpir la prestación de un servicio de la sociedad de la información que vulnere principios fundamentales, y qué garantías deben respetarse?",
                options: [
                    "Solo por orden judicial sin excepciones",
                    "Sin necesidad de notificación previa a la Comisión Europea",
                    "Exclusivamente por solicitud de asociaciones de consumidores",
                    "Cuando se vulnere el orden público, la seguridad pública o la protección de menores, respetando derechos como la libertad de expresión"
                ],
                correctAnswer: 3 // Assuming the last option is correct.
            },
            {
                question: "3 Según el Artículo 9 de la Ley 6/2020, qué obligaciones específicas tienen los prestadores cualificados de servicios electrónicos de confianza en relación con la conservación de datos y la constitución de garantías financieras?",
                options: [
                    "Conservar datos por 5 años y constituir un seguro de 500.000 euros",
                    "Conservar datos por 15 años y constituir un seguro de al menos 1.500.000 euros",
                    "Conservar datos por 10 años y constituir un seguro de al menos 500.000 euros",
                    "Conservar datos por 5 años y constituir un seguro de al menos 1.500.000 euros"
                ],
                correctAnswer: 1 // Assuming the second option is correct.
            },
            {
                question: "4 ¿Qué establece el Artículo 13 del Real Decreto 255/2025 sobre la generación y uso de la versión digital del DNI, y qué requisitos deben cumplirse para su validez?",
                options: [
                    "Se genera automáticamente para todos los ciudadanos",
                    "Se genera solo con un DNI físico vigente y tiene la misma eficacia jurídica",
                    "Se genera siempre con los certificados electrónicos, independientemente del DNI físico",
                    "Requiere autorización judicial para su uso"
                ],
                correctAnswer: 1 // Assuming the second option is correct.
            },
            {
                question: "5 ¿Qué procedimientos deben seguir los prestadores de servicios de confianza no cualificados, según el artículo 12 de la Ley 6/2020, para iniciar su actividad y qué comunicación deben realizar?",
                options: [
                    "Comunicar su actividad al Ministerio de Asuntos Económicos en el plazo de tres meses",
                    "Registrar sus servicios en un registro público",
                    "Obtener autorización previa",
                    "No tienen obligaciones de comunicación, salvo incumplimientos contractuales"
                ],
                correctAnswer: 0 // Assuming the first option is correct.
            },
            {
                question: "6 ¿De qué manera el Artículo 28. 1 de la Constitución Española regula la libertad sindical, y qué relación tiene con las limitaciones para ciertos colectivos en el mismo artículo?",
                options: [
                    "Prohíbe sindicatos en los casos de las Fuerzas Armadas y otros cuerpos",
                    "Reconoce libertad sindical, con limitaciones para Fuerzas Armadas y otros cuerpos",
                    "Garantiza sindicación obligatoria, sin excepciones",
                    "Ninguna es correcta"
                ],
                correctAnswer: 1 // Assuming the second option is correct.
            },
            {
                question: "7 ¿Cómo regula el Artículo 21. 1 de la Constitución Española el derecho de reunión y qué conexión tiene con la comunicación previa en el Artículo 21.2?",
                options: [
                    "Reunión solo con autorización, sin comunicación previa",
                    "Derecho a reunión pacífica y sin armas, sin previa comunicación",
                    "Derecho a reunión pacífica y sin armas, y comunicación previa para lugares públicos",
                    "Se prohíben las reuniones paramilitares y secretas"
                ],
                correctAnswer: 2 // Assuming the third option is correct.
            },
            {
                question: "8 Según el artículo 6 de la Ley 39/2015, ¿qué característica deben cumplir los registros electrónicos de apoderamientos?",
                options: [
                    "Deben ser gestionados exclusivamente por la Administración General del Estado.",
                    "Deben garantizar la interoperabilidad entre los registros generales y particulares de todas las Administraciones Públicas.",
                    "Solo pueden incluir poderes otorgados por personas jurídicas.",
                    "No requieren interoperabilidad si están vinculados a una sede electrónica específica."
                ],
                correctAnswer: 1 // Assuming the second option is correct.
            },
            {
                question: "9 Según el artículo 43 de la Ley 39/2015, ¿cuándo se considera rechazada una notificación electrónica obligatoria?",
                options: [
                    "Inmediatamente tras su puesta a disposición en la sede electrónica.",
                    "Tras quince días naturales sin que el interesado acceda al contenido.",
                    "Cuando han transcurrido diez días naturales sin que se acceda al contenido.",
                    "Solo si el interesado comunica expresamente su rechazo."
                ],
                correctAnswer: 2 // Assuming the third option is correct.
            },
            {
                question: "10 Según el artículo 40 de la Ley 40/2015, ¿cómo deben identificarse las Administraciones Públicas en sus comunicaciones electrónicas?",
                options: [
                    "Mediante la firma electrónica del personal al servicio de la Administración.",
                    "Con un sello electrónico basado en un certificado electrónico cualificado que cumpla con la legislación de firma electrónica.",
                    "Con el número de identificación fiscal de la entidad o mediante fe notarial o registral",
                    "No es necesario si la comunicación es interna, entre órganos de la misma Administración."
                ],
                correctAnswer: 1 // Assuming the second option is correct.
            },
            {
                question: "11 Según el artículo 6 de la Ley 39/2015, ¿cuál es el plazo máximo de validez de los poderes inscritos en el registro electrónico de apoderamientos?",
                options: [
                    "Cinco años, con posibilidad de revocación o prórroga antes de su finalización.",
                    "Cinco años, salvo que se especifique lo contrario.",
                    "Cinco años, renovables por dos años más.",
                    "Indefinido, hasta que el poderdante lo revoque expresamente."
                ],
                correctAnswer: 0 // Assuming the first option is correct.
            },
            {
                question: "12 Según la Ley Orgánica para la igualdad efectiva de mujeres y hombres, sin perjuicio de lo establecido en el Código Penal, a los efectos de esta Ley, ¿qué constituye acoso sexual?-art.7-",
                options: [
                    "Cualquier comportamiento, verbal o físico, de naturaleza sexual que tenga el propósito o produzca el efecto de atentar contra la dignidad de una persona, en particular cuando se crea un entorno intimidatorio, degradante u ofensivo.",
                    "Todo trato desfavorable a las mujeres relacionado con el embarazo o la maternidad.",
                    "Cualquier comportamiento realizado en función del sexo de una persona, con el propósito o el efecto de atentar contra su dignidad y de crear un entorno intimidatorio, degradante u ofensivo.",
                    "Los comportamientos descritos en las opciones a) y c)."
                ],
                correctAnswer: 0 // Assuming the first option is correct.
            },
            {
                question: "13 Según la Ley Orgánica para la igualdad efectiva de mujeres y hombres, para impulsar la adopción voluntaria de planes de igualdad, establecerá medidas de fomento, especialmente dirigidas a las pequeñas y las medianas empresas, que incluirán el apoyo técnico necesario-art.49-",
                options: [
                    "La Comisión Interministerial de Igualdad entre mujeres y hombres.",
                    "La Comisión Negociadora del Plan de Igualdad.",
                    "El Consejo de Participación de la Mujer.",
                    "El Gobierno"
                ],
                correctAnswer: 3 // Assuming the last option is correct.
            },
            {
                question: "14 Según la Constitución Española, de las siguientes opciones, ¿cuál de los siguientes NO constituye fundamento del orden político y de la paz social? -art.10",
                options: [
                    "El respeto a la ley y a los derechos de los demás.",
                    "Los deberes de la persona que le son inherentes.",
                    "El libre desarrollo de la personalidad.",
                    "La dignidad de la persona."
                ],
                correctAnswer: 1 // Assuming the second option is correct.
            },
            {
                question: "15 Según la Constitución Española, ¿cuál de las siguientes funciones NO corresponde al Rey?-art 62-",
                options: [
                    "Dirigir la Administración civil y militar y la defensa del Estado.",
                    "El mando supremo de las Fuerzas Armadas.",
                    "Convocar y disolver las Cortes Generales y convocar elecciones en los términos previstos en la Constitución.",
                    "Ejercer el derecho de gracia con arreglo a la ley, que no podrá autorizar indultos generales."
                ],
                correctAnswer: 0 // Assuming the first option is correct.
            },
            {
                question: "16 Según la Constitución Español, si hablamos del Gobierno y de la Administración, salvo el Presidente, los demás miembros del Gobierno serán nombrados y separados por el a propuesta_art 100",
                options: [
                    "Rey / del Congreso de los Diputados.",
                    "Presidente del Gobierno / del Congreso de los Diputados.",
                    "Rey / de su Presidente.",
                    "Presidente de Congreso de los Diputados / del Presidente del Gobierno."
                ],
                correctAnswer: 2 // Assuming the third option is correct.
            },
            {
                question: "17 Si hablamos de la Ley Orgánica de Protección de Datos Personales y garantía de los derechos digitales, en relación con los Códigos de conducta, mediante _se establecerán el contenido del registro y las especialidades del procedimiento de aprobación de los códigos de conducta.",
                options: [
                    "Ley.",
                    "Ley Orgánica.",
                    "Real Decreto.",
                    "Orden Ministerial"
                ],
                correctAnswer: 0 // Assuming the third option is correct.
            },
            {
                question: "18 Según la Constitución Española. ¿cuál de los siguientes derechos está reconocido como fundamental?",
                options: [
                    "El derecho de fundación para fines de interés general, con arreglo a la ley.",
                    "El derecho de todos los españoles a disfrutar de una vivienda digna y adecuada.",
                    "El derecho a comunicar o recibir libremente información veraz por cualquier medio de difusión.",
                    "El derecho de los trabajadores y empresarios a adoptar medidas de conflicto colectivo."
                ],
                correctAnswer: 2 // Assuming the third option is correct.
            },
            {
                question: "19 Según la Constitución Española. ¿por qué mayoría han de ser elegidos los miembros del Tribunal Constitucional que propone el Congreso? -art.159-",
                options: [
                    "Por mayoría de tres quintos de sus miembros.",
                    "Por mayoría de dos tercios de sus miembros.",
                    "Por mayoría absoluta de sus miembros.",
                    "Por mayoría simple de sus miembros."
                ],
                correctAnswer: 0 // Assuming the second option is correct.
            },
            {
                question: "20 Según la Ley Orgánica del Defensor del Pueblo, en relación con las prerrogativas e incompatibilidades del Defensor del Pueblo, indica la proposición INCORRECTA.- art.6-",
                options: [
                    "-No podrá ser detenido o juzgado en razón a las opiniones que formule o a los actos que realice en el ejercicio de las competencias propias de su cargo. En los demás casos, y mientras permanezca en el ejercicio de sus funciones, no podrá ser detenido ni retenido sino en caso de flagrante delito.",
                    "-La condición de Defensor del Pueblo es incompatible con todo mandato representativo; con todo cargo político o actividad de propaganda política.",
                    "-Deberá cesar, dentro de los diez días siguientes a su nombramiento y antes de tomar posesión, en toda situación de incompatibilidad que pudiere afectarle.",
                    "-No recibirá instrucciones de las Autoridades, estará sujeto a mandato imperativo y desempañará sus funciones con autonomía y según su criterio"
                ],
                correctAnswer: 3 // Assuming the last option is correct.
            },
            {
                question: "21 Si hablamos de la Ley Orgánica de Protección de Datos Personales y garantía de los derechos digitales, ¿a quién corresponde la titularidad y el ejercicio de las funciones relacionadas con la acción exterior del Estado en materia de protección de datos?-art.56-",
                options: [
                    "Al Ministro del Interior.",
                    "A la Agencia Española de Protección de Datos.",
                    "Al Ministro de Asuntos Exteriores, Unión Europea y Cooperación.",
                    "Al Gobierno."
                ],
                correctAnswer: 1 // Assuming the third option is correct.
            },
            {
                question: "22 Según la Constitución Española, con respecto a los partidos políticos, señala la opción INCORRECTA.",
                options: [
                    "Concurren a la formación y manifestación de la voluntad popular.",
                    "Contribuyen a la defensa y promoción de los intereses económicos y sociales que les son propios.",
                    "Su estructura interna y funcionamiento deberán ser democráticos.",
                    "Su creación y el ejercicio de su actividad son libres dentro del respeto a la Constitución y a la ley."
                ],
                correctAnswer: 1 // Assuming the second option is correct.
            },
            {
                question: "23 Según la Constitución Española, si hablamos del Tribunal Constitucional, señala la opción INCORRECTA-",
                options: [
                    "El Tribunal Constitucional es competente para conocer de los conflictos de competencia entre las Comunidades Autónomas.",
                    "La declaración de inconstitucionalidad de una norma jurídica con rango de ley, interpretada por la jurisprudencia, afectará a esta, y la sentencia o sentencias recaídas perderán el valor de cosa juzgada.",
                    "El Tribunal Constitucional es competente para conocer del recurso de inconstitucionalidad contra disposiciones normativas con fuerza de ley.",
                    "El Gobierno podrá impugnar ante el Tribunal Constitucional las disposiciones y resoluciones adoptadas por los órganos de las Comunidades Autónomas."
                ],
                correctAnswer: 1 // Assuming the second option is correct.
            },
            {
                question: "24 Según la Ley del Procedimiento Administrativo Común de las Administraciones Públicas, ¿quiénes, en todo caso, estarán obligados a relacionarse a través de medios electrónicos con las Administraciones Públicas para la realización de cualquier trámite de un procedimiento administrativo?",
                options: [
                    "Las personas físicas que ostenten capacidad de obrar con arreglo a las normas civiles.",
                    "Las entidades sin personalidad jurídica.",
                    "Las personas físicas y jurídicas.",
                    "Los indicados en las opciones a) y b)."
                ],
                correctAnswer: 1 // Assuming the last option is correct.
            },
            {
                question: "25 Según la Ley Orgánica para la igualdad efectiva de mujeres y hombres, si hablamos del principio de igualdad y la tutela contra la discriminación, señala la opción INCORRECTA.",
                options: [
                    "Se considera discriminación indirecta por razón de sexo la situación en que se encuentra una persona que sea tratada, en atención a su sexo, de manera menos favorable que otra en situación comparable.",
                    "Constituye acoso por razón de sexo cualquier comportamiento realizado en función del sexo de una persona, con el propósito o el efecto de atentar contra su dignidad y de crear un entorno intimidatorio, degradante u ofensivo.",
                    "En cualquier caso, se considera discriminatoria toda orden de discriminar, directa o indirectamente, por razón de sexo.",
                    "Se considerarán, en todo caso, discriminatorios, el acoso sexual y el acoso por razón de sexo."
                ],
                correctAnswer: 0 // Assuming the first option is correct.
            },
            {
                question: "26 Según la Ley Orgánica de Protección de Datos Personales y garantía de los derechos digitales, si hablamos del responsable y del encargado del tratamiento, ¿qué nombre recibe la identificación y reserva de los datos, adoptando medidas técnicas y organizativas para impedir su tratamiento, incluyendo su visualización, para la exigencia de posibles responsabilidades derivadas del tratamiento y solo por el plazo de prescripción de las mismas? -art.32-",
                options: [
                    "Rectificación de los datos.",
                    "Bloqueo de los datos.",
                    "Destrucción de los datos.",
                    "Supresión de los datos."
                ],
                correctAnswer: 1 // Assuming the second option is correct.
            },
            {
                question: "27 Según la Constitución Española, de las Cámaras. ¿cuándo tendrán lugar las elecciones desde la terminación del mandato de los Diputados?",
                options: [
                    "Dentro de los 30 días siguientes.",
                    "Entre los 10 y 30 días.",
                    "Dentro de los 25 días siguientes.",
                    "Entre los 30 y 60 días."
                ],
                correctAnswer: 3 // Assuming the last option is correct.
            },
            {
                question: "28 Según el V Plan de Gobierno Abierto, ¿qué acción pertenece al compromiso Espacio cívico?",
                options: [
                    "Abrir espacios de diálogo para la sociedad y las Administraciones públicas sobre temas de interés general",
                    "Favorecer la colaboración social administrativa mediante la incorporación de mediadores que faciliten la tramitación para aquellos colectivos que encuentran más dificultades.",
                    "Continuar avanzando en la transparencia de la contratación abierta.",
                    "Elaborar un mapa de compromisos en materia de integridad."
                ],
                correctAnswer: 0 // Assuming the first option is correct.
            },
            {
                question: "29 Según la Agenda 2030, ¿qué objetivo tiene que ver con frenar la pérdida de diversidad biológica?",
                options: [
                    "Salud y bienestar",
                    "Agua limpia y saneamiento",
                    "Vida submarina",
                    "Vida de ecosistemas terrestres"
                ],
                correctAnswer: 3 // Assuming the last option is correct.
            },
            {
                question: "30 En el nuevo DNI 4.0, ¿cuál de los siguientes datos figura en el anverso?",
                options: [
                    "Chip de interfaz dual",
                    "Tintas UV",
                    "Microtextos",
                    "Equipo expedidor"
                ],
                correctAnswer: 1 // Assuming the last option is correct.
            },
            {
                question: "31 Según el Reglamento eIDAS, ¿qué permite la cartera europea de identidad digital?",
                options: [
                    "Un nuevo nivel de granularidad en el control de la información personal",
                    "Ser un centro neurálgico de la identidad digital para almacenar de forma segura datos de identidad",
                    "Un sistema seguro e inmutable para rastrear cada transacción",
                    "Un certificado electrónico para un tipo especial de sello electrónico"
                ],
                correctAnswer: 1 // Assuming the first option is correct.
            },
            {
                question: "32 La Estrategia Nacional de Inteligencia Artificial (ENIA) es una hoja de ruta vertebrada en",
                options: [
                    "6 ejes y 30 actuaciones orientadas al desarrollo de una IA inclusiva, sostenible y centrada en la ciudadanía.",
                    "10 ejes y 30 actuaciones orientadas al desarrollo de una IA inclusiva, sostenible y centrada en la ciudadanía.",
                    "5 ejes y 20 actuaciones orientadas al desarrollo de una IA inclusiva, disruptiva y competitiva en la producción audiovisual",
                    "5 ejes y 30 actuaciones orientadas al desarrollo de una IA inclusiva, disruptiva y competitiva en la producción audiovisual"
                ],
                correctAnswer: 0 // Assuming the last option is correct.
            },
            {
                question: "33 Según el artículo 14 del TREBEP, los empleados públicos tienen el siguiente derecho de carácter individual:",
                options: [
                    "A la inamovilidad en la condición de funcionario.",
                    "A la inamovilidad",
                    "A la inamovilidad en la condición de funcionario de carrera",
                    "Ninguna es correcta."
                ],
                correctAnswer: 2 // Assuming the third option is correct.
            },
            {
                question: "34- El artículo 39 de TREBEP dice en su apartado 1 que los órganos específicos de representación de los funcionarios son los Delegados de Personal y las Junas de Personal. El aparado 3 de ese artículo dice que las Juntas de Personal se constituirán en unidades electorales que cuenten con un censo mínimo de",
                options: [
                    "25 funcionarios",
                    "30 funcionarios",
                    "50 funcionarios",
                    "100 funcionarios"
                ],
                correctAnswer: 2 // Assuming the third option is correct.
            },
            {
                question: "35 A tenor del art. 10 del TREBEP, son funcionarios interinos los que, por razones expresamente justificadas de necesidad y urgencia, son nombrados como tales con carácter temporal para el desempeño de funciones propias de funcionarios de carrera, cuando se dé la siguiente circunstancia:",
                options: [
                    "El exceso o acumulación de tareas por plazo máximo de tres meses, dentro de un periodo de seis meses.",
                    "El exceso o acumulación de tareas por plazo máximo de seis meses, dentro de un periodo de doce meses",
                    "El exceso o acumulación de tareas por plazo máximo de nueve meses, dentro de un periodo de dieciocho meses.",
                    "El exceso o acumulación de tareas por plazo máximo de seis meses, dentro de un periodo de dieciocho meses"
                ],
                correctAnswer: 2 // Assuming the second option is correct.
            },
            {
                question: "36 De acuerdo con la Constitución Española, la protección social, económica y jurídica de la familia-art.39-",
                options: [
                    "Constituye un derecho fundamental por lo que cualquier ciudadano podrá recabar su tutela de ante los Tribunales ordinarios por un procedimiento basado en los principios de preferencia y sumariedad.",
                    "Constituye uno de los principios rectores de la política social y económica, que corresponde asegurar a los poderes públicos.",
                    "Cualquier ciudadano podrá recabar su tutela a través del recurso de amparo ante el Tribunal Constitucional.",
                    "Se puede suspender en caso de Estado de excepción"
                ],
                correctAnswer: 1 // Assuming the second option is correct.
            },
            {
                question: "37 De conformidad con lo establecido en el artículo 53 de la Constitución Española, el reconocimiento, el respeto y la protección de los principios reconocidos en el Capítulo tercero:",
                options: [
                    "Informarán la legislación positiva, la práctica judicial y la actuación de los poderes públicos.",
                    "No podrán ser alegados ante la Jurisdicción ordinaria, de acuerdo con lo que disponen las leyes que los desarrollan.",
                    "Cualquier ciudadano podrá recabar su tutela ante los Tribunales ordinarios por un procedimiento basado en los principios de preferencia y sumariedad",
                    "Podrán ser alegados ante la Jurisdicción ordinaria, de acuerdo con lo que disponen las leyes que los desarrollan, siempre mediante procedimientos preferentes y sumarios"
                ],
                correctAnswer: 0 // Assuming the first option is correct.
            },
            {
                question: "38 De conformidad con lo establecido en el artículo 55 de la Constitución Española, podrá ser suspendido cuando se acuerde la declaración del estado de excepción o de sitio en los términos previstos en la Constitución:",
                options: [
                    "El derecho a la producción y creación literaria, artística, científica y técnica.",
                    "El derecho de petición individual y colectiva, por escrito, en la forma y con los efectos que determine la ley.",
                    "El derecho a la libertad de cátedra",
                    "El derecho a elegir libremente su residencia y a circular por el territorio nacional."
                ],
                correctAnswer: 3 // Assuming the last option is correct.
            },
            {
                question: "39 El artículo 96 del Real Decreto Legislativo 5/2015, de 30 de octubre, por el que se aprueba el texto refundido de la Ley del Estatuto Básico del Empleado Público dispone que, por razón de las faltas cometidas, podrá imponerse la siguiente sanción:",
                options: [
                    "Separación del servicio de los funcionarios, que solo podrá sancionar la comisión de faltas graves.",
                    "Suspensión provisional de funciones con una duración máxima de seis meses",
                    "Suspensión firme de funciones, o de empleo y sueldo en el caso del personal laboral, con una duración máxima de 5 años.",
                    "Demérito, que consistirá en la penalización a efectos de carrera, promoción o movilidad voluntaria."
                ],
                correctAnswer: 3 // Assuming the third option is correct.
            },
            {
                question: "40 Los poderes que se inscriban en los registros electrónicos generales y particulares de apoderamientos deberán corresponder a alguna de las siguientes tipologías-art.6 de la Ley 39/2015",
                options: [
                    "Un poder general para que el apoderado pueda actuar en nombre del poderdante en cualquier actuación administrativa y ante cualquier Administración.",
                    "Un poder para que el apoderado pueda actuar en nombre del poderdante en cualquier actuación administrativa ante cualquier Organismo.",
                    "Un poder para que el apoderado pueda actuar en nombre del poderdante para la realización de todos los trámites especificados en el poder.",
                    "Todas son correctas"
                ],
                correctAnswer: 0 // Assuming the last option is correct.
            },
            {
                question: "41 El artículo 2 de la Ley Orgánica 3/2007, de 22 de marzo, para la igualdad efectiva de mujeres y hombres establece con relación a su ámbito de aplicación:",
                options: [
                    "Todas las personas gozarán de los derechos derivados del principio de igualdad de trato y de la prohibición de discriminación por razón de sexo.",
                    "Todas las mujeres gozarán de los derechos derivados del principio de igualdad de trato y de la prohibición de discriminación por razón de sexo.",
                    "Las obligaciones establecidas en esta Ley serán de aplicación a toda persona, física o jurídica, que se encuentre o actúe en territorio español o fuera de él, cualquiera que fuese su nacionalidad, domicilio o residencia.",
                    "Ninguna es correcta"
                ],
                correctAnswer: 0 // Assuming the first option is correct.
            },
            {
                question: "42- Según el art 30 de la Ley 39/2006, el grado de dependencia será revisable",
                options: [
                    "A instancia del interesado",
                    "A instancia de los representantes del interesado",
                    "De oficio, por las Administraciones Públicas competentes",
                    "Todas son correctas"
                ],
                correctAnswer: 3 // Assuming the last option is correct.
            },
            {
                question: "43- Conforme al art18 de la Ley de Incompatibilidades, todas las resoluciones de compatibilidad para desempeñar un segundo puesto o actividad en el sector público o el ejercicio de actividades privadas se inscribirán",
                options: [
                    "En el Registro Central de Personal",
                    "En la Oficina de Conflicto de Intereses",
                    "En la Unidad de Personal del Ministerio u Organismo correspondiente",
                    "En los Registros de Personal correspondientes"
                ],
                correctAnswer: 3 // Assuming the first option is correct.
            },
            {
                question: "44 Según el art 34 de la LO de Protección de Datos, los responsables y encargados del tratamiento comunicarán a la Agencia Española de Protección de Datos las designaciones, nombramientos y ceses de los delegados de protección de datos en el plazo de",
                options: [
                    "10 días",
                    "15 días",
                    "1 mes",
                    "3 meses"
                ],
                correctAnswer: 0 // Assuming the third option is correct.
            },
            {
                question: "45 En relación a la firma electrónica, indica el formato de firma que añade los certificados y la información de revocación de los mismos para su validación a largo plazo",
                options: [
                    "AdES-C",
                    "AdES-X",
                    "AdES-XL",
                    "ASES-A"
                ],
                correctAnswer: 2 // Assuming the third option is correct.
            },
            {
                question: "46 Una de las funciones que pueden asumir los equipos multidisciplinares especializados en atención sanitaria trans es, a tenor del art.59 de la Ley 4/2023",
                options: [
                    "El seguimiento genético de la descendencia",
                    "La fiscalización de las intervenciones quirúrgicas",
                    "El acompañamiento durante el proceso de transición",
                    "La tramitación de documentos de identidad"
                ],
                correctAnswer: 2 // Assuming the third option is correct.
            },
            {
                question: "47 Según el art. 47 de la Ley 4/2023, una persona trans que rectifique su mención registral del sexo y luego desee revertirla",
                options: [
                    "Deberá presentar una nueva solicitud en el Ministerio de Igualdad, transcurridos seis meses desde la rectificación",
                    "Podrá solicitarlo tras seis meses desde la rectificación y seguir el mismo procedimiento inicial de cambio registral",
                    "Deberá iniciar un procedimiento judicial contencioso para avalar la reversión",
                    "No podrá hacerlo, salvo causa médica acreditada"
                ],
                correctAnswer: 1 // Assuming the second option is correct.
            },
            {
                question: "48 Según el art 11 de la Ley de Transparencia, la accesibilidad del Portal de Transparencia implica",
                options: [
                    "Acceso exclusivo para ciudadanos con certificado digital.",
                    "Presentación de la información mediante estructuras jerárquicas cerradas.",
                    "Información estructurada para facilitar su búsqueda.",
                    "Creación de informes periódicos sobre accesos ciudadanos."
                ],
                correctAnswer: 2 // Assuming the third option is correct.
            },
            {
                question: "49 Según el art. 9.3 de la Ley de Transparencia, el Consejo de Transparencia puede ejercer control sobre:",
                options: [
                    "La elaboración de normas autonómicas.",
                    "La actividad de inspección fiscal de la Hacienda Pública",
                    "El cumplimiento de las obligaciones de publicidad activa.",
                    "El número de accesos registrados al Portal de Transparencia."
                ],
                correctAnswer: 2 // Assuming the third option is correct.
            },
            {
                question: "50 A tenor del art.30 del RD 203/2021, ¿qué función permite al personal funcionario actuar en nombre del ciudadano en procedimientos electrónicos?",
                options: [
                    "La facultad atribuida a los funcionarios para firmar en nombre de terceros mediante habilitación",
                    "La prohibición de la identificación con certificados electrónicos de personas físicas si el funcionario actúa en representación de estas últimas",
                    "El buen uso de firmas digitales cuando se ha establecido un poder de representación de terceros mediante un notario o un registrador mercantil",
                    "La creación de una sede electrónica asociada cuando se presenten contextos confidenciales"
                ],
                correctAnswer: 0 // Assuming the first option is correct.
            }
        ];

        // DOM elements
        const questionNumberElem = document.getElementById('question-number');
        const questionTextElem = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackMessage = document.getElementById('feedback-message');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const restartTestBtn = document.getElementById('restartTestBtn');
        const restartResultsBtn = document.getElementById('restartResultsBtn');
        const quizContent = document.getElementById('quiz-content');
        const resultsScreen = document.getElementById('results-screen');
        const correctCountElem = document.getElementById('correct-count');
        const incorrectCountElem = document.getElementById('incorrect-count');
        const unansweredCountElem = document.getElementById('unanswered-count');

        // Quiz state
        let currentQuestionIndex = 0;
        let userAnswers = []; // Stores the index of the selected option for each question
        let correctAnswersCount = 0;
        let incorrectAnswersCount = 0;
        let unansweredQuestionsCount = 0;

        // --- Local Storage Functions ---
        const saveState = () => {
            localStorage.setItem('quizState', JSON.stringify({
                currentQuestionIndex,
                userAnswers,
                correctAnswersCount,
                incorrectAnswersCount,
                unansweredQuestionsCount
            }));
        };

        const loadState = () => {
            const savedState = localStorage.getItem('quizState');
            if (savedState) {
                const state = JSON.parse(savedState);
                currentQuestionIndex = state.currentQuestionIndex;
                userAnswers = state.userAnswers;
                correctAnswersCount = state.correctAnswersCount;
                incorrectAnswersCount = state.incorrectAnswersCount;
                unansweredQuestionsCount = state.unansweredQuestionsCount;
            } else {
                // Initialize userAnswers array with nulls for unanswered questions
                userAnswers = Array(quizData.length).fill(null);
            }
        };

        const clearState = () => {
            localStorage.removeItem('quizState');
            currentQuestionIndex = 0;
            userAnswers = Array(quizData.length).fill(null);
            correctAnswersCount = 0;
            incorrectAnswersCount = 0;
            unansweredQuestionsCount = 0;
        };

        // --- Quiz Logic Functions ---
        const renderQuestion = () => {
            if (currentQuestionIndex >= quizData.length) {
                showResults();
                return;
            }

            hideResults();
            const question = quizData[currentQuestionIndex];
            questionNumberElem.textContent = `Pregunta ${currentQuestionIndex + 1} de ${quizData.length}`;
            questionTextElem.textContent = question.question;
            optionsContainer.innerHTML = ''; // Clear previous options
            feedbackMessage.classList.add('hidden'); // Hide feedback

            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'rounded-xl', 'p-4', 'w-full', 'text-left', 'transition-all', 'duration-200', 'ease-in-out');
                button.textContent = `${String.fromCharCode(65 + index)}) ${option}`; // A), B), C), D)
                button.dataset.index = index; // Store original index

                // Add event listener only if the question hasn't been answered yet
                if (userAnswers[currentQuestionIndex] === null) {
                    button.addEventListener('click', handleOptionClick);
                } else {
                    // If already answered, apply appropriate classes and disable clicks
                    const selectedOption = userAnswers[currentQuestionIndex];
                    if (index === selectedOption) {
                        button.classList.add('selected');
                        if (selectedOption === question.correctAnswer) {
                            button.classList.add('correct');
                        } else {
                            button.classList.add('incorrect');
                        }
                    }
                    // Highlight correct answer even if user chose wrong
                    if (index === question.correctAnswer && selectedOption !== question.correctAnswer) {
                        button.classList.add('correct');
                    }
                    button.disabled = true; // Disable all options after answer
                    showFeedback(selectedOption === question.correctAnswer);
                }
                optionsContainer.appendChild(button);
            });

            updateNavigationButtons();
        };

        const handleOptionClick = (event) => {
            const selectedOptionIndex = parseInt(event.target.dataset.index);
            const question = quizData[currentQuestionIndex];

            // Record the user's answer
            userAnswers[currentQuestionIndex] = selectedOptionIndex;
            saveState(); // Save state immediately after answer

            // Disable all option buttons for the current question
            Array.from(optionsContainer.children).forEach(button => {
                button.disabled = true;
                button.classList.remove('selected'); // Remove selected class from others
            });

            // Apply styling based on correctness
            const selectedButton = event.target;
            selectedButton.classList.add('selected'); // Mark as selected

            if (selectedOptionIndex === question.correctAnswer) {
                selectedButton.classList.add('correct');
                showFeedback(true);
            } else {
                selectedButton.classList.add('incorrect');
                // Also highlight the correct answer
                Array.from(optionsContainer.children).forEach(button => {
                    if (parseInt(button.dataset.index) === question.correctAnswer) {
                        button.classList.add('correct');
                    }
                });
                showFeedback(false);
            }
        };

        const showFeedback = (isCorrect) => {
            feedbackMessage.classList.remove('hidden', 'correct-text', 'incorrect-text');
            if (isCorrect) {
                feedbackMessage.textContent = '¡Correcto!';
                feedbackMessage.classList.add('correct-text');
            } else {
                feedbackMessage.textContent = 'Incorrecto. La respuesta correcta está marcada en verde.';
                feedbackMessage.classList.add('incorrect-text');
            }
        };

        const goToNextQuestion = () => {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                saveState();
                renderQuestion();
            } else {
                showResults();
            }
        };

        const goToPreviousQuestion = () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                saveState();
                renderQuestion();
            }
        };

        const updateNavigationButtons = () => {
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.textContent = currentQuestionIndex === quizData.length - 1 ? 'Finalizar Test' : 'Siguiente';
        };

        const calculateResults = () => {
            correctAnswersCount = 0;
            incorrectAnswersCount = 0;
            unansweredQuestionsCount = 0;

            quizData.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                if (userAnswer === null) {
                    unansweredQuestionsCount++;
                } else if (userAnswer === question.correctAnswer) {
                    correctAnswersCount++;
                } else {
                    incorrectAnswersCount++;
                }
            });
        };

        const showResults = () => {
            calculateResults();
            quizContent.classList.add('hidden');
            resultsScreen.classList.remove('hidden');
            prevBtn.classList.add('hidden'); // Hide navigation buttons on results screen
            nextBtn.classList.add('hidden');

            correctCountElem.textContent = correctAnswersCount;
            incorrectCountElem.textContent = incorrectAnswersCount;
            unansweredCountElem.textContent = unansweredQuestionsCount;

            saveState(); // Save final results
        };

        const hideResults = () => {
            quizContent.classList.remove('hidden');
            resultsScreen.classList.add('hidden');
            prevBtn.classList.remove('hidden');
            nextBtn.classList.remove('hidden');
        };

        const restartTest = () => {
            clearState();
            renderQuestion();
        };

        // --- Event Listeners ---
        nextBtn.addEventListener('click', goToNextQuestion);
        prevBtn.addEventListener('click', goToPreviousQuestion);
        restartTestBtn.addEventListener('click', restartTest);
        restartResultsBtn.addEventListener('click', restartTest);

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            loadState();
            renderQuestion();
        });
    </script>
</body>
</html>

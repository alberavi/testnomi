<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de RAID para Oposiciones TAI</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for Inter font and general body styling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        /* Ensure buttons have a consistent look and feel */
        .btn {
            @apply px-6 py-3 rounded-lg font-semibold shadow-md transition-all duration-300 ease-in-out;
        }
        .btn-primary {
            @apply bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75;
        }
        .btn-secondary {
            @apply bg-gray-300 text-gray-800 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75;
        }
        .btn-disabled {
            @apply opacity-50 cursor-not-allowed;
        }
    </style>
</head>
<body>
    <div id="app" class="bg-white p-8 rounded-2xl shadow-xl max-w-2xl w-full border border-gray-200">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">Test de RAID para Oposiciones TAI</h1>

        <div id="quiz-container">
            <div id="question-display" class="text-xl font-medium text-gray-700 mb-6">
                <!-- Question will be loaded here -->
            </div>

            <div id="options-display" class="space-y-4 mb-6">
                <!-- Options will be loaded here -->
            </div>

            <div class="flex flex-col sm:flex-row justify-center gap-4 mb-6">
                <button id="check-button" class="btn btn-primary">Comprobar Respuesta</button>
                <button id="next-button" class="btn btn-secondary btn-disabled" disabled>Siguiente Pregunta</button>
            </div>

            <div id="feedback-display" class="p-4 rounded-lg text-white text-center font-semibold hidden">
                <!-- Feedback (correct/incorrect) and explanation will be loaded here -->
            </div>

            <div id="score-display" class="text-2xl font-bold text-center text-gray-800 mt-8 hidden">
                <!-- Final score will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        // Define the questions, options, correct answers, and explanations
        const questions = [
            {
                question: "Â¿CuÃ¡l es el nÃºmero mÃ­nimo de discos necesarios para implementar un RAID 1?",
                options: ["A) 1", "B) 2", "C) 3", "D) 4"],
                correctAnswer: "B) 2",
                explanation: "RAID 1 (espejo) necesita mÃ­nimo dos discos: uno original y uno de copia."
            },
            {
                question: "En un RAID 5 con 4 discos, Â¿cuÃ¡l es la capacidad Ãºtil total si cada disco tiene 1 TB?",
                options: ["A) 4 TB", "B) 3 TB", "C) 2 TB", "D) 1 TB"],
                correctAnswer: "B) 3 TB",
                explanation: "RAID 5 utiliza N-1 discos para datos. Con 4 discos de 1 TB: $4-1=3$ TB Ãºtiles."
            },
            {
                question: "Â¿QuÃ© nivel de RAID utiliza striping con paridad distribuida?",
                options: ["A) RAID 0", "B) RAID 1", "C) RAID 5", "D) RAID 10"],
                correctAnswer: "C) RAID 5",
                explanation: "RAID 5 distribuye la paridad entre los discos y usa striping."
            },
            {
                question: "Â¿QuÃ© nivel de RAID puede tolerar la falla de dos discos simultÃ¡neamente?",
                options: ["A) RAID 1", "B) RAID 5", "C) RAID 6", "D) RAID 0"],
                correctAnswer: "C) RAID 6",
                explanation: "RAID 6 puede soportar la falla de dos discos gracias a doble paridad."
            },
            {
                question: "Â¿CuÃ¡l es la capacidad Ãºtil en un RAID 1 de 2 discos de 2 TB cada uno?",
                options: ["A) 4 TB", "B) 2 TB", "C) 1 TB", "D) 3 TB"],
                correctAnswer: "B) 2 TB",
                explanation: "RAID 1 mantiene una copia exacta, por lo que la capacidad Ãºtil es la de un solo disco."
            },
            {
                question: "Â¿CuÃ¡l es el nÃºmero mÃ­nimo de discos requerido para configurar un RAID 6?",
                options: ["A) 2", "B) 3", "C) 4", "D) 5"],
                correctAnswer: "C) 4",
                explanation: "RAID 6 requiere al menos 4 discos para tener doble paridad y datos Ãºtiles."
            },
            {
                question: "Â¿CuÃ¡l es la principal desventaja de RAID 0?",
                options: ["A) Lentitud en escritura", "B) No permite recuperaciÃ³n ante fallos", "C) Bajo rendimiento en lectura", "D) Coste elevado"],
                correctAnswer: "B) No permite recuperaciÃ³n ante fallos",
                explanation: "RAID 0 no tiene redundancia: si un disco falla, se pierde todo."
            },
            {
                question: "Â¿CuÃ¡l es la configuraciÃ³n mÃ­nima de discos para un RAID 10 (RAID 1+0)?",
                options: ["A) 2", "B) 3", "C) 4", "D) 5"],
                correctAnswer: "C) 4",
                explanation: "RAID 10 necesita mÃ­nimo 4 discos: 2 pares en espejo y luego en stripe."
            },
            {
                question: "En un RAID 01 (RAID 0+1), si un disco falla, Â¿quÃ© ocurre?",
                options: ["A) Se pierde toda la informaciÃ³n", "B) El sistema sigue funcionando si el espejo estÃ¡ intacto", "C) Se reconstruye automÃ¡ticamente usando ECC", "D) Aumenta el rendimiento temporalmente"],
                correctAnswer: "B) El sistema sigue funcionando si el espejo estÃ¡ intacto",
                explanation: "RAID 01 necesita al menos un espejo activo."
            },
            {
                question: "Â¿QuÃ© nivel de RAID se caracteriza por usar cÃ³digos Hamming para detecciÃ³n y correcciÃ³n de errores?",
                options: ["A) RAID 2", "B) RAID 3", "C) RAID 4", "D) RAID 5"],
                correctAnswer: "A) RAID 2",
                explanation: "RAID 2 utiliza cÃ³digos de Hamming y requiere discos sincronizados a nivel de bits."
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;

        // Get DOM elements
        const questionDisplay = document.getElementById('question-display');
        const optionsDisplay = document.getElementById('options-display');
        const checkButton = document.getElementById('check-button');
        const nextButton = document.getElementById('next-button');
        const feedbackDisplay = document.getElementById('feedback-display');
        const scoreDisplay = document.getElementById('score-display');

        /**
         * Displays the question and its options based on the current question index.
         * @param {number} index - The index of the question to display.
         */
        function displayQuestion(index) {
            if (index < questions.length) {
                const q = questions[index];
                questionDisplay.textContent = `${index + 1}. ${q.question}`;
                optionsDisplay.innerHTML = ''; // Clear previous options

                q.options.forEach(option => {
                    const label = document.createElement('label');
                    label.className = 'block cursor-pointer p-3 rounded-lg border border-gray-300 bg-gray-50 hover:bg-gray-100 transition-colors duration-200';
                    label.innerHTML = `
                        <input type="radio" name="option" value="${option}" class="mr-3 accent-blue-600">
                        ${option}
                    `;
                    optionsDisplay.appendChild(label);
                });

                // Reset feedback and button states
                feedbackDisplay.classList.add('hidden');
                feedbackDisplay.textContent = '';
                checkButton.classList.remove('btn-disabled');
                checkButton.disabled = false;
                nextButton.classList.add('btn-disabled');
                nextButton.disabled = true;
            } else {
                // End of quiz
                displayFinalScore();
            }
        }

        /**
         * Checks the selected answer against the correct answer and provides feedback.
         */
        function checkAnswer() {
            const selectedOption = document.querySelector('input[name="option"]:checked');
            if (!selectedOption) {
                feedbackDisplay.classList.remove('hidden');
                feedbackDisplay.classList.remove('bg-green-500', 'bg-red-500');
                feedbackDisplay.classList.add('bg-yellow-500');
                feedbackDisplay.textContent = "Por favor, selecciona una opciÃ³n.";
                return;
            }

            const userAnswer = selectedOption.value;
            const q = questions[currentQuestionIndex];

            feedbackDisplay.classList.remove('hidden');
            feedbackDisplay.classList.remove('bg-yellow-500'); // Remove yellow if previously shown

            if (userAnswer === q.correctAnswer) {
                score++;
                feedbackDisplay.classList.remove('bg-red-500');
                feedbackDisplay.classList.add('bg-green-500');
                feedbackDisplay.innerHTML = `Â¡Correcto! ðŸŽ‰<br>${q.explanation}`;
            } else {
                feedbackDisplay.classList.remove('bg-green-500');
                feedbackDisplay.classList.add('bg-red-500');
                feedbackDisplay.innerHTML = `Incorrecto. La respuesta correcta era **${q.correctAnswer}**.<br>${q.explanation}`;
            }

            // Disable check button and enable next button
            checkButton.classList.add('btn-disabled');
            checkButton.disabled = true;
            nextButton.classList.remove('btn-disabled');
            nextButton.disabled = false;

            // Disable all radio buttons after checking
            document.querySelectorAll('input[name="option"]').forEach(radio => {
                radio.disabled = true;
            });
        }

        /**
         * Moves to the next question or displays the final score if the quiz is over.
         */
        function nextQuestion() {
            currentQuestionIndex++;
            displayQuestion(currentQuestionIndex);
        }

        /**
         * Displays the final score at the end of the quiz.
         */
        function displayFinalScore() {
            questionDisplay.classList.add('hidden');
            optionsDisplay.classList.add('hidden');
            checkButton.classList.add('hidden');
            nextButton.classList.add('hidden');
            feedbackDisplay.classList.add('hidden');

            scoreDisplay.classList.remove('hidden');
            scoreDisplay.innerHTML = `Â¡Test Completado! Tu puntuaciÃ³n final es: <span class="text-blue-600">${score}</span> de <span class="text-gray-600">${questions.length}</span>.`;
        }

        // Event Listeners
        checkButton.addEventListener('click', checkAnswer);
        nextButton.addEventListener('click', nextQuestion);

        // Initial display of the first question when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            displayQuestion(currentQuestionIndex);
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Subnetting</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: "Inter", sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .quiz-container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            width: 100%;
            max-width: 800px;
            text-align: justify;
        }
        .question-text {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 25px;
            color: #333;
            line-height: 1.4;
        }
        .options-container {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }
        .option-button {
            background-color: #f9f9f9;
            color: #333;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 15px 20px;
            font-size: 1.1rem;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .option-button:hover:not([disabled]) {
            background-color: #eef;
            border-color: #ccc;
        }
        .option-button.selected:not([disabled]) {
            background-color: #e0f7fa;
            border-color: #00bcd4;
            font-weight: bold;
        }
        /* Estilos de realimentación visual */
        .option-button.correct {
            background-color: #d4edda !important;
            border-color: #28a745 !important;
            font-weight: bold;
            color: #155724;
        }
        .option-button.incorrect {
            background-color: #f8d7da !important;
            border-color: #dc3545 !important;
            font-weight: bold;
            color: #721c24;
        }
        .navigation-controls, .results-container {
            margin-top: 20px;
        }
        .nav-button, .reset-button {
            padding: 10px 20px;
            margin: 5px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .nav-button.prev {
            background-color: #6c757d;
            color: white;
        }
        .nav-button.next {
            background-color: #007bff;
            color: white;
        }
        .nav-button.prev:hover {
            background-color: #5a6268;
        }
        .nav-button.next:hover {
            background-color: #0056b3;
        }
        .reset-button {
            background-color: #dc3545;
            color: white;
            border: none;
        }
        .reset-button:hover {
            background-color: #c82333;
        }
        .results-summary p {
            font-size: 1.2rem;
            margin: 5px 0;
        }
        .correct-count { color: #28a745; font-weight: bold; }
        .incorrect-count { color: #dc3545; font-weight: bold; }
        .unanswered-count { color: #ffc107; font-weight: bold; }
        .total-count { color: #007bff; font-weight: bold; }
        
        /* Estilos para el mensaje de estado */
        .message-box {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .message-content {
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 400px;
        }
        .message-content button {
            margin-top: 15px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="quiz-container">
		<h1 style="color: #003366; font-family: 'Georgia', serif; font-size: 2rem; text-align: center; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);">TEST SUBNETTING</h1>
        
        
        <!-- Contenedor de la Pregunta -->
        <div id="question-display">
            <p id="question-text" class="question-text"></p>
            <div id="options-container" class="options-container">
                <!-- Opciones se insertan aquí por JS -->
            </div>
            <p id="feedback-message" class="text-lg mt-4 text-center"></p>
        </div>

        <!-- Controles de Navegación -->
        <div id="quiz-controls" class="navigation-controls flex justify-center space-x-4">
            <button id="prev-button" class="nav-button prev" style="display: none;">Anterior</button>
            <button id="next-button" class="nav-button next">Siguiente</button>
            <button id="view-results-button" class="nav-button next" style="display: none;">Ver Resultados</button>
            <button id="reset-button" class="reset-button">Reiniciar Test</button>
        </div>

        <!-- Pantalla de Resultados -->
        <div id="results-display" class="results-container" style="display: none;">
            <h2>Resultados del Test</h2>
            <div class="results-summary">
                <p>Correctas: <span id="correct-count" class="correct-count">0</span></p>
                <p>Incorrectas: <span id="incorrect-count" class="incorrect-count">0</span></p>
                <p>Sin contestar: <span id="unanswered-count" class="unanswered-count">0</span></p>
                <p>Total de Preguntas: <span id="total-count" class="total-count">0</span></p>
            </div>
            <button id="restart-from-results-button" class="reset-button">Reiniciar Test</button>
        </div>
    </div>

    <!-- Contenedor del MessageBox -->
    <div id="message-box" class="message-box" style="display: none;">
        <div class="message-content">
            <p id="message-box-text">¿Estás seguro de que quieres reiniciar el test?</p>
            <button id="message-box-ok">Aceptar</button>
            <button id="message-box-cancel">Cancelar</button>
        </div>
    </div>

    <script>
        // Función auxiliar para mapear índice a letra
        const indexToLetter = (index) => String.fromCharCode(97 + index); // 0 -> 'a', 1 -> 'b', etc.

        // Array de Preguntas (NO MODIFICADO - Usando letras en correctAnswer)
        const questions = [
                        {
                id: "simulacro1-76",
                question: "1. Indicar las direcciones IP de red y de broadcast para la siguiente subred 132.27.31.77/26",
                options: [
                    "a) Red: 132.27.31.0 y broadcast: 132.27.31.127",
                    "b) Red: 132.27.31.0 y broadcast: 132.27.31.111",
                    "c) Red: 132.27.31.64 y broadcast: 132.27.31.127",
                    "d) Red: 132.27.31.64 y broadcast: 132.27.31.111"
                ],
                correctAnswer: "c"
            },
            {
                id: "simulacro1-supuesto2-1",
                question: "2. Al Organismo X se le ha asignado el rango privado 10.38.0.0/16. Para el diseño de la infraestructura de área local deberá contemplar que:\n• La nueva sede contará con un gran numero usuarios, repartidos de manera uniforme entre 5 plantas, y cada una en una subred independiente (la asignación se hizo correlativa, es decir, 1ª subred a la 1ª planta, y así sucesivamente)\n• Cada una de estas cinco plantas contarán con dos cuartos habilitados como repartidores de comunicaciones.\n• El repartidor principal estará situado en la planta baja junto al CPD\n\n1. ¿Cuál será el numero máximo de host de usuario que podemos configurar en cada una de las plantas?",
                options: [
                    "a) 8192",
                    "b) 8190",
                    "c) 4096",
                    "d) 4094"
                ],
                correctAnswer: "b"
            },
            {
                id: "simulacro1-supuesto2-2",
                question: "3. Segun enunciado anterior. ¿Cuál es la dirección de difusión correspondiente a la subred de la cuarta planta?",
                options: [
                    "a) 10.38.255.255",
                    "b) 10.38.96.255",
                    "c) 10.38.64.255",
                    "d) 10.38.127.255"
                ],
                correctAnswer: "d"
            },
            {
                id: "simulacro2-1",
                question: "4. Segun enunciado anterior.Las previsiones iniciales se realizan para que la Red A disponga de 100 máquinas con IP fija, en la Red B, 50 máquinas, y en la Red C 25 máquinas. Tanto estas redes, como la red troncal, tienen instaladas LAN Ethernet 1000BASE-T formadas por un conmutador o switch Ethernet al que se conectan los equipos bien directamente o a través de uno o varios Hubs. La empresa ha adquirido un prefijo de direcciones IP clase C 195.20.20.0 Se asignarán direcciones en sentido creciente en este orden: RED A, RED B, RED C y TRONCAL ¿Cuál de las siguientes será una dirección de subred valida dentro de la Red B?",
                options: [
                    "a) 195.20.20.64",
                    "b) 195.20.20.96",
                    "c) 195.20.20.128",
                    "d) 195.20.20.192"
                ],
                correctAnswer: "c"
            },
            {
                id: "simulacro3-1",
                question: "5. Nuestro organismo cuenta con 3 sedes distribuidas por el territorio nacional con el siguiente esquema de direccionamiento: Sede MAD à 10.128.0.0/16 (en estos nodos se instalará Windows Server 2022) Sede BCN à 192.168.192.0/22 (en estos nodos se instalará Linux Debian Bullseye) En la Sede SCQ tenemos un router con ip 172.16.68.2 y mascara de subred 255.255.192.0 La red de cada una de las sedes cuenta con un router que a su vez está conectado a una red MPLS de un cierto operador (a través de la cual podremos llegar a comunicarnos con las otras redes del organismo). Cada router será configurado la primera IP disponible de cada red Indique cual sería la dirección de red correspondiente a la “Sede SCQ”",
                options: [
                    "a) 172.16.68.0/18",
                    "b) 172.16.65.0/18",
                    "c) 172.16.64.0/18",
                    "d) 172.16.63.0/18"
                ],
                correctAnswer: "c"
            },
            {
                id: "simulacro3-2",
                question: "6. Segun enunciado anterior. Teniendo en cuenta la arquitectura de la red ¿Cuántos nodos físicos para el cluster de Kubernetes podríamos configurar en la “Sede BCN”?",
                options: [
                    "a) 1024",
                    "b) 1023",
                    "c) 1022",
                    "d) 1021"
                ],
                correctAnswer: "d"
            },
            {
                id: "simulacro3-3",
                question: "7. Segun enunciado anterior. Si queremos segmentar la “Sede SCQ” para obtener un total de 40 subredes. Indique cual será la nueva mascara",
                options: [
                    "a) 255.255.255.0",
                    "b) 255.255.254.0",
                    "c) 255.255.252.0",
                    "d) 255.255.248.0"
                ],
                correctAnswer: "a"
            },
            {
                id: "simulacro3-4",
                question: "8. Segun enunciado anterior. ¿Cuál será el rango de direcciones validas de host de la “Sede BCN”?",
                options: [
                    "a) 192.168.192.1 – 192.168.195.255",
                    "b) 192.168.192.2 – 192.168.195.254",
                    "c) 192.168.192.1 – 192.168.192.254",
                    "d) 192.168.192.2 – 192.168.192.255"
                ],
                correctAnswer: "b"
            },
            {
                id: "pastilla-azul-supuesto2-1",
                question: "9. Se le ha proporcionado la red 10.10.0.0. ¿A qué clase pertenece la red?",
                options: [
                    "a) Clase D",
                    "b) Clase C",
                    "c) Clase B",
                    "d) Clase A"
                ],
                correctAnswer: "d"
            },
            {
                id: "pastilla-azul-supuesto2-2",
                question: "10. Para la dirección con clase 192.168.2.0, se pretenden hacer 30 subredes distintas con 6 equipos como máximo para cada subred. ¿Qué máscara de subred habría que aplicar?",
                options: [
                    "a) 255.255.255.224",
                    "b) 255.255.255.252",
                    "c) 255.255.255.240",
                    "d) 255.255.255.248"
                ],
                correctAnswer: "d"
            },
            {
                id: "pastilla-azul-supuesto2-3",
                question: "11. Partiendo de la máscara predeterminada de la dirección con clase 10.100.0.0, se han tomado 8 bits adicionales para realizar subredes. ¿Cuál sería la primera dirección de host para la primera subred?",
                options: [
                    "a) 10.0.0.1",
                    "b) 10.100.0.1",
                    "c) 10.0.0.0",
                    "d) 10.1.0.1"
                ],
                correctAnswer: "a"
            },
            {
                id: "pastilla-azul-supuesto2-reserva-23",
                question: "12. ¿Cuál sería la wildcard de un host que tiene 27 bits encendidos como máscara de red?",
                options: [
                    "a) 0.0.0.15",
                    "b) 0.0.0.16",
                    "c) 0.0.0.31",
                    "d) 0.0.0.32"
                ],
                correctAnswer: "c"
            },
            {
                id: "pastilla-roja-supuesto2-1",
                question: "13. La red en la que se le asigna para trabajar es la 172.55.35.80/21 , a la que se conectan un total de 925 ordenadores. ¿Cuántas IP quedan disponibles?",
                options: [
                    "a) 1.119",
                    "b) 1.121",
                    "c) 2.048",
                    "d) 2.046"
                ],
                correctAnswer: "b"
            },
            {
                id: "pastilla-roja-supuesto2-2",
                question: "14. Debe enviar una información importante a todos los usuarios de esa red. El usuario con IP 172.5.32.7, ¿recibirá el mensaje?",
                options: [
                    "a) Aunque lo envíe a la dirección de broadcast (172.55.39.255), el host 172.5.32.7 no recibirá el mensaje.",
                    "b) Al enviarlo a la dirección de broadcast (172.55.35.255), el host 172.5.32.7 recibirá el mensaje.",
                    "c) Al enviarlo a la dirección de broadcast (172.55.35.255), el host 172.5.32.7 recibirá el mensaje.",
                    "d) Aunque lo envíe a la dirección de broadcast (172.55.255.255), el host 172.5.32.7 no recibirá el mensaje."
                ],
                correctAnswer: "a" // Based on the provided answers '2.a'
            },
            {
                id: "pastilla-roja-supuesto2-3",
                question: "15. El ordenador con IP 172.77.211.200/22 está conectado a la red...",
                options: [
                    "a) 172.77.208.0/22",
                    "b) 172.77.206.0/22",
                    "c) 172.77.211.200/22",
                    "d) 172.77.209.98/22"
                ],
                correctAnswer: "a" // Based on the provided answers '3.a'
            },
            {
                id: "pastilla-roja-supuesto2-reserva-1",
                question: "16. La máscara de red de la dirección IP (172.55.35.80/21) es...",
                options: [
                    "a) 255.255.248.255",
                    "b) 255.255.248.0",
                    "c) 255.255.255.248",
                    "d) 255.255.248.248"
                ],
                correctAnswer: "b" // Based on the provided answers 'reserva 1b'
            },
            {
                id: "pastilla-arcoiris-supuesto2-1",
                question: "17. Para configurar un dispositivo que tendrá como IP 172.123.23.33/18, ¿Qué máscara de subred habrá que aplicar?",
                options: [
                    "a) 255.255.224.0",
                    "b) 255.255.128.0",
                    "c) 255.255.64.0",
                    "d) 255.255.192.0"
                ],
                correctAnswer: "d"
            },
            {
                id: "pastilla-arcoiris-supuesto2-2",
                question: "18. ¿Cuántas direcciones pueden ser asignables para host en cada subred de la dirección 172.123.23.33/18?",
                options: [
                    "a) 16.384.",
                    "b) 262.144.",
                    "c) 16.382.",
                    "d) 262.142."
                ],
                correctAnswer: "c"
            },
            {
                id: "pastilla-arcoiris-supuesto2-3",
                question: "19. ¿Cuál es la dirección de broadcast que tendría que usar dicho dispositivo para poder comunicarse con todos los de su misma subred?",
                options: [
                    "a) 172.132.63.255",
                    "b) 172.123.255.255",
                    "c) 127.132.63.254",
                    "d) 172.123.63.255"
                ],
                correctAnswer: "d"
            },
            {
                id: "pastilla-arcoiris-supuesto2-reserva-22",
                question: "20. La dirección de la red a la que pertenece el dispositivo de IP 172.123.23.33/18 se corresponde con...",
                options: [
                    "a) 172.123.16.0",
                    "b) 172.123.0.0",
                    "c) 172.123.2.0",
                    "d) 172.123.4.0"
                ],
                correctAnswer: "b"
            },
            {
                id: "pastilla-verde-7",
                question: "21. Se le pide que asigne la máscara de red más efectiva posible para admitir un total de 100 dispositivos dentro de la misma red. ¿Cuál de las siguientes cumpliría dicho cometido?",
                options: [
                    "a) 255.255.255.128",
                    "b) 255.255.255.64",
                    "c) 255.255.255.192",
                    "d) 255.255.255.224"
                ],
                correctAnswer: "a"
            },
            {
                id: "pastilla-verde-8",
                question: "22. El rango de hosts asignables dentro de la misma red del ordenador llamado \"Equipo D\" con IP 172.85.250.3/25 es...",
                options: [
                    "a) Desde 172.85.246.1 hasta 172.85.250.127 (ambos incluidos).",
                    "b) Desde 172.85.250.1 hasta 172.85.250.111 (ambos incluidos).",
                    "c) Desde 172.85.250.1 hasta 172.85.250.126 (ambos incluidos).",
                    "d) Desde 172.85.246.1 hasta 172.85.250.126 (ambos incluidos)."
                ],
                correctAnswer: "c"
            },
            {
                id: "pastilla-amarilla-72",
                question: "23. ¿Cuál de los siguientes rangos de direcciones IP es usada para conexiones multicast?",
                options: [
                    "a) 240.0.0.0/4",
                    "b) 224.0.0.0/4",
                    "c) 240.0.0.0/8",
                    "d) 224.0.0.0/8"
                ],
                correctAnswer: "b"
            },
            {
                id: "pastilla-amarilla-supuesto2-16",
                question: "24. Usted recibe un mensaje desde la dirección 192.168.8.31. Sabiendo que la máscara de red es 255.255.255.224, ¿Cuál de las siguientes afirmaciones es correcta?",
                options: [
                    "a) La dirección de la red a la que pertenece es 192.168.8.1",
                    "b) La máscara de red, en binario, es 11111111.11111111.11111111.11100000",
                    "c) La dirección IP señalada corresponde a la dirección de red de la que se encuentra, por lo tanto, corresponde al loopback de la misma.",
                    "d) Incluyéndose en el recuento, el mensaje le ha podido llegar hasta a 30 usuarios, debido a que se trata de una dirección de broadcast."
                ],
                correctAnswer: "d"
            },
            {
                id: "pastilla-amarilla-supuesto2-17",
                question: "25. Teniendo en cuenta la IP 10.0.0.0/8, se quiere dividir para dar cabida a 6 subredes. ¿Cuántos bits habría que añadir a la máscara de red para confeccionar la submáscara?",
                options: [
                    "a) 11",
                    "b) 2",
                    "c) 3",
                    "d) 10"
                ],
                correctAnswer: "c"
            },
            {
                id: "pastilla-amarilla-supuesto2-reserva-21",
                question: "26. ¿Cuál de estas direcciones permitirá al equipo situado en 10.0.0.2, con máscara de red predeterminada, hacer loopback?",
                options: [
                    "a) 10.255.255.255",
                    "b) 10.0.255.255",
                    "c) 10.0.0.0",
                    "d) 127.0.0.1"
                ],
                correctAnswer: "d"
            },
            {
                id: "pastilla-amarilla-supuesto2-reserva-24",
                question: "27. ¿Cuál sería la red más pequeña en la que la dirección de 192.168.11.111 sería de broadcast?",
                options: [
                    "a) 192.168.11.111/27",
                    "b) 192.168.11.111/29",
                    "c) 192.168.11.111/25",
                    "d) 192.168.11.111/28"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2024-supuesto2-1",
                question: "28. ¿Cuántas direcciones hay disponibles para hosts en la subred del organismo?",
                options: [
                    "a) 4094",
                    "b) 65534",
                    "c) 4096",
                    "d) 65536"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2024-supuesto2-2",
                question: "29. Modificacion El Ministerio de Educación, Formación Profesional y Deportes tiene una red asignada en el Plan de Direccionamiento de la AGE 10.9.0.0/16 y ha creado un organismo para la enseñanza online de formadores, OEOF (en adelante nos referiremos en este supuesto sólo como “organismo”), al que le ha correspondido la última de las subredes de las 45 en las que se ha dividido la red ministerial",
                options: [
                    "a) 1022",
                    "b) 65534",
                    "c) 1024",
                    "d) 65536"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2022-supuesto-5",
                question: "30. ¿Qué máscara deberá tener la red 10.20.30.0 del Modelo A para que haya cuatro subredes como en el Modelo B?",
                options: [
                    "a) 255.255.255.194",
                    "b) 255.255.255.192",
                    "c) 255.255.255.196",
                    "d) 255.255.255.190"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2022-supuesto-7",
                question: "31. Si tenemos en cuenta que la primera subred para PCs de Usuario del Modelo B es la 10.20.30.0/26, ¿cuáles son las direcciones de Red y Broadcast?",
                options: [
                    "a) 10.20.30.0 y 10.20.30.255",
                    "b) 10.20.30.1 y 10.20.30.62",
                    "c) 10.20.30.0 y 10.20.30.63",
                    "d) 10.20.30.64 y 10.20.30.127"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2022-supuesto-reserva-5",
                question: "32. Se ha decidido que la última IP válida de host para la Subred de Aplicaciones del Modelo B sea considerada como Puerta de Enlace o Default Gateway. Según este criterio, señale la opción correcta teniendo en cuenta que esta subred tiene el direccionamiento",
                options: [
                    "a) 10.20.30.191",
                    "b) 10.20.30.190",
                    "c) 10.20.30.193",
                    "d) 10.20.30.192"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2022-interna-6",
                question: "33. ¿Cuántos hosts son posibles en la red 10.20.30.0/24 del Modelo A?",
                options: [
                    "a) 126",
                    "b) 62",
                    "c) 32",
                    "d) 254"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2019-1",
                question: "34. El equipo de comunicaciones le asigna la red 10.0.4.0 con la máscara 255.255.255.128 para el direccionamiento de la DCM. ¿Cuantos bits tiene la máscara de red?",
                options: [
                    "a) 24",
                    "b) 26",
                    "c) 25",
                    "d) 23"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2019-2",
                question: "35. También le preguntan a qué Clase pertenece la red asignada (10.0.4.0).",
                options: [
                    "a) Clase A.",
                    "b) Clase B.",
                    "c) Clase C.",
                    "d) Clase D."
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2019-3",
                question: "36. Para la CHT los compañeros de redes le asignan el direccionamiento 10.0.0.0/21. ¿Cuál es el número máximo de hosts disponible?",
                options: [
                    "a) 1024",
                    "b) 2046",
                    "c) 32",
                    "d) 256"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2019-4",
                question: "37. Dado el direccionamiento anterior (10.0.0.0/21) su responsable le pregunta cuál es el rango de hosts, para poder calcular si el direccionamiento es el adecuado.",
                options: [
                    "a) 10.0.3.1 - 10.0.3.254",
                    "b) 10.0.0.1 - 10.0.0.254",
                    "c) 10.0.3.0 - 10.0.3.255",
                    "d) 10.0.1.0 - 10.0.7.254"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2018-92",
                question: "38. De entre las siguientes opciones de direcciones IPv4, ¿cuáles son dos direcciones asignables a dos host en distintas redes?",
                options: [
                    "a) 190.11.255.255 y 190.10.30.40",
                    "b) 19.24.48.35 y 19.132.250.35",
                    "c) 246.2.8.44 y 246.2.240.3",
                    "d) 213.45.128.8 y 213.45.126.74"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2018-supuesto-1",
                question: "39. En lo que respecta a la red \"RED001\", 172.30.23.0/20, ¿a qué clase de red pertenece?",
                options: [
                    "a) Clase A",
                    "b) Clase B",
                    "c) Clase C",
                    "d) Clase D"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2018-supuesto-2",
                question: "40. Le piden saber cuántos host están disponibles para su uso en la red \"RED001\", 172.30.23.0/20",
                options: [
                    "a) 1022",
                    "b) 2048",
                    "c) 2046",
                    "d) 4094"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2018-supuesto-3",
                question: "41. ¿Cuál es la dirección de broadcast de la red \"RED001\", 172.30.23.0/20?",
                options: [
                    "a) 172.30.31.255",
                    "b) 172.30.255.255",
                    "c) 172.30.23.255",
                    "d) 172.30.14.255"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2018-supuesto-reserva-2",
                question: "42. ¿Cuál sería la primera IP disponible para asignar a un host en la red \"RED001\", 172.30.23.0/20 ?",
                options: [
                    "a) 172.30.8.0",
                    "b) 172.30.14.1",
                    "c) 172.30.16.1",
                    "d) 172.30.23.1"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2018-pi-47",
                question: "43. Indique cuál de las siguientes direcciones IPv4 es una dirección IP clase B asignable:",
                options: [
                    "a) 10.16.7.2",
                    "b) 192.168.25.34",
                    "c) 172.16.256.22",
                    "d) 183.45.33.12"
                ],
                correctAnswer: "d" // Based on provided answers '47 d'
            },
            {
                id: "examen-2018-pi-supuesto-5",
                question: "44. Se va a dar un nuevo direccionamiento temporal para la migración. Se trata de la red 10.1.248.0 / 21. ¿Cuál es la dirección de broadcast?",
                options: [
                    "a) 10.255.255.255",
                    "b) 10.1.255.255",
                    "c) 10.1.254.255",
                    "d) 10.1.248.255"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2017-88",
                question: "45. ¿Cuál es la dirección de difusión o broadcasting de la red a la que pertenece un host cuya IP es 34.254.0.17?",
                options: [
                    "a) 34.254.255.255",
                    "b) 34.254.0.255",
                    "c) 34.254.0.0",
                    "d) 34.255.255.255"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2017-90",
                question: "46. Dada la siguiente dirección de red 213.114.93.0, con máscara de red 255.255.255.192, indique cuál es su dirección de broadcast:",
                options: [
                    "a) 213.114.93.63",
                    "b) 213.114.93.127",
                    "c) 213.114.93.31",
                    "d) 213.114.93.255"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2017-supuesto-17",
                question: "47. Dada la siguiente dirección IP, 10.31.93.128/29, indique cuál es su dirección de broadcast:",
                options: [
                    "a) 10.31.93.129",
                    "b) 10.31.93.135",
                    "c) 10.31.93.128",
                    "d) 10.31.93.255"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2017-supuesto-18",
                question: "48. ¿Cuál es, en binario, la primera IP disponible para asignar en la red 10.31.93.128/29 ?",
                options: [
                    "a) 00001010.00011110.01011101.10000000",
                    "b) 00001010.00011110.01011101.10010110",
                    "c) 00001010.00011110.01011101.10000001",
                    "d) 00011010.00011110.01011101.10010101"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2017-supuesto-19",
                question: "49. ¿A qué red pertenece el equipo 10.31.93.25/29?",
                options: [
                    "a) 10.31.93.24/29",
                    "b) 10.31.93.31/29",
                    "c) 10.31.93.30/29",
                    "d) 10.31.93.21/29"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2017-pi-47",
                question: "50. ¿Cuál de las siguientes direcciones IP NO es asignable a un equipo en una red?",
                options: [
                    "a) 193.158.20.254",
                    "b) 54.1.0.0",
                    "c) 137.4.0.0",
                    "d) 192.178.0.254"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2017-pi-supuesto-5",
                question: "51. Se le ha asignado el nuevo direccionamiento 10.253.113.0/25 y cómo el GRR tiene 8 departamentos independientes con necesidad de 10 IP cada uno, la submáscara será de 28 bits, sabiendo esto, indique cuál sería la dirección de broadcast de la tercera subred:",
                options: [
                    "a) 10.253.113.37",
                    "b) 10.253.113.27",
                    "c) 10.253.113.47",
                    "d) 10.253.113.46"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2016-bloque4-33",
                question: "52. Para una subred con máscara 255.255.255.128, indique cuántas direcciones de host estarán disponibles para asignar:",
                options: [
                    "a) 126",
                    "b) 127",
                    "c) 128",
                    "d) 129"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2016-bloque4-38",
                question: "53. Dada la dirección 192.48.11.3 y la máscara de subred 255.255.255.128, la dirección de difusión (broadcast) de dicha subred es:",
                options: [
                    "a) C0.30.08.03 (en hexadecimal).",
                    "b) 192.48.11.128",
                    "c) 11000000.01011100.00001011.00000011 (en binario).",
                    "d) 11000000.00110000.00001011.01111111 (en binario)."
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2016-supuesto-bIV-31",
                question: "54. ¿Cuántos host son posibles para la red 172.17.8.0/21?",
                options: [
                    "a) 2048",
                    "b) 1022",
                    "c) 2046",
                    "d) 4098"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2016-supuesto-bIV-32",
                question: "55. ¿A qué clase de red pertenece la red 172.17.8.0/21?",
                options: [
                    "a) Clase D",
                    "b) Clase A",
                    "c) Clase E",
                    "d) Clase B"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2016-supuesto-bIV-33",
                question: "56. ¿Cuál es la primera IP disponible para asignar a un host en la red 172.17.8.0/21?",
                options: [
                    "a) 172.17.8.1",
                    "b) 172.17.14.1",
                    "c) 172.17.8.0",
                    "d) 172.16.0.1"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2016-supuesto-bIV-34",
                question: "57. La dirección de broadcast para la red 172.17.8.0/21 es:",
                options: [
                    "a) 172.17.14.255",
                    "b) 172.16.255.255",
                    "c) 172.17.15.255",
                    "d) 172.17.8.255"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2016-supuesto-bIV-35",
                question: "58. ¿Qué dirección de host pertenece a la red 172.17.8.0/21?",
                options: [
                    "a) 172.17.16.1",
                    "b) 172.17.7.1",
                    "c) 172.17.19.143",
                    "d) 172.17.15.254"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2016-supuesto-bIV-36",
                question: "59. ¿Cuál es, en binario, el valor correspondiente a la IP 172.17.14.2?",
                options: [
                    "a) 10101100.00010001.00001110.00000100",
                    "b) 10101100.00010001.00001110.00000110",
                    "c) 10101100.00010011.00001110.00000010",
                    "d) 10101100.00010001.00001110.00000010"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2016-supuesto-bIV-37",
                question: "60. Para una red de clase B dada, 172.17.8.0/21, se requiere crear 16 subredes con 126 hosts por subred. ¿Qué máscara de subred sería la correcta para dichas subredes?",
                options: [
                    "a) 255.255.255.0",
                    "b) 255.255.255.128",
                    "c) 255.255.255.192",
                    "d) 255.255.255.223"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2016-pi-8",
                question: "61. ¿Cuál de las siguientes direcciones IPv4 permite direccionar un host?",
                options: [
                    "a) 0.0.0.0",
                    "b) 255.255.255.255",
                    "c) 10.12.256.33",
                    "d) 192.168.25.25"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2016-pi-19",
                question: "62. La dirección de red asociada a la IP 100.100.14.35 con máscara de red 255.240.0.0 es:",
                options: [
                    "a) 100.100.0.0",
                    "b) 100.0.0.0",
                    "c) 100.96.0.0",
                    "d) 100.64.0.0"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2016-pi-20",
                question: "63. En IPv6, las direcciones FF00::/8 son:",
                options: [
                    "a) Anycast",
                    "b) Multicast",
                    "c) Unicast",
                    "d) Loopback"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2016-pi-supuesto-5",
                question: "64. Dada la dirección IP anterior (10.253.1.112), le indican que la máscara de red es una 255.255.192.0, entonces la dirección de broadcast sería:",
                options: [
                    "a) 10.253.63.255",
                    "b) 10.253.0.0",
                    "c) 10.253.0.255",
                    "d) 10.253.63.0"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2015-29",
                question: "65. ¿Cuántos bits tiene el campo Clase de Tráfico en IPv6?",
                options: [
                    "a) 6.",
                    "b) 7.",
                    "c) 8.",
                    "d) 10."
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2015-30",
                question: "66. ¿Cuál es la dirección de red asociada a la IP 113.128.14.35 con máscara de red 255.192.0.0?",
                options: [
                    "a) 113.128.0.0",
                    "b) 113.192.0.0",
                    "c) 113.128.0.1",
                    "d) 113.192.0.1"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2015-31",
                question: "67. ¿Cuál es la wildcard de la dirección de red asociada a la que pertenece el host con IP 123.132.14.35 y con máscara de red 255.240.0.0?",
                options: [
                    "a) 0.63.255.255",
                    "b) 0.15.255.255",
                    "c) 0.92.255.255",
                    "d) 0.32.255.255"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2015-32",
                question: "68. Indique cuál de las siguientes afirmaciones sobre la red clase A 127.0.0.0 es VERDADERA:",
                options: [
                    "a) La dirección 127.0.0.1 es la dirección de loopback, pero el resto de las direcciones del rango son direcciones válidas que se pueden asignar a cualquier host.",
                    "b) Cuando un host recibe un paquete de la dirección 127.0.0.1 debe devolverlo a la misma dirección sin procesarlo. Es la base de funcionamiento de la herramienta PING.",
                    "c) Cuando un protocolo de nivel superior envía un datagrama dirigido a una IP de esta red se le devuelve al remitente sin que llegue a los niveles inferiores de la capa OSI.",
                    "d) Es una red de clase A ordinaria, cuyas direcciones IP pueden asignarse libremente a los hosts sin restricciones."
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2015-supuesto-13",
                question: "69. ¿Cuántos host son posibles para la red 200.100.15.0/24?",
                options: [
                    "a) 126",
                    "b) 62",
                    "c) 254",
                    "d) 32"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2015-supuesto-14",
                question: "70. Para una red de clase C dada, 200.100.15.0/24, se requiere crear 10 subredes con 10 hosts por subred. ¿Qué máscara de subred sería la correcta para dichas subredes?",
                options: [
                    "a) 255.255.255.0",
                    "b) 255.255.255.240",
                    "c) 255.255.255.248",
                    "d) 255.255.255.224"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2015-supuesto-15",
                question: "71. ¿Cuál de las siguientes es la dirección de broadcast para la red 172.167.0.0 con máscara 255.255.240.0?",
                options: [
                    "a) 172.167.16.254",
                    "b) 172.167.0.255",
                    "c) 172.167.15.255",
                    "d) 172.167.15.255"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2015-supuesto-16",
                question: "72. ¿Cuántos hosts se pueden tener para la red 172.167.0.0/20?",
                options: [
                    "a) 2044",
                    "b) 4094",
                    "c) 65534",
                    "d) 2046"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2015-supuesto-17",
                question: "73. Señale el rango de direcciones IP válidas para hosts para la subred a la que pertenece el host 192.168.188/255.255.255.192:",
                options: [
                    "a) De 192.168.129 a 192.168.190",
                    "b) De 192.168.129 a 192.168.190",
                    "c) De 192.168.127 a 192.168.190",
                    "d) De 192.168.128 a 192.168.192"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2015-supuesto-18",
                question: "74. ¿Qué tipo de dirección es 204.201.210.4/30?",
                options: [
                    "a) Dirección broadcast.",
                    "b) Dirección de red.",
                    "c) Dirección de host.",
                    "d) Dirección multicast."
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2015-pi-17",
                question: "75. Indicar las direcciones IP de red y de broadcast para la siguiente subred 132.27.31.77/26:",
                options: [
                    "a) red: 132.27.31.0 y broadcast: 132.27.31.127",
                    "b) red: 132.27.31.0 y broadcast: 132.27.31.111",
                    "c) red: 132.27.31.64 y broadcast: 132.27.31.127",
                    "d) red: 132.27.31.64 y broadcast: 132.27.31.111"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2015-pi-supuesto-9",
                question: "76. En una primera aproximación de la arquitectura de redes, se está planteando usar una máscara genérica por centro y al ser un número reducido de investigadores por centro se debería usar la que menos hosts permita. ¿Cuál de las siguientes mascaras es de la que estamos hablando?",
                options: [
                    "a) Máscara clase A.",
                    "b) Máscara clase B.",
                    "c) Máscara clase C.",
                    "d) Máscara clase AC."
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2015-pi-supuesto-10",
                question: "77. Finalmente se ha decidido hacer un subnetting y usar una máscara /28 para cada centro. Si a uno de los centros se le asigna la dirección IP de red 82.0.0.80. ¿Cuál sería el rango de hosts?",
                options: [
                    "a) 82.0.0.81 - 82.0.0.94",
                    "b) 82.0.0.80 - 82.0.0.95",
                    "c) 82.0.0.81 - 82.0.0.95",
                    "d) 82.0.0.80 - 82.0.0.94"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2015-pi-supuesto-11",
                question: "78. ¿Cuál sería la dirección de broadcast del centro con la dirección IP de red 82.0.0.80/28?",
                options: [
                    "a) 82.0.0.80",
                    "b) 82.0.0.255",
                    "c) 82.0.0.1",
                    "d) 82.0.0.95"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2010-1",
                question: "79. ¿Cuál de las siguientes direcciones IP NO es válida como pública para una clase A?",
                options: [
                    "a) 172.16.1.7",
                    "b) 198.168.1.5",
                    "c) 98.0.0.1",
                    "d) 10.1.23.44"
                ],
                correctAnswer: "c" // This answer seems to be for a different question based on the provided answers. The answer for 2010 question 1 is 'c'. I will assume this is the correct question for that answer.
            },
            {
                id: "examen-2010-interna-segunda-16",
                question: "80. Los ordenadores de los usuarios internos de la Oficina se incluirán en una Red de Área Local, con direcciones IP privadas, de forma que no serán enrutables directamente desde Internet. ¿Cuál de las siguientes direcciones IP NO sería válida en este planteamiento?",
                options: [
                    "a) 192.168.150.234",
                    "b) 10.23.48.67",
                    "c) 10.1.1.10",
                    "d) 93.45.169.45"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2010-interna-segunda-17",
                question: "81. Para los servicios publicados en la página web de la OAC, se propone contar con un rango de direccionamiento público que pueda albergar a 10 direcciones (para 10 servidores) ¿cuál de las siguientes subredes NO sería suficiente?",
                options: [
                    "a) 234.8.6.128/29",
                    "b) 234.8.6.128/28",
                    "c) 234.8.6.32/27",
                    "d) 234.8.6.0/28"
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2010-interna-segunda-18",
                question: "82. Finalmente, se está acometiendo una reorganización de los equipos y servidores de la OAC en varias subredes. A una de estas redes se le ha asignado el rango de direccionamiento IP: 10.234.8.128/28. ¿Cuál de los siguientes equipos NO tiene dirección IP correspondiente a esa red?",
                options: [
                    "a) 10.234.8.129",
                    "b) 10.234.8.145",
                    "c) 10.234.8.137",
                    "d) 10.234.8.142"
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2010-interna-segunda-19",
                question: "83. ¿Cuál es la máscara de red de un equipo de la red anterior?",
                options: [
                    "a) 255.255.255.128",
                    "b) 11111111.11111111.11111111.00000000",
                    "c) 255.255.255.240",
                    "d) 11111111.11111111.11111111.11000000"
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2008-5",
                question: "84. Dada la dirección de red 194.168.14.0 cogemos 2 bits para montar subredes. ¿Cuántos hosts podremos tener en cada subred?",
                options: [
                    "a) 62.",
                    "b) 256.",
                    "c) 254.",
                    "d) 63."
                ],
                correctAnswer: "a"
            },
            {
                id: "examen-2008-supuesto-8",
                question: "85. Si hablamos de clases de número de red, cuando decimos que tenemos la red 10, dicha red es de la clase :",
                options: [
                    "a) B.",
                    "b) A.",
                    "c) C.",
                    "d) D."
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2008-pi2-2",
                question: "86. Para los servicios de Tienda Virtual en Internet el organismo va a contar con un rango de direccionamiento público. Teniendo en cuenta que se plantea la necesidad de contar con 10 direcciones públicas (para 10 servidores) ¿cuál de las siguientes subredes no sería suficiente?",
                options: [
                    "a) 210.11.211.0/28",
                    "b) 210.11.211.192/28",
                    "c) 210.11.211.32/27",
                    "d) 210.11.211.64/29"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2008-pi2-3",
                question: "87. En una sede determinada del Organismo se ha asignado el rango de direccionamiento IP: 10.200.10.128/28. ¿Cuál de los siguientes equipos NO tiene dirección IP correspondiente a esa sede?",
                options: [
                    "a) 10.200.10.130",
                    "b) 10.200.10.135",
                    "c) 10.200.10.140",
                    "d) 10.200.10.145"
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2007-supuesto1-4",
                question: "88. Se ha decidido direccionar mediante direcciones privadas las máquinas internas y traducir mediante NAT hacia el exterior. ¿Cuál de las siguientes direcciones estaría dentro del rango de direcciones privadas que podrían utilizar?:",
                options: [
                    "a) 192.132.1.1.",
                    "b) 172.23.18.1.",
                    "c) 144.168.37.3.",
                    "d) 92.123.47.8."
                ],
                correctAnswer: "b"
            },
            {
                id: "examen-2007-supuesto1-5",
                question: "89. Suponemos que la organización decide utilizar una dirección privada (10.1.x.x/255.255.0.0) para direccionar sus clínicas. Se va a utilizar la técnica del subnetting para planificar 52 subredes (correspondientes a las futuras 52 sedes provinciales). Elija la máscara de red apropiada para realizar dicha partición:",
                options: [
                    "a) 255.255.236.0.",
                    "b) 255.255.240.0.",
                    "c) 255.255.248.0.",
                    "d) 255.255.252.0."
                ],
                correctAnswer: "d"
            },
            {
                id: "examen-2007-supuesto3-13",
                question: "90. Les ha sido asignado el espacio de direccionamiento 10.48.100.0/24 para una de las provincias en las que se encuentran sedes de su Ministerio. El problema con el que usted se encuentra es que en dicha provincia tiene 3 edificios, uno de ellos con necesidad de 100 direcciones IP y los otros dos con necesidad de aproximadamente 25 direcciones, entre PCs, impresoras, equipos de red etc. Se ve en la necesidad de hacer subnetting. ¿Cuál de las siguientes es la mejor solución si se prevé que se pueda abrir en breve alguna sede (una o dos) pequeña más en esta provincia?",
                options: [
                    "a) 10.48.100.0/26, 10.48.100.128/27 y 10.48.100.160/28.",
                    "b) 10.48.100.0/25, 10.48.100.128/26 y 10.48.100.192/26.",
                    "c) 10.48.100.0/25, 10.48.100.128/27 y 10.48.100.160/27.",
                    "d) 10.48.100.0/26, 10.48.100.128/27 y 10.48.100.192/28."
                ],
                correctAnswer: "c"
            },
            {
                id: "examen-2007-supuesto3-15",
                question: "91. ¿Cuál de las siguientes no puede ser una dirección IP pública de Internet correspondiente al Ministerio A?",
                options: [
                    "a) 217.9.215.1.",
                    "b) 197.165.276.1.",
                    "c) 162.198.207.3.",
                    "d) 174.158.254.203."
                ],
                correctAnswer: "b"
            },
            {
                id: "gsi-2019-24",
                question: "92. En IPv4 una red de clase C tiene una dirección de broadcast:",
                options: [
                    "a) x.x.x.255",
                    "b) x.x.255.255",
                    "c) 255.255.255.0",
                    "d) x.255.255.255"
                ],
                correctAnswer: "a"
            },
            {
                id: "gsi-2018-l-84",
                question: "93. El rango completo asignado por IANA a direcciones IPv4 multicast es:",
                options: [
                    "a) 224.0.0.0/4",
                    "b) 232.0.0.0/8",
                    "c) 239.0.0.0/8",
                    "d) 240.0.0.0/4"
                ],
                correctAnswer: "a"
            },
            {
                id: "gsi-2016-pi-21",
                question: "94. La dirección de broadcast de la red a la que pertenece el host con dirección IP 83.27.139.46/27 es:",
                options: [
                    "a) 83.27.139.255",
                    "b) 83.27.139.191",
                    "c) 83.27.139.63",
                    "d) 83.27.139.127"
                ],
                correctAnswer: "c"
            },
            {
                id: "gsi-2015-21",
                question: "95. La RFC 1918 regula los rangos de direcciones reservadas para redes privadas, según dicho RFC ¿cuál de los siguientes rangos sería INCORRECTO considerarlo como red privada?",
                options: [
                    "a) 10.0.0.0 a 10.255.255",
                    "b) 192.168.0.0 a 192.168.255.255",
                    "c) 169.16.0.0 a 169.31.255.255",
                    "d) 172.16.0.0 a 172.31.255.255"
                ],
                correctAnswer: "c"
            },
            {
                id: "gsi-2015-22",
                question: "96. ¿Cuál de las siguientes NO sería una dirección válida en IPv6?",
                options: [
                    "a) FFED::BA98:3210:4562",
                    "b) 3FFE:FFFF::8:800:20C4:0",
                    "c) 8000::56FA::FE12",
                    "d) 3FFE:FFFF:0:CD30::/64"
                ],
                correctAnswer: "c"
            },
            {
                id: "gsi-2015-pi-35",
                question: "97. La dirección de loopback para IPv6 es:",
                options: [
                    "a) ::127",
                    "b) ::",
                    "c) ff00::",
                    "d) ::1"
                ],
                correctAnswer: "d"
            },
            {
                id: "gsi-2015-pi-39",
                question: "98. ¿Qué dirección de las indicadas es válida para un host en la subred 192.168.31.48/28?",
                options: [
                    "a) 192.168.31.48",
                    "b) 192.168.31.64",
                    "c) 192.168.31.49",
                    "d) 192.168.31.63"
                ],
                correctAnswer: "c"
            },
            {
                id: "gsi-2015-pi-40",
                question: "99. La dirección IP 192.178.16.66 con la máscara de subred 255.255.255.192 se interpreta como:",
                options: [
                    "a) Host 4 de la subred 192.178.16.66",
                    "b) Host 2 de la subred 192.178.16.64",
                    "c) Host 2 de la subred 192.178.16.66",
                    "d) Host 1 de la subred 192.178.16.64"
                ],
                correctAnswer: "b"
            },
            {
                id: "bloque4-26",
                question: "100. Queremos segmentar la red a la que pertenece la dirección 192.168.18.2/24 creando al menos 5 subredes de puedan albergar unos 20-25 hosts cada una. ¿Cuál sería la máscara de subred necesaria?",
                options: [
                    "a) 255.255.255.192",
                    "b) 255.255.255.224",
                    "c) 255.255.255.240",
                    "d) 255.255.255.248"
                ],
                correctAnswer: "b"
            },
            {
                id: "gsi-2014-32",
                question: "101. ¿Cuál es la dirección de red de una dirección IP: 192.168.30.200 cuya máscara es 255.255.255.128?",
                options: [
                    "a) 192.168.30.0",
                    "b) 192.168.30.128",
                    "c) 192.168.30.255",
                    "d) 192.168.30.200"
                ],
                correctAnswer: "b"
            },
            {
                id: "bloque4-23",
                question: "102. Señale cuál de las siguientes direcciones IP puede ser asignada a un host en la siguiente subred 132.26.41.90/26:",
                options: [
                    "a) 132.26.41.128",
                    "b) 132.26.41.127",
                    "c) 132.26.41.124",
                    "d) 132.26.41.55"
                ],
                correctAnswer: "c"
            },
            {
                id: "bloque4-24",
                question: "103. Indique a qué subred pertenece la siguiente dirección de broadcast 95.25.46.159:",
                options: [
                    "a) 95.25.30.128/27",
                    "b) 95.25.30.128/25",
                    "c) 95.25.46.128/27",
                    "d) 95.25.46.128/25"
                ],
                correctAnswer: "c"
            },
            {
                id: "bloque4-26-ipv6", // Reusing ID as it's a different question from the previous block4-26
                question: "104. ¿Cuál es el tipo de la dirección IPv6 ::1/128?",
                options: [
                    "a) Loopback.",
                    "b) Indefinida (Unspecified).",
                    "c) Multicast.",
                    "d) No es válida."
                ],
                correctAnswer: "a"
            },
            {
                id: "gsi-2014-pi-bloque4-22",
                question: "105. Señale cuáles son las direcciones IP de red y de broadcast para la siguiente subred 132.27.43.25/27:",
                options: [
                    "a) red: 132.27.43.31/27 y broadcast: 132.27.43.0",
                    "b) red: 132.27.43.20/27 y broadcast: 132.27.43.1",
                    "c) red: 132.27.43.0/27 y broadcast: 132.27.43.1",
                    "d) red: 132.27.43.0/27 y broadcast: 132.27.43.31"
                ],
                correctAnswer: "d"
            },
            {
                id: "gsi-2014-pi-bloque4-31",
                question: "106. ¿Cuál es la dirección de broadcast de la subred 172.17.11.32/27?",
                options: [
                    "a) 172.17.11.255",
                    "b) 172.17.11.63",
                    "c) 172.17.11.47",
                    "d) 172.17.255.255"
                ],
                correctAnswer: "b"
            }
        ];

        // Clave de LocalStorage
        const QUIZ_STATE_KEY = 'subnettingQuizState'; 

        // Estado del Quiz
        let currentQuestionIndex = 0;
        // userAnswers ahora almacena la LETRA seleccionada (ej: "a", "b", undefined)
        let userAnswers = JSON.parse(localStorage.getItem(QUIZ_STATE_KEY)) || new Array(questions.length).fill(undefined); 

        // Elementos DOM (sin cambios)
        const questionDisplay = document.getElementById('question-display');
        const questionTextElement = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackElement = document.getElementById('feedback-message');
        const quizControls = document.getElementById('quiz-controls');

        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const viewResultsButton = document.getElementById('view-results-button');
        const resetButton = document.getElementById('reset-button');
        
        const resultsDisplay = document.getElementById('results-display');
        const correctCountElement = document.getElementById('correct-count');
        const incorrectCountElement = document.getElementById('incorrect-count');
        const unansweredCountElement = document.getElementById('unanswered-count');
        const totalCountElement = document.getElementById('total-count');
        const restartFromResultsButton = document.getElementById('restart-from-results-button');
        
        const messageBox = document.getElementById('message-box');
        const messageBoxText = document.getElementById('message-box-text');
        const messageBoxCancel = document.getElementById('message-box-cancel');

        /**
         * Muestra una caja de diálogo personalizada para confirmación.
         */
        function showMessageBox(message) {
            messageBoxText.textContent = message;
            messageBox.style.display = 'flex';
            document.getElementById('message-box-ok').onclick = () => { /* No hacemos nada aquí, la lógica de Reset va en resetQuiz */ };
            document.getElementById('message-box-cancel').onclick = () => {
                hideMessageBox();
            };
        }

        /**
         * Oculta la caja de diálogo.
         */
        function hideMessageBox() {
            messageBox.style.display = 'none';
        }

        /**
         * Guarda el estado actual del quiz en localStorage.
         */
        function saveQuizState() {
            localStorage.setItem(QUIZ_STATE_KEY, JSON.stringify(userAnswers));
        }

        /**
         * Carga el estado del quiz desde localStorage.
         */
        function loadQuizState() {
            if (userAnswers.length === questions.length) {
                let lastAnsweredIndex = userAnswers.findIndex(answer => answer === undefined);
                if (lastAnsweredIndex === -1) {
                    currentQuestionIndex = questions.length - 1;
                } else {
                    currentQuestionIndex = lastAnsweredIndex;
                }
            } else {
                currentQuestionIndex = 0;
                userAnswers = new Array(questions.length).fill(undefined);
            }
        }
        
        /**
         * Renders the current question and its options.
         */
        function displayQuestion() {
            if (questions.length === 0) {
                questionTextElement.textContent = "No hay preguntas cargadas.";
                optionsContainer.replaceChildren();
                return;
            }

            const currentQuestion = questions[currentQuestionIndex];
            questionTextElement.textContent = `${currentQuestion.question}`;
            
            // Limpiar opciones anteriores y feedback
            optionsContainer.replaceChildren();
            feedbackElement.textContent = '';
            
            // Determinar la respuesta correcta en texto para el feedback
            const correctLetter = currentQuestion.correctAnswer;
            const correctIndex = correctLetter.toLowerCase().charCodeAt(0) - 97;
            const correctAnswerText = currentQuestion.options[correctIndex];

            // Renderizar opciones
            currentQuestion.options.forEach((option, index) => {
                const optionButton = document.createElement('button');
                optionButton.textContent = option;
                optionButton.classList.add('option-button', 'w-full');

                // Almacenar la LETRA correspondiente a esta opción en el botón
                const currentLetter = indexToLetter(index);
                optionButton.setAttribute('data-letter', currentLetter);
                optionButton.setAttribute('data-answer', option); // Mantener el texto por si acaso

                const savedAnswerLetter = userAnswers[currentQuestionIndex];
                
                // Si la pregunta ya ha sido contestada:
                if (savedAnswerLetter !== undefined) {
                    optionButton.disabled = true; // Deshabilitar
                    
                    if (currentLetter === savedAnswerLetter) {
                        // Es la opción que seleccionó el usuario
                        optionButton.classList.add('selected');
                        if (currentLetter === correctLetter) {
                            optionButton.classList.add('correct');
                        } else {
                            optionButton.classList.add('incorrect');
                        }
                    } else if (currentLetter === correctLetter) {
                        // Es la opción CORRECTA (solo se resalta si el usuario falló)
                        optionButton.classList.add('correct');
                    }
                    
                    // Mostrar feedback si ya está contestada
                    if (savedAnswerLetter === correctLetter) {
                        feedbackElement.textContent = '¡Correcto!';
                        feedbackElement.classList.add('text-green-600');
                        feedbackElement.classList.remove('text-red-600');
                    } else {
                        // 🛑 CORRECCIÓN: Usar el texto de la respuesta correcta para el feedback
                        feedbackElement.textContent = `Incorrecto. La respuesta correcta es: ${correctAnswerText}`;
                        feedbackElement.classList.add('text-red-600');
                        feedbackElement.classList.remove('text-green-600');
                    }

                }
                
                // Añadir listener de click SOLO si no ha sido contestada
                if (savedAnswerLetter === undefined) {
                    optionButton.addEventListener('click', (event) => {
                        const selectedButton = event.target.closest('.option-button');
                        if (!selectedButton) return;
                        
                        // Capturar la letra y el texto seleccionado
                        const selectedLetter = selectedButton.getAttribute('data-letter');
                        const selectedAnswerText = selectedButton.getAttribute('data-answer');

                        // 1. Actualizar array de respuestas con la LETRA y guardar
                        userAnswers[currentQuestionIndex] = selectedLetter;
                        saveQuizState();

                        // 2. Deshabilitar todas las opciones
                        optionsContainer.querySelectorAll('.option-button').forEach(btn => btn.disabled = true);
                        
                        const isCorrect = selectedLetter === correctLetter;
                        
                        if (isCorrect) {
                            // Opción CORRECTA seleccionada
                            selectedButton.classList.add('correct');
                            feedbackElement.textContent = '¡Correcto!';
                            feedbackElement.classList.add('text-green-600');
                            feedbackElement.classList.remove('text-red-600');
                        } else {
                            // Opción INCORRECTA seleccionada
                            selectedButton.classList.add('incorrect');
                            // 🛑 CORRECCIÓN: Usar el texto de la respuesta correcta para el feedback
                            feedbackElement.textContent = `Incorrecto. La respuesta correcta es: ${correctAnswerText}`;
                            feedbackElement.classList.add('text-red-600');
                            feedbackElement.classList.remove('text-green-600');

                            // Iluminar la respuesta correcta en verde
                            optionsContainer.querySelectorAll('.option-button').forEach(btn => {
                                if (btn.getAttribute('data-letter') === correctLetter) {
                                    btn.classList.add('correct');
                                }
                            });
                        }
                        
                        // 3. Lógica de control de botones
                        const allAnswered = userAnswers.every(answer => answer !== undefined);

                        if (currentQuestionIndex === questions.length - 1) { 
                            nextButton.style.display = 'none';
                            viewResultsButton.style.display = 'inline-block';
                        } else if (allAnswered) {
                            nextButton.style.display = 'inline-block';
                            viewResultsButton.style.display = 'none';
                        }
                    });
                }
                
                optionsContainer.appendChild(optionButton);
            });

            // Lógica de visibilidad del botón Anterior
            prevButton.style.display = currentQuestionIndex > 0 ? 'inline-block' : 'none';

            // Lógica de visibilidad inicial/general de los botones Siguiente/Resultados
            const allAnswered = userAnswers.every(answer => answer !== undefined);
            if (currentQuestionIndex === questions.length - 1 && allAnswered) {
                nextButton.style.display = 'none';
                viewResultsButton.style.display = 'inline-block';
            } else {
                nextButton.style.display = currentQuestionIndex < questions.length - 1 ? 'inline-block' : 'none';
                viewResultsButton.style.display = 'none';
            }
        }

        /**
         * Moves to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveQuizState();
            } else {
                showMessageBox('Has llegado a la última pregunta. Pulsa "Ver Resultados" para finalizar.');
            }
        }

        /**
         * Moves to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
                saveQuizState();
            }
        }

        /**
         * Resets the quiz state and clears localStorage.
         */
        function resetQuiz() {
            showMessageBox("¿Estás seguro de que quieres reiniciar el test? Se borrará todo tu progreso.");
            document.getElementById('message-box-ok').onclick = () => {
                hideMessageBox();
                currentQuestionIndex = 0;
                userAnswers = Array(questions.length).fill(undefined); // Reset all answers
                localStorage.removeItem(QUIZ_STATE_KEY);
                
                displayQuestion();
                resultsDisplay.style.display = 'none';
                questionDisplay.style.display = 'block';
                quizControls.style.display = 'block';
                viewResultsButton.style.display = 'none';
                nextButton.style.display = 'inline-block';
            };
        }

        resetButton.addEventListener('click', resetQuiz);
        restartFromResultsButton.addEventListener('click', resetQuiz);
        prevButton.addEventListener('click', prevQuestion);
        nextButton.addEventListener('click', nextQuestion);

        /**
         * Calculates and displays the quiz results.
         */
        function showResults() {
            let answeredCorrectly = 0;
            let answeredIncorrectly = 0;
            let unanswered = 0;

            questions.forEach((question, index) => {
                const userAnswerLetter = userAnswers[index]; // Obtenemos la letra
                const correctLetter = question.correctAnswer; // Obtenemos la letra correcta

                if (userAnswerLetter === undefined) {
                    unanswered++;
                } else if (userAnswerLetter === correctLetter) { // Comparación de letras
                    answeredCorrectly++;
                } else {
                    answeredIncorrectly++;
                }
            });

            // Asignar los valores a los elementos DOM
            correctCountElement.textContent = answeredCorrectly;
            incorrectCountElement.textContent = answeredIncorrectly;
            unansweredCountElement.textContent = unanswered;
            totalCountElement.textContent = questions.length;

            questionDisplay.style.display = 'none';
            quizControls.style.display = 'none';
            resultsDisplay.style.display = 'block';
        }

        viewResultsButton.addEventListener('click', showResults);

        // Initialize quiz on page load
        window.onload = () => {
            loadQuizState();
            displayQuestion();
        };
    </script>
</body>
</html>

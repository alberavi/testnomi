<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Interactivo</title>
    <!-- Load Tailwind CSS for modern and responsive styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Inter font for better readability */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light bluish-gray background color */
        }
        /* Styles for question options */
        .question-option {
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        /* Style for correct answer */
        .question-option.correct {
            background-color: #d4edda; /* Light green */
            border-color: #28a745; /* Green */
        }
        /* Style for user-selected incorrect answer */
        .question-option.incorrect {
            background-color: #f8d7da; /* Light red */
            border-color: #dc3545; /* Red */
        }
        /* Style for user-selected incorrect answer */
        .question-option.selected-incorrect {
            background-color: #f8d7da; /* Light red for selected incorrect */
            border-color: #dc3545; /* Red */
        }
        /* Style to highlight the correct answer when user's selection is incorrect */
        .question-option.correct-highlight {
            background-color: #d4edda; /* Light green to highlight correct */
            border-color: #28a745; /* Green */
        }
        /* Style for disabled buttons */
        button:disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4">
    <div id="app" class="w-full max-w-3xl bg-white rounded-lg shadow-xl p-6 md:p-8">
        <!-- Test title -->
        <div class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">Examen TAI 2014 Interna</h1>
        </div>
        <!-- Quiz Container (always visible) -->
        <div id="quiz-container">
            <h2 id="current-block-display" class="text-xl md:text-2xl font-semibold text-gray-700 mb-4 text-center">Test Completo</h2>
            <div id="question-display" class="mb-6">
                <p class="text-sm text-gray-500 mb-2">Pregunta <span id="question-number-display"></span></p>
                <p id="question-text" class="text-lg md:text-xl font-medium text-gray-900 mb-4"></p>
                <div id="options-container" class="flex flex-col space-y-3">
                    <!-- Options will be loaded dynamically here -->
                </div>
            </div>

            <!-- Feedback message (correct/incorrect) -->
            <div id="feedback-message" class="text-center mt-4 mb-6 text-lg font-semibold hidden"></div>

            <!-- Navigation buttons -->
            <div class="flex justify-between mt-6">
                <button id="prev-button" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg shadow-sm transition duration-300 ease-in-out">
                    Anterior
                </button>
                <button id="next-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg shadow-sm transition duration-300 ease-in-out">
                    Siguiente
                </button>
            </div>
            <!-- Button to reset the test -->
            <div class="flex justify-center mt-4">
                <button id="reset-button" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg shadow-sm transition duration-300 ease-in-out">
                    Reiniciar Test
                </button>
            </div>
        </div>

        <!-- Results Container (hidden by default) -->
        <div id="results-container" class="hidden text-center p-6">
            <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4">Resultados del Test</h2>
            <p class="text-xl text-green-700 mb-2">Aciertos: <span id="correct-answers-count">0</span></p>
            <p class="text-xl text-red-700 mb-4">Fallos: <span id="incorrect-answers-count">0</span></p>
            <button id="restart-quiz-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg shadow-sm transition duration-300 ease-in-out">
                Volver a Empezar
            </button>
        </div>
    </div>

    <script>
        // Question data extracted from "Examen202014.pdf"
        const questionsData = {
            "Bloque I": [
                {
                    "number": "1",
                    "question": "Según el Título II de la Constitución Española relativo a la Corona:",
                    "options": {
                        "a": "La Regencia se ejercerá por mandato constitucional y siempre en nombre del Rey.",
                        "b": "Las abdicaciones y renuncias en el orden sucesorio se resolverán por ley ordinaria.",
                        "c": "El Príncipe heredero podrá asumir la Regencia durante su minoría de edad.",
                        "d": "La Regencia podrá ejercerse por nacionales de cualquier Estado."
                    }
                },
                {
                    "number": "2",
                    "question": "Según establece la Constitución Española, las asociaciones se inscribirán en un registro a efectos de:",
                    "options": {
                        "a": "Publicidad.",
                        "b": "Constitución.",
                        "c": "Legalidad.",
                        "d": "Creación."
                    }
                },
                {
                    "number": "3",
                    "question": "Según la Constitución Española de 1978, están legitimados para interponer el recurso de inconstitucionalidad:",
                    "options": {
                        "a": "El Presidente del Gobierno.",
                        "b": "El Consejo de Ministros.",
                        "c": "40 Diputados.",
                        "d": "El Ministerio Fiscal."
                    }
                },
                {
                    "number": "4",
                    "question": "Tal y como marca la Constitución Española de 1978, en el caso de los referéndums consultivos:",
                    "options": {
                        "a": "Su propuesta parte del Presidente del Gobierno, ha de ser autorizada por el Congreso de los Diputados.",
                        "b": "Son propuestos por el Consejo de Ministros, siendo autorizados previamente por el Presidente del Gobierno.",
                        "c": "Son refrendados por el Rey.",
                        "d": "Son convocados por el Presidente del Gobierno."
                    }
                },
                {
                    "number": "5",
                    "question": "Según el Título III \"De las Cortes Generales\" de la Constitución Española, las Cámaras podrán:",
                    "options": {
                        "a": "Recibir peticiones individuales y colectivas, siempre por escrito, quedando prohibida la presentación directa por manifestaciones ciudadanas.",
                        "b": "Delegar en las Comisiones Legislativas Permanentes la aprobación de proyectos o proposiciones de ley relativas a cuestiones internacionales.",
                        "c": "Reunirse en sesión extraordinaria a petición de la mayoría simple de los miembros de cualquiera de las Cámaras.",
                        "d": "Nombrar conjuntamente Comisiones de Investigación sobre asuntos de interés público. Sus conclusiones serán vinculantes para los Tribunales."
                    }
                },
                {
                    "number": "6",
                    "question": "El artículo 37 de la Ley Orgánica 3/2007, para la igualdad efectiva de mujeres y hombres, indica que la Corporación RTVE, en el ejercicio de su función, perseguirá en su programación:",
                    "options": {
                        "a": "Mostrar anuncios para la igualdad de forma habitual.",
                        "b": "Ofrecer trabajo a mujeres víctimas de violencia de género.",
                        "c": "Promover la incorporación de mujeres a puestos visibles ante las cámaras.",
                        "d": "Reflejar adecuadamente la presencia de las mujeres en los diversos ámbitos de la vida social."
                    }
                },
                {
                    "number": "7",
                    "question": "De acuerdo al artículo 7 de la Ley 59/2003, de 19 de diciembre, de firma electrónica, sobre certificados electrónicos de personas jurídicas, ¿a quién corresponde la responsabilidad de custodiar los datos de firma asociados a un certificado electrónico de persona jurídica?",
                    "options": {
                        "a": "Al consejero de la persona jurídica, cuya identificación se incluye en el certificado electrónico.",
                        "b": "A la persona física solicitante del certificado, cuya identificación se incluye en el certificado electrónico.",
                        "c": "Al prestador de servicios de certificación, por ser quien firma el certificado electrónico.",
                        "d": "Al representante de la persona jurídica de certificación, cuya identificación se incluye en el certificado electrónico."
                    }
                },
                {
                    "number": "8",
                    "question": "Según establece el artículo 86 de la Constitución Española, los Decretos-Leyes son normas con rango de Ley que aprueba el Gobierno:",
                    "options": {
                        "a": "Previa delegación de las Cortes, para casos de extraordinaria y urgente necesidad y una vez aprobados deben ser sometidos a debate y votación de totalidad al Congreso de los Diputados.",
                        "b": "Sin mediar delegación de las Cortes, aunque deben ser inmediatamente sometidos a debate y votación de totalidad al Congreso de los Diputados.",
                        "c": "En casos de extraordinaria y urgente necesidad sin mediar delegación de las Cortes, aunque una vez aprobados deben ser tramitados como proyectos de ley por el procedimiento de urgencia.",
                        "d": "Previa delegación de las Cortes, para casos de extraordinaria y urgente necesidad, y que una vez aprobados deben ser sometidos a debate y votación de totalidad al Congreso de los Diputados."
                    }
                },
                {
                    "number": "9",
                    "question": "Señale la respuesta correcta. Según se establece en la Ley de Firma Electrónica 59/2003 en su artículo 32, las multas establecidas al infractor serán de:",
                    "options": {
                        "a": "Por la comisión de infracciones muy graves, multa de 150.001 a 600.000 euros, por la comisión de infracciones graves, se impondrá al infractor multa de 30.001 a 150.000 euros y por la comisión de infracciones leves, se impondrá al infractor una multa por importe de hasta 30.000 euros.",
                        "b": "Por la comisión de infracciones muy graves, multa de 60.001 a 600.000 euros, por la comisión de infracciones graves, se impondrá al infractor multa de 6.001 a 60.000 euros y por la comisión de infracciones leves, se impondrá al infractor una multa por importe de hasta 6.000 euros.",
                        "c": "Por la comisión de infracciones muy graves, multa de 120.001 a 600.000 euros, por la comisión de infracciones graves, se impondrá al infractor multa de 12.001 a 120.000 euros y por la comisión de infracciones leves, se impondrá al infractor una multa por importe de hasta 12.000 euros.",
                        "d": "Por la comisión de infracciones muy graves, multa de 150.001 a 600.000 euros, por la comisión de infracciones graves, se impondrá al infractor multa de 15.001 a 150.000 euros y por la comisión de infracciones leves, se impondrá al infractor una multa por importe de hasta 15.000 euros."
                    }
                },
                {
                    "number": "10",
                    "question": "Según se establece en la política de certificación de la DGP para el DNI electrónico (DNIe) en lo relativo a las autoridades de certificación (AC) raíz y subordinadas, ¿cuál es el tamaño de esas claves?",
                    "options": {
                        "a": "El tamaño de las claves de la AC Raíz es de 2048 bits y el de claves de las AC subordinadas será de 4096 bits.",
                        "b": "Las claves de la AC Raíz y de las AC subordinadas serán de 2048 bits.",
                        "c": "El tamaño de las claves es: 4096 bits para la AC Raíz y 2048 bits para las AC Subordinadas.",
                        "d": "El tamaño de las claves de la AC Raíz es 8192 bits para la raíz y 4096 bits para las AC subordinadas."
                    }
                },
                {
                    "number": "11",
                    "question": "Señale qué medida es necesario adoptar en ficheros y tratamientos automatizados para establecer el nivel de seguridad medio según se establece en el Real Decreto 1720/2007",
                    "options": {
                        "a": "Control de acceso: Los usuarios tendrán acceso únicamente a aquellos recursos que precisen para el desarrollo de sus funciones.",
                        "b": "Identificación y autenticación: El responsable del fichero o tratamiento establecerá un mecanismo que limite la posibilidad de intentar reiteradamente el acceso no autorizado al sistema de información.",
                        "c": "Telecomunicaciones: La transmisión de datos de carácter personal a través de redes públicas o redes inalámbricas de comunicaciones electrónicas se realizará cifrando dichos datos o bien utilizando cualquier otro mecanismo que garantice que la información no sea inteligible ni manipulada por terceros.",
                        "d": "Registro de accesos: De cada intento de acceso se guardarán, como mínimo, la identificación del usuario, la fecha y hora en que se realizó, el fichero accedido, el tipo de acceso y si ha sido autorizado o denegado."
                    }
                },
                {
                    "number": "12",
                    "question": "Según la Ley Orgánica 15/1999, el Director de la Agencia de Protección de Datos es nombrado de entre:",
                    "options": {
                        "a": "Los miembros del Consejo Consultivo, mediante Orden Ministerial, y su mandato es de 4 años.",
                        "b": "Los miembros del Consejo Consultivo, mediante Real Decreto, y su mandato es de 4 años.",
                        "c": "Los miembros del Consejo Asesor del Ministerio de Justicia, mediante Orden Ministerial, y su mandato es de 5 años.",
                        "d": "Los miembros del Consejo de Gobierno, mediante Real Decreto, y su mandato es de 5 años."
                    }
                },
                {
                    "number": "13",
                    "question": "Según el artículo 39 de la Ley Orgánica 15/1999, serán objeto de inscripción en el Registro General de Protección de Datos, los datos relativos a los ficheros que sean necesarios para el ejercicio de los derechos de:",
                    "options": {
                        "a": "Información, actualización, cancelación, sustitución y oposición.",
                        "b": "Eliminación, acceso, rectificación, cancelación y omisión.",
                        "c": "Eliminación, acceso, rectificación, cancelación y sustitución.",
                        "d": "Información, acceso, rectificación, cancelación y oposición."
                    }
                },
                {
                    "number": "14",
                    "question": "Según la Ley 15/1999, en su artículo 31 acerca del censo promocional, indique cuál es el plazo de vigencia del uso de cada lista del censo promocional tal que concluido dicho plazo la lista perderá su carácter de fuente de acceso público:",
                    "options": {
                        "a": "6 meses.",
                        "b": "1 año.",
                        "c": "2 años.",
                        "d": "5 años."
                    }
                },
                {
                    "number": "15",
                    "question": "La dirección electrónica habilitada para la práctica de notificaciones regulada en el Real Decreto 1671/2009, por el que se desarrolla parcialmente la Ley 11/2007, tendrá vigencia indefinida excepto cuando no se utilice para la práctica de notificaciones por el transcurso de:",
                    "options": {
                        "a": "36 meses.",
                        "b": "60 meses.",
                        "c": "30 meses.",
                        "d": "24 meses."
                    }
                },
                {
                    "number": "16",
                    "question": "Según el artículo 18 del Real Decreto 1671/2009, sobre certificados de sede electrónica de la Administración General del Estado y de sus organismos públicos vinculados o dependientes, ¿cuál de los siguientes NO es uno de los contenidos mínimos a incluir en un certificado electrónico de sede electrónica?",
                    "options": {
                        "a": "Nombre descriptivo de la sede electrónica.",
                        "b": "Número de identificación fiscal de la entidad suscriptora.",
                        "c": "Descripción del tipo de certificado, con la denominación «sede electrónica».",
                        "d": "Dirección física de la entidad suscriptora."
                    }
                },
                {
                    "number": "17",
                    "question": "En el Real Decreto 3/2010, Esquema Nacional de Seguridad, se define como \"la propiedad o característica consistente en que las actuaciones de una entidad pueden ser imputadas exclusivamente a dicha entidad\" a la:",
                    "options": {
                        "a": "Confidencialidad.",
                        "b": "Integridad.",
                        "c": "Autenticidad.",
                        "d": "Trazabilidad."
                    }
                },
                {
                    "number": "18",
                    "question": "Respecto al sistema de código seguro de verificación, según el Real Decreto 1671/2009, ¿cuál de las siguientes es una afirmación verdadera?",
                    "options": {
                        "a": "Garantiza la confidencialidad de un documento.",
                        "b": "Garantiza la posibilidad de verificar el documento que tenga asociado por tiempo ilimitado.",
                        "c": "Su aplicación requerirá una orden ministerial del Director General del organismo público.",
                        "d": "Garantiza su vinculación con el documento generado y con el firmante."
                    }
                },
                {
                    "number": "19",
                    "question": "Según el artículo 40 de la Ley 11/2007 de acceso electrónico de los ciudadanos a los Servicios Públicos, sobre el Comité Sectorial de administración electrónica, ¿cuál de las siguientes opciones es una función de dicho órgano?",
                    "options": {
                        "a": "Desarrollar la normativa en materia de administración electrónica a nivel nacional.",
                        "b": "Asegurar la compatibilidad e interoperabilidad de los sistemas y aplicaciones empleados por las Administraciones Públicas.",
                        "c": "Elaborar un informe anual sobre el nivel de avance de la administración electrónica a nivel nacional, autonómico y municipal.",
                        "d": "Estimular el crecimiento en el empleo de la administración electrónica por parte de ciudadanos y empresas."
                    }
                },
                {
                    "number": "20",
                    "question": "Señale la opción correcta dentro de la siguiente relación de infraestructura/servicio común de la Administración y su definición:",
                    "options": {
                        "a": "ORVE - Solución integral de registro para organismos públicos, que cubre la gestión tanto de sus oficinas de registro como de las unidades tramitadoras destinatarias de la documentación.",
                        "b": "Sistema de información REINA - proporciona un Inventario unificado y común a toda la Administración de las unidades orgánicas / organismos públicos, sus oficinas asociadas y unidades de gestión económica presupuestaria, facilitando el mantenimiento distribuido y corresponsable de la información.",
                        "c": "GEISER Permite a las diferentes Administraciones Públicas consultar y gestionar los apoderamientos otorgados por un ciudadano para sus procedimientos.",
                        "d": "CIRCABC Herramienta de trabajo en grupo basada en tecnologías de Internet y en software de fuentes abiertas desarrollada por el Programa ISA de la Comisión de la Comunidad Europea y dirigido a necesidades de las Administraciones Públicas, Ciudadanos y Empresas."
                    }
                }
            ],
            "Bloque II": [
                {
                    "number": "21",
                    "question": "La velocidad del USB 3.0 es:",
                    "options": {
                        "a": "15 veces superior a la del USB 2.0.",
                        "b": "Similar a la del USB 2.0.",
                        "c": "10 veces superior a la del USB 2.0.",
                        "d": "480 Mbps."
                    }
                },
                {
                    "number": "22",
                    "question": "Globus Toolkit es:",
                    "options": {
                        "a": "Un framework de IBM que proporciona características para desarrollar, hacer debug y testear aplicaciones AJAX.",
                        "b": "Un conjunto de herramientas open source para construir grids computacionales.",
                        "c": "Un framework que contiene APIs y widgets para facilitar el desarrollo de aplicaciones Web que utilicen tecnología AJAX y programación paralela.",
                        "d": "Una librería Python, modular y extensible, que ofrece una API para desarrollar aplicaciones distribuidas."
                    }
                },
                {
                    "number": "23",
                    "question": "La máquina virtual usada por el sistema operativo Android en versiones anteriores a la 4.4, se denomina:",
                    "options": {
                        "a": "ART.",
                        "b": "Dalvik.",
                        "c": "Java VM.",
                        "d": "APK."
                    }
                },
                {
                    "number": "24",
                    "question": "En un sistema de memoria paginada, la tabla donde se almacena la correspondencia entre direcciones lógicas y físicas, se denomina:",
                    "options": {
                        "a": "TLB: Translation Lookaside Buffer.",
                        "b": "TTL: Translation Table Location.",
                        "c": "ATL: Address Translation Lookup.",
                        "d": "ATB: Address Table Buffer."
                    }
                },
                {
                    "number": "25",
                    "question": "¿Cuál de las siguientes opciones NO corresponde a un sistema de ficheros empleado en Sistemas Operativos GNU/Linux?",
                    "options": {
                        "a": "ext3",
                        "b": "mini fs",
                        "c": "ReiserFS",
                        "d": "Reiser4"
                    }
                },
                {
                    "number": "26",
                    "question": "El algoritmo de Peterson corresponde a:",
                    "options": {
                        "a": "Un algoritmo de ordenación de listas.",
                        "b": "Un método de ordenación en un sistema distribuido.",
                        "c": "Una política de sustitución de páginas al producirse un fallo de página.",
                        "d": "Una solución al problema de la exclusión mutua."
                    }
                },
                {
                    "number": "27",
                    "question": "¿Cuál de los siguientes comandos Unix impide que el archivo de nombre \"miarchivo\" sea modificado y ejecutado por el grupo al que pertenece dicho archivo?",
                    "options": {
                        "a": "chmod 766 miarchivo",
                        "b": "chmod a+xw miarchivo",
                        "c": "chmod 644 miarchivo",
                        "d": "chmod u=rwx go=wx miarchivo"
                    }
                },
                {
                    "number": "28",
                    "question": "¿Para qué se utiliza el servicio SMB de Windows?",
                    "options": {
                        "a": "Para configurar un proxy-inverso en la salida a Internet.",
                        "b": "Para realizar backups remotos y cronificados.",
                        "c": "Para compartir archivos e impresoras.",
                        "d": "Para configurar redes wifi."
                    }
                },
                {
                    "number": "29",
                    "question": "La expresión regular ^[9|6][0-9]8$ corresponde a números de ...",
                    "options": {
                        "a": "Ocho cifras que empiecen por 9 o por 6.",
                        "b": "Nueve cifras que empiecen por 9 o por 6.",
                        "c": "Ocho cifras que no empiecen por 9 ni por 6.",
                        "d": "Nueve cifras que no empiecen por 9 ni por 6."
                    }
                },
                {
                    "number": "30",
                    "question": "En Android, las aplicaciones se distribuyen en paquetes:",
                    "options": {
                        "a": "yum",
                        "b": "apk",
                        "c": "ipa",
                        "d": "gpm"
                    }
                },
                {
                    "number": "31",
                    "question": "Se quiere incluir una base de datos local en una aplicación para móviles Android. ¿Cuál de las siguientes sería la más adecuada?",
                    "options": {
                        "a": "SQLite.",
                        "b": "Oracle Pocket.",
                        "c": "SQL Server compact.",
                        "d": "MySQL micro edition."
                    }
                },
                {
                    "number": "32",
                    "question": "¿Cuál es la dirección de red de una dirección IP: 192.168.30.200 cuya máscara es 255.255.255.128?",
                    "options": {
                        "a": "192.168.30.0",
                        "b": "192.168.30.128",
                        "c": "192.168.30.255",
                        "d": "192.168.30.200"
                    }
                },
                {
                    "number": "33",
                    "question": "El comando utilizado en el lenguaje de programación Objective-C para imprimir mensajes en pantalla es:",
                    "options": {
                        "a": "NSLog",
                        "b": "WRLog",
                        "c": "Writeln",
                        "d": "Printline"
                    }
                },
                {
                    "number": "34",
                    "question": "¿Cuál de los siguientes lenguajes de programación utiliza las instrucciones begin/rescue/ensure/end para tratar las excepciones?",
                    "options": {
                        "a": "Perl.",
                        "b": "Python.",
                        "c": "Ruby.",
                        "d": "PHP."
                    }
                }
            ],
            "Bloque III": [
                {
                    "number": "1",
                    "question": "¿Cuál de las siguientes NO es una característica del modelo de ciclo de vida en cascada?",
                    "options": {
                        "a": "Fue un modelo definido por Winston W. Royce.",
                        "b": "Es un modelo que permite reaccionar a los cambios en los requisitos.",
                        "c": "Funciona bien en productos maduros y equipos débiles.",
                        "d": "Hasta las etapas finales del proyecto no ofrece una versión operativa del programa."
                    }
                },
                {
                    "number": "2",
                    "question": "En el modelo de ciclo de vida en espiral, ¿cuál de las siguientes afirmaciones es correcta?",
                    "options": {
                        "a": "Fue un modelo definido por Winston W. Royce.",
                        "b": "Es un modelo que permite reaccionar a los cambios en los requisitos.",
                        "c": "Funciona bien en productos maduros y equipos débiles.",
                        "d": "Hasta las etapas finales del proyecto no ofrece una versión operativa del programa."
                    }
                },
                {
                    "number": "3",
                    "question": "En el contexto de la gestión de proyectos de software, ¿qué significa el término \"stakeholder\"?",
                    "options": {
                        "a": "Un miembro del equipo de desarrollo.",
                        "b": "Un usuario final del software.",
                        "c": "Cualquier persona o grupo que tiene un interés o se ve afectado por el proyecto.",
                        "d": "El patrocinador del proyecto."
                    }
                },
                {
                    "number": "4",
                    "question": "La técnica de estimación de costes de software COCOMO (Constructive Cost Model) se basa en:",
                    "options": {
                        "a": "El número de líneas de código fuente.",
                        "b": "Los puntos de función.",
                        "c": "Una combinación de tamaño del software, atributos del proyecto y atributos del equipo.",
                        "d": "La complejidad algorítmica."
                    }
                },
                {
                    "number": "5",
                    "question": "¿Cuál de las siguientes es una métrica de calidad de software interna?",
                    "options": {
                        "a": "Fiabilidad.",
                        "b": "Usabilidad.",
                        "c": "Complejidad ciclomática.",
                        "d": "Eficiencia."
                    }
                },
                {
                    "number": "6",
                    "question": "En el contexto de las pruebas de software, ¿qué tipo de prueba se centra en verificar que los requisitos funcionales del sistema se cumplen?",
                    "options": {
                        "a": "Pruebas de rendimiento.",
                        "b": "Pruebas de usabilidad.",
                        "c": "Pruebas de regresión.",
                        "d": "Pruebas de aceptación."
                    }
                },
                {
                    "number": "7",
                    "question": "¿Cuál de los siguientes es un principio de diseño de software orientado a objetos?",
                    "options": {
                        "a": "Acoplamiento fuerte.",
                        "b": "Cohesión alta.",
                        "c": "Herencia múltiple (como práctica recomendada).",
                        "d": "Baja modularidad."
                    }
                },
                {
                    "number": "8",
                    "question": "En UML (Unified Modeling Language), ¿qué tipo de diagrama se utiliza para modelar la interacción entre objetos en un escenario específico?",
                    "options": {
                        "a": "Diagrama de clases.",
                        "b": "Diagrama de componentes.",
                        "c": "Diagrama de secuencia.",
                        "d": "Diagrama de estados."
                    }
                },
                {
                    "number": "9",
                    "question": "La refactorización de código se realiza para:",
                    "options": {
                        "a": "Añadir nuevas funcionalidades al software.",
                        "b": "Corregir errores de software.",
                        "c": "Mejorar la estructura interna del código sin cambiar su comportamiento externo.",
                        "d": "Optimizar el rendimiento del software."
                    }
                },
                {
                    "number": "10",
                    "question": "¿Qué es un patrón de diseño de software?",
                    "options": {
                        "a": "Un algoritmo para resolver un problema específico.",
                        "b": "Una solución general y reutilizable a un problema común en el diseño de software.",
                        "c": "Una herramienta de modelado de software.",
                        "d": "Un lenguaje de programación."
                    }
                },
                {
                    "number": "11",
                    "question": "En el contexto de la ingeniería de requisitos, ¿qué es un requisito no funcional?",
                    "options": {
                        "a": "Un requisito que describe lo que el sistema debe hacer.",
                        "b": "Un requisito que describe cómo el sistema debe funcionar (ej. rendimiento, seguridad).",
                        "c": "Un requisito que no es esencial para la funcionalidad básica del sistema.",
                        "d": "Un requisito que se puede implementar opcionalmente."
                    }
                },
                {
                    "number": "12",
                    "question": "La programación extrema (XP) es una metodología ágil que enfatiza:",
                    "options": {
                        "a": "Documentación exhaustiva y planificación detallada.",
                        "b": "Desarrollo iterativo e incremental, con ciclos cortos de retroalimentación.",
                        "c": "Jerarquía de equipo estricta y control centralizado.",
                        "d": "Enfoque en el diseño inicial completo antes de la codificación."
                    }
                },
                {
                    "number": "13",
                    "question": "¿Qué es la integración continua (CI)?",
                    "options": {
                        "a": "Un proceso de desarrollo de software donde los cambios de código se integran en un repositorio central de forma esporádica.",
                        "b": "Una práctica de desarrollo de software donde los desarrolladores integran el código en un repositorio compartido varias veces al día.",
                        "c": "Un proceso de despliegue de software automatizado.",
                        "d": "Una fase de pruebas de software al final del ciclo de vida."
                    }
                },
                {
                    "number": "14",
                    "question": "En el contexto de la seguridad del software, ¿qué es una inyección SQL?",
                    "options": {
                        "a": "Un ataque que explota vulnerabilidades en la validación de entrada para ejecutar comandos SQL maliciosos.",
                        "b": "Un tipo de ataque de denegación de servicio (DoS).",
                        "c": "Una técnica para optimizar consultas a bases de datos.",
                        "d": "Un método para cifrar datos en una base de datos."
                    }
                },
                {
                    "number": "15",
                    "question": "El concepto de \"Deuda Técnica\" en el desarrollo de software se refiere a:",
                    "options": {
                        "a": "El coste de las herramientas de desarrollo de software.",
                        "b": "El trabajo adicional de desarrollo que se acumula cuando se elige una solución fácil a corto plazo en lugar de una mejor solución a largo plazo.",
                        "c": "Los préstamos financieros para financiar un proyecto de software.",
                        "d": "La cantidad de bugs pendientes en el software."
                    }
                },
                {
                    "number": "16",
                    "question": "¿Qué es un sistema de control de versiones distribuido (DVCS) como Git?",
                    "options": {
                        "a": "Un sistema donde solo hay un repositorio central y los desarrolladores trabajan directamente en él.",
                        "b": "Un sistema donde cada desarrollador tiene una copia completa del repositorio, incluyendo el historial.",
                        "c": "Un sistema que solo permite el control de versiones de archivos de texto.",
                        "d": "Un sistema que requiere una conexión constante a un servidor central."
                    }
                },
                {
                    "number": "17",
                    "question": "En el desarrollo web, ¿qué hace el patrón MVC (Modelo-Vista-Controlador)?",
                    "options": {
                        "a": "Define cómo se almacenan los datos en una base de datos.",
                        "b": "Separa la lógica de negocio, la interfaz de usuario y la interacción del usuario en tres componentes distintos.",
                        "c": "Gestiona la seguridad de las aplicaciones web.",
                        "d": "Automatiza las pruebas de interfaz de usuario."
                    }
                },
                {
                    "number": "18",
                    "question": "¿Cuál es el propósito principal de un framework de desarrollo de software?",
                    "options": {
                        "a": "Proporcionar un conjunto de herramientas para la depuración de código.",
                        "b": "Ofrecer una estructura y un conjunto de funcionalidades predefinidas para acelerar el desarrollo de aplicaciones.",
                        "c": "Compilar código fuente a código máquina.",
                        "d": "Gestionar la base de datos de una aplicación."
                    }
                },
                {
                    "number": "19",
                    "question": "En la gestión de proyectos ágiles, ¿qué es un \"Sprint\"?",
                    "options": {
                        "a": "Una reunión diaria de seguimiento del proyecto.",
                        "b": "Un periodo de tiempo fijo y corto durante el cual el equipo trabaja para completar un conjunto de tareas.",
                        "c": "Una lista de tareas pendientes para el proyecto.",
                        "d": "La fase final del despliegue del software."
                    }
                },
                {
                    "number": "20",
                    "question": "La \"Ley de Conway\" en el desarrollo de software establece que:",
                    "options": {
                        "a": "El rendimiento de un sistema de software se duplica cada 18 meses.",
                        "b": "Las organizaciones que diseñan sistemas tienden a producir diseños que son copias de las estructuras de comunicación de esas organizaciones.",
                        "c": "El coste de corregir un error aumenta exponencialmente a medida que avanza el ciclo de vida del software.",
                        "d": "El 80% de los errores se encuentran en el 20% del código."
                    }
                },
                {
                    "number": "21",
                    "question": "¿Qué es un microservicio?",
                    "options": {
                        "a": "Una aplicación monolítica de pequeño tamaño.",
                        "b": "Una arquitectura de software donde una aplicación se construye como una colección de servicios pequeños, independientes y débilmente acoplados.",
                        "c": "Un servicio web que solo se utiliza internamente en una organización.",
                        "d": "Un componente de software que se ejecuta en un microcontrolador."
                    }
                },
                {
                    "number": "22",
                    "question": "En el contexto de DevOps, ¿qué significa \"Continuous Delivery\" (Entrega Continua)?",
                    "options": {
                        "a": "La automatización de la compilación y prueba del código.",
                        "b": "La capacidad de liberar nuevas versiones de software de forma rápida y segura en cualquier momento.",
                        "c": "El despliegue automático de software a producción.",
                        "d": "La integración constante de código en un repositorio central."
                    }
                },
                {
                    "number": "23",
                    "question": "¿Cuál es el propósito de un sistema de gestión de bases de datos (DBMS)?",
                    "options": {
                        "a": "Diseñar interfaces de usuario para aplicaciones.",
                        "b": "Gestionar el hardware de un servidor.",
                        "c": "Permitir a los usuarios y aplicaciones interactuar con una base de datos.",
                        "d": "Compilar código fuente a código ejecutable."
                    }
                },
                {
                    "number": "24",
                    "question": "En una base de datos relacional, ¿qué es una clave primaria?",
                    "options": {
                        "a": "Un campo que puede contener valores duplicados.",
                        "b": "Un campo que identifica de forma única cada registro en una tabla.",
                        "c": "Un campo que enlaza dos tablas.",
                        "d": "Un campo que almacena datos binarios."
                    }
                },
                {
                    "number": "25",
                    "question": "La normalización de bases de datos se realiza para:",
                    "options": {
                        "a": "Mejorar el rendimiento de las consultas.",
                        "b": "Reducir la redundancia de datos y mejorar la integridad de los datos.",
                        "c": "Aumentar la complejidad de las consultas.",
                        "d": "Facilitar la entrada de datos."
                    }
                },
                {
                    "number": "26",
                    "question": "¿Qué es ACID en el contexto de las transacciones de bases de datos?",
                    "options": {
                        "a": "Un tipo de base de datos NoSQL.",
                        "b": "Un conjunto de propiedades (Atomicidad, Consistencia, Aislamiento, Durabilidad) que garantizan la fiabilidad de las transacciones.",
                        "c": "Un lenguaje de consulta para bases de datos.",
                        "d": "Un modelo de datos para bases de datos orientadas a objetos."
                    }
                },
                {
                    "number": "27",
                    "question": "¿Cuál de los siguientes es un ejemplo de base de datos NoSQL de tipo clave-valor?",
                    "options": {
                        "a": "MySQL.",
                        "b": "PostgreSQL.",
                        "c": "Redis.",
                        "d": "SQL Server."
                    }
                },
                {
                    "number": "28",
                    "question": "En SQL, ¿qué cláusula se utiliza para filtrar filas basadas en una condición?",
                    "options": {
                        "a": "GROUP BY.",
                        "b": "ORDER BY.",
                        "c": "WHERE.",
                        "d": "HAVING."
                    }
                },
                {
                    "number": "29",
                    "question": "¿Qué es un índice en una base de datos?",
                    "options": {
                        "a": "Una tabla que almacena datos temporales.",
                        "b": "Una estructura de datos que mejora la velocidad de las operaciones de recuperación de datos en una tabla.",
                        "c": "Un tipo de restricción de integridad.",
                        "d": "Un campo que almacena la fecha de creación de un registro."
                    }
                },
                {
                    "number": "30",
                    "question": "En el diseño de bases de datos, ¿qué representa una relación de muchos a muchos (M:N)?",
                    "options": {
                        "a": "Una fila en una tabla se relaciona con una fila en otra tabla.",
                        "b": "Una fila en una tabla se relaciona con varias filas en otra tabla.",
                        "c": "Varias filas en una tabla se relacionan con varias filas en otra tabla.",
                        "d": "No es un tipo de relación válido en bases de datos relacionales."
                    }
                },
                {
                    "number": "31",
                    "question": "¿Qué es un \"trigger\" en una base de datos?",
                    "options": {
                        "a": "Una función que se ejecuta manualmente por el administrador de la base de datos.",
                        "b": "Un procedimiento almacenado que se ejecuta automáticamente en respuesta a un evento (INSERT, UPDATE, DELETE) en una tabla.",
                        "c": "Un tipo de índice para mejorar el rendimiento.",
                        "d": "Una vista que combina datos de varias tablas."
                    }
                },
                {
                    "number": "32",
                    "question": "El concepto de \"Big Data\" se refiere a:",
                    "options": {
                        "a": "Bases de datos relacionales muy grandes.",
                        "b": "Conjuntos de datos tan grandes y complejos que las herramientas de procesamiento de datos tradicionales no pueden manejarlos.",
                        "c": "Datos almacenados en la nube.",
                        "d": "Datos estructurados de gran volumen."
                    }
                },
                {
                    "number": "33",
                    "question": "¿Qué es un Data Warehouse?",
                    "options": {
                        "a": "Una base de datos transaccional para operaciones diarias.",
                        "b": "Un sistema que almacena datos históricos de múltiples fuentes para análisis y toma de decisiones.",
                        "c": "Un tipo de base de datos NoSQL.",
                        "d": "Una herramienta para la visualización de datos."
                    }
                },
                {
                    "number": "34",
                    "question": "En el contexto de la seguridad de bases de datos, ¿qué es la ofuscación de datos?",
                    "options": {
                        "a": "El cifrado de datos para proteger su confidencialidad.",
                        "b": "La alteración de datos para hacerlos incomprensibles sin la clave adecuada, pero manteniendo su formato original.",
                        "c": "La eliminación de datos sensibles de la base de datos.",
                        "d": "La realización de copias de seguridad de los datos."
                    }
                },
                {
                    "number": "35",
                    "question": "¿Qué es la replicación de bases de datos?",
                    "options": {
                        "a": "El proceso de importar datos de una base de datos a otra.",
                        "b": "El proceso de crear y mantener múltiples copias de una base de datos para mejorar la disponibilidad y el rendimiento.",
                        "c": "La copia de seguridad de una base de datos en una ubicación remota.",
                        "d": "La restauración de una base de datos a un estado anterior."
                    }
                },
                {
                    "number": "36",
                    "question": "En el diseño de bases de datos, ¿qué es una clave foránea (Foreign Key)?",
                    "options": {
                        "a": "Un campo que identifica de forma única cada registro en una tabla.",
                        "b": "Un campo en una tabla que se refiere a la clave primaria de otra tabla, estableciendo una relación entre ellas.",
                        "c": "Un campo que puede contener valores nulos.",
                        "d": "Un campo que se utiliza para ordenar los registros."
                    }
                },
                {
                    "number": "37",
                    "question": "¿Qué es un \"Stored Procedure\" en una base de datos?",
                    "options": {
                        "a": "Una consulta SQL que se ejecuta una sola vez.",
                        "b": "Un conjunto de sentencias SQL que se almacenan en la base de datos y se pueden ejecutar repetidamente.",
                        "c": "Un tipo de índice para mejorar el rendimiento.",
                        "d": "Una vista que combina datos de varias tablas."
                    }
                },
                {
                    "number": "38",
                    "question": "En una base de datos, ¿qué es una \"vista\" (View)?",
                    "options": {
                        "a": "Una tabla física que almacena datos.",
                        "b": "Una tabla virtual basada en el resultado de una consulta SQL, que no almacena datos por sí misma.",
                        "c": "Un tipo de índice para mejorar el rendimiento.",
                        "d": "Un archivo de registro de todas las operaciones realizadas en la base de datos."
                    }
                },
                {
                    "number": "39",
                    "question": "La \"Consistencia\" en ACID (Atomicidad, Consistencia, Aislamiento, Durabilidad) se refiere a que:",
                    "options": {
                        "a": "Todas las operaciones de una transacción se completan o ninguna de ellas.",
                        "b": "Una transacción lleva la base de datos de un estado válido a otro estado válido.",
                        "c": "Las transacciones concurrentes no interfieren entre sí.",
                        "d": "Los resultados de una transacción comprometida son permanentes."
                    }
                },
                {
                    "number": "40",
                    "question": "¿Qué es la \"Fragmentación\" en bases de datos?",
                    "options": {
                        "a": "El proceso de dividir una base de datos en múltiples tablas.",
                        "b": "La dispersión de datos en diferentes ubicaciones físicas o lógicas, lo que puede afectar el rendimiento.",
                        "c": "La creación de copias de seguridad incrementales.",
                        "d": "La eliminación de datos duplicados."
                    }
                },
                {
                    "number": "41",
                    "question": "¿Cuál es la principal ventaja de utilizar un ORM (Object-Relational Mapping)?",
                    "options": {
                        "a": "Eliminar la necesidad de una base de datos.",
                        "b": "Permitir a los desarrolladores interactuar con bases de datos utilizando objetos de su lenguaje de programación en lugar de SQL puro.",
                        "c": "Mejorar el rendimiento de las consultas SQL.",
                        "d": "Automatizar la creación de esquemas de bases de datos."
                    }
                },
                {
                    "number": "42",
                    "question": "En el contexto de la seguridad de bases de datos, ¿qué es el principio de \"privilegio mínimo\"?",
                    "options": {
                        "a": "Conceder a los usuarios todos los privilegios posibles para facilitar su trabajo.",
                        "b": "Conceder a los usuarios solo los privilegios necesarios para realizar sus tareas.",
                        "c": "Limitar el número de usuarios que pueden acceder a la base de datos.",
                        "d": "Aplicar cifrado a todos los datos de la base de datos."
                    }
                },
                {
                    "number": "43",
                    "question": "¿Qué es un \"deadlock\" en bases de datos?",
                    "options": {
                        "a": "Un error en la sintaxis SQL.",
                        "b": "Una situación en la que dos o más transacciones están esperando indefinidamente a que la otra libere un recurso que necesita.",
                        "c": "Una pérdida de datos debido a un fallo del sistema.",
                        "d": "Un tipo de bloqueo de tabla completo."
                    }
                },
                {
                    "number": "44",
                    "question": "En una base de datos, ¿qué es un \"cursor\"?",
                    "options": {
                        "a": "Un puntero a una fila específica en una tabla.",
                        "b": "Un mecanismo que permite a una aplicación procesar filas de un conjunto de resultados una por una.",
                        "c": "Un tipo de índice para mejorar el rendimiento.",
                        "d": "Un componente de la interfaz gráfica de usuario de un sistema de gestión de bases de datos."
                    }
                },
                {
                    "number": "45",
                    "question": "¿Qué es la \"escalabilidad\" en el contexto de las bases de datos?",
                    "options": {
                        "a": "La capacidad de una base de datos para reducir su tamaño.",
                        "b": "La capacidad de una base de datos para manejar un aumento en la carga de trabajo o el volumen de datos de manera eficiente.",
                        "c": "La facilidad con la que se pueden migrar datos de una base de datos a otra.",
                        "d": "La capacidad de una base de datos para recuperarse de fallos."
                    }
                },
                {
                    "number": "46",
                    "question": "En el diseño de bases de datos, ¿qué es una entidad débil?",
                    "options": {
                        "a": "Una entidad que no tiene atributos.",
                        "b": "Una entidad que no tiene una clave primaria propia y depende de la clave primaria de otra entidad (entidad fuerte) para su identificación única.",
                        "c": "Una entidad que tiene pocos atributos.",
                        "d": "Una entidad que no participa en ninguna relación."
                    }
                },
                {
                    "number": "47",
                    "question": "¿Qué es un \"commit\" en una transacción de base de datos?",
                    "options": {
                        "a": "Deshacer todos los cambios realizados en la transacción.",
                        "b": "Guardar permanentemente todos los cambios realizados en la transacción en la base de datos.",
                        "c": "Bloquear una tabla para que otras transacciones no puedan acceder a ella.",
                        "d": "Crear un punto de restauración para la base de datos."
                    }
                },
                {
                    "number": "48",
                    "question": "¿Cuál es la diferencia principal entre un Data Warehouse y una base de datos transaccional (OLTP)?",
                    "options": {
                        "a": "Un Data Warehouse se utiliza para operaciones diarias, mientras que una base de datos transaccional se utiliza para análisis históricos.",
                        "b": "Un Data Warehouse está optimizado para consultas complejas y análisis, mientras que una base de datos transaccional está optimizada para operaciones de lectura/escritura rápidas.",
                        "c": "Un Data Warehouse solo almacena datos estructurados, mientras que una base de datos transaccional almacena datos no estructurados.",
                        "d": "Un Data Warehouse no requiere normalización, mientras que una base de datos transaccional sí."
                    }
                },
                {
                    "number": "49",
                    "question": "En el contexto de la seguridad de bases de datos, ¿qué es la auditoría de bases de datos?",
                    "options": {
                        "a": "El proceso de realizar copias de seguridad de la base de datos.",
                        "b": "El proceso de revisar y registrar las actividades realizadas en la base de datos para detectar posibles violaciones de seguridad o problemas de rendimiento.",
                        "c": "La optimización de las consultas SQL.",
                        "d": "La normalización del esquema de la base de datos."
                    }
                },
                {
                    "number": "50",
                    "question": "¿Qué es un \"Snapshot\" en una base de datos?",
                    "options": {
                        "a": "Una copia de seguridad completa de la base de datos.",
                        "b": "Una vista estática de los datos de una base de datos en un momento específico.",
                        "c": "Un tipo de índice para mejorar el rendimiento.",
                        "d": "Un registro de transacciones recientes."
                    }
                },
                {
                    "number": "1",
                    "question": "La tasa de transferencia máxima que soporta el Serial Advanced Technology Attachment Express (SATA Express) es de hasta:",
                    "options": {
                        "a": "6 Gbps.",
                        "b": "16 Gbps.",
                        "c": "8 Gbps.",
                        "d": "3 Gbps."
                    }
                },
                {
                    "number": "2",
                    "question": "¿Qué características de seguridad presenta SNMPv3, tal y como se mencionan en la RFC 3418 (MIB for the SNMP Protocol)?",
                    "options": {
                        "a": "Se recomienda que los implementadores usen el modelo de seguridad basado en usuario y el control de acceso basado en vistas.",
                        "b": "Se obliga a que los implementadores usen el modelo basado en usuario y el control de acceso basado en vistas.",
                        "c": "En dicha RFC no se menciona ningún elemento de seguridad.",
                        "d": "En temas de seguridad, sólo hace mención al uso obligatorio del algoritmo de encriptación CBC (Cipher Block Chaining) de DES, conocido también por DES-56."
                    }
                },
                {
                    "number": "3",
                    "question": "Si se quiere interconectar mediante fibra óptica dos dispositivos separados a menos de 100 metros en un CPD a una velocidad de 40Gb/s, la categoría mínima de fibra óptica a usar debería ser:",
                    "options": {
                        "a": "OM1.",
                        "b": "OM2.",
                        "c": "OM3.",
                        "d": "OM4."
                    }
                }
            ],
            "Bloque IV": [
                {
                    "number": "1",
                    "question": "La tecnología de red que permite la transmisión de datos a través de la red eléctrica se denomina:",
                    "options": {
                        "a": "Ethernet.",
                        "b": "Wi-Fi.",
                        "c": "PLC (Power Line Communication).",
                        "d": "Bluetooth."
                    }
                },
                {
                    "number": "2",
                    "question": "¿Cuál de los siguientes protocolos se utiliza para la resolución de nombres de dominio a direcciones IP?",
                    "options": {
                        "a": "HTTP.",
                        "b": "FTP.",
                        "c": "DNS.",
                        "d": "SMTP."
                    }
                },
                {
                    "number": "3",
                    "question": "En el modelo OSI, ¿qué capa es responsable de la entrega de paquetes de origen a destino a través de múltiples redes?",
                    "options": {
                        "a": "Capa de Enlace de Datos.",
                        "b": "Capa Física.",
                        "c": "Capa de Transporte.",
                        "d": "Capa de Red."
                    }
                },
                {
                    "number": "4",
                    "question": "¿Qué tipo de ataque de seguridad de red implica la suplantación de la identidad de un usuario o dispositivo para obtener acceso no autorizado?",
                    "options": {
                        "a": "Denegación de Servicio (DoS).",
                        "b": "Man-in-the-Middle (MitM).",
                        "c": "Phishing.",
                        "d": "Spoofing."
                    }
                },
                {
                    "number": "5",
                    "question": "Un firewall de próxima generación (NGFW) se diferencia de un firewall tradicional en que:",
                    "options": {
                        "a": "Solo filtra el tráfico basado en direcciones IP y puertos.",
                        "b": "Integra funciones de inspección profunda de paquetes, control de aplicaciones y prevención de intrusiones.",
                        "c": "Solo protege contra ataques de denegación de servicio.",
                        "d": "Es un dispositivo puramente de hardware."
                    }
                },
                {
                    "number": "6",
                    "question": "¿Cuál de los siguientes es un protocolo de enrutamiento dinámico de tipo vector distancia?",
                    "options": {
                        "a": "OSPF.",
                        "b": "EIGRP.",
                        "c": "RIP.",
                        "d": "IS-IS."
                    }
                },
                {
                    "number": "7",
                    "question": "El concepto de \"VLAN\" (Virtual Local Area Network) se utiliza para:",
                    "options": {
                        "a": "Aumentar el ancho de banda de una red.",
                        "b": "Segmentar una red física en múltiples redes lógicas.",
                        "c": "Conectar redes de área amplia.",
                        "d": "Proporcionar acceso inalámbrico a una red."
                    }
                },
                {
                    "number": "8",
                    "question": "¿Qué es un \"Gateway\" en el contexto de redes?",
                    "options": {
                        "a": "Un dispositivo que conecta dos redes con protocolos diferentes.",
                        "b": "Un dispositivo que amplifica la señal de red.",
                        "c": "Un dispositivo que filtra el tráfico de red.",
                        "d": "Un dispositivo que asigna direcciones IP dinámicamente."
                    }
                },
                {
                    "number": "9",
                    "question": "El protocolo BGP (Border Gateway Protocol) se utiliza principalmente para:",
                    "options": {
                        "a": "Enrutamiento dentro de una red local.",
                        "b": "Enrutamiento entre sistemas autónomos en Internet.",
                        "c": "Asignación de direcciones IP.",
                        "d": "Resolución de nombres de dominio."
                    }
                },
                {
                    "number": "10",
                    "question": "¿Qué es un \"Proxy Inverso\"?",
                    "options": {
                        "a": "Un servidor que actúa como intermediario para las solicitudes de los clientes a otros servidores.",
                        "b": "Un servidor que se coloca delante de uno o más servidores y reenvía las solicitudes de los clientes a esos servidores.",
                        "c": "Un dispositivo que bloquea el tráfico no deseado.",
                        "d": "Un servidor que almacena copias de páginas web para acelerar el acceso."
                    }
                },
                {
                    "number": "11",
                    "question": "En una red Wi-Fi, ¿qué protocolo se utiliza para la seguridad y el cifrado de datos?",
                    "options": {
                        "a": "WEP.",
                        "b": "WPA2.",
                        "c": "WPS.",
                        "d": "SSID."
                    }
                },
                {
                    "number": "12",
                    "question": "¿Cuál de las siguientes afirmaciones sobre IPv6 es correcta?",
                    "options": {
                        "a": "Utiliza direcciones de 32 bits.",
                        "b": "No es compatible con IPv4.",
                        "c": "Permite un número mucho mayor de direcciones IP que IPv4.",
                        "d": "No soporta autoconfiguración."
                    }
                },
                {
                    "number": "13",
                    "question": "La \"banda de 800 MHz\" en el contexto de las telecomunicaciones móviles se refiere a:",
                    "options": {
                        "a": "Espectro radioeléctrico que se ha utilizado tradicionalmente para la televisión analógica y que ahora se está liberando para servicios móviles LTE/4G.",
                        "b": "Espectro radioeléctrico que se utiliza exclusivamente para comunicaciones satelitales.",
                        "c": "Una banda de frecuencia utilizada para redes Wi-Fi de corto alcance.",
                        "d": "Una banda de frecuencia utilizada para comunicaciones de radioaficionados."
                    }
                },
                {
                    "number": "14",
                    "question": "¿Qué es un \"Hotspot\" Wi-Fi?",
                    "options": {
                        "a": "Un dispositivo que bloquea las señales Wi-Fi.",
                        "b": "Un punto de acceso inalámbrico que permite a los usuarios conectarse a Internet.",
                        "c": "Un tipo de ataque de seguridad Wi-Fi.",
                        "d": "Un software para gestionar redes Wi-Fi."
                    }
                },
                {
                    "number": "15",
                    "question": "En el contexto de la telefonía IP, ¿qué protocolo se utiliza para establecer, gestionar y terminar sesiones de comunicación multimedia?",
                    "options": {
                        "a": "FTP.",
                        "b": "SIP (Session Initiation Protocol).",
                        "c": "SNMP.",
                        "d": "RTP."
                    }
                },
                {
                    "number": "16",
                    "question": "¿Cuál es la función principal de un servidor DHCP?",
                    "options": {
                        "a": "Asignar direcciones IP estáticas a los dispositivos de red.",
                        "b": "Asignar direcciones IP dinámicamente a los dispositivos de red.",
                        "c": "Resolver nombres de dominio a direcciones IP.",
                        "d": "Almacenar archivos compartidos en una red."
                    }
                },
                {
                    "number": "17",
                    "question": "La técnica de \"NAT\" (Network Address Translation) se utiliza para:",
                    "options": {
                        "a": "Aumentar el número de direcciones IP públicas disponibles.",
                        "b": "Traducir direcciones IP privadas a direcciones IP públicas y viceversa.",
                        "c": "Cifrar el tráfico de red.",
                        "d": "Segmentar una red en subredes."
                    }
                },
                {
                    "number": "18",
                    "question": "¿Qué es un \"VPN\" (Virtual Private Network)?",
                    "options": {
                        "a": "Una red local que conecta dispositivos en un área geográfica limitada.",
                        "b": "Una conexión segura y cifrada a través de una red pública, como Internet.",
                        "c": "Un tipo de red inalámbrica de corto alcance.",
                        "d": "Una red que solo permite el acceso a sitios web específicos."
                    }
                },
                {
                    "number": "19",
                    "question": "En el contexto de la seguridad de red, ¿qué es un \"IDS\" (Intrusion Detection System)?",
                    "options": {
                        "a": "Un dispositivo que bloquea el tráfico no deseado.",
                        "b": "Un sistema que monitorea el tráfico de red en busca de actividades sospechosas o maliciosas.",
                        "c": "Un software para gestionar contraseñas.",
                        "d": "Un dispositivo que asigna direcciones IP dinámicamente."
                    }
                },
                {
                    "number": "20",
                    "question": "¿Cuál de los siguientes es un protocolo para la transferencia segura de archivos?",
                    "options": {
                        "a": "FTP.",
                        "b": "TFTP.",
                        "c": "SFTP (SSH File Transfer Protocol).",
                        "d": "HTTP."
                    }
                },
                {
                    "number": "21",
                    "question": "El concepto de \"SDN\" (Software-Defined Networking) se refiere a:",
                    "options": {
                        "a": "Una red que se gestiona manualmente.",
                        "b": "Una arquitectura de red que desacopla el plano de control del plano de datos, permitiendo una gestión más flexible y programable.",
                        "c": "Una red que utiliza solo dispositivos de hardware.",
                        "d": "Una red que no requiere configuración."
                    }
                },
                {
                    "number": "22",
                    "question": "¿Qué es un \"Load Balancer\" (Balanceador de Carga)?",
                    "options": {
                        "a": "Un dispositivo que distribuye el tráfico de red entre múltiples servidores para optimizar el rendimiento y la disponibilidad.",
                        "b": "Un dispositivo que bloquea el tráfico no deseado.",
                        "c": "Un software para monitorear el uso de la red.",
                        "d": "Un dispositivo que asigna direcciones IP dinámicamente."
                    }
                },
                {
                    "number": "23",
                    "question": "En el contexto de las redes inalámbricas, ¿qué es un \"Mesh Network\" (Red de Malla)?",
                    "options": {
                        "a": "Una red donde todos los dispositivos se conectan a un punto de acceso central.",
                        "b": "Una red donde los nodos se conectan directamente entre sí de forma dinámica y no jerárquica para enrutar datos.",
                        "c": "Una red que solo se utiliza para comunicaciones de voz.",
                        "d": "Una red que requiere cables para la conexión de dispositivos."
                    }
                },
                {
                    "number": "24",
                    "question": "¿Cuál es el propósito principal de un sistema de \"QoS\" (Quality of Service) en una red?",
                    "options": {
                        "a": "Aumentar la seguridad de la red.",
                        "b": "Priorizar ciertos tipos de tráfico de red para garantizar un rendimiento óptimo.",
                        "c": "Reducir el consumo de energía de los dispositivos de red.",
                        "d": "Automatizar la configuración de la red."
                    }
                },
                {
                    "number": "25",
                    "question": "El protocolo SNMP (Simple Network Management Protocol) se utiliza para:",
                    "options": {
                        "a": "Transferencia de archivos.",
                        "b": "Gestión y monitoreo de dispositivos de red.",
                        "c": "Resolución de nombres de dominio.",
                        "d": "Asignación de direcciones IP."
                    }
                },
                {
                    "number": "26",
                    "question": "¿Qué es un \"honeypot\" en seguridad de red?",
                    "options": {
                        "a": "Un dispositivo de red que protege contra ataques.",
                        "b": "Un sistema diseñado para atraer y atrapar a atacantes informáticos, permitiendo monitorear sus actividades.",
                        "c": "Un software para cifrar el tráfico de red.",
                        "d": "Un tipo de firewall de próxima generación."
                    }
                },
                {
                    "number": "27",
                    "question": "En el modelo OSI, ¿qué capa es responsable de la conversión de datos para que puedan ser entendidos por la aplicación?",
                    "options": {
                        "a": "Capa de Sesión.",
                        "b": "Capa de Presentación.",
                        "c": "Capa de Aplicación.",
                        "d": "Capa de Transporte."
                    }
                },
                {
                    "number": "28",
                    "question": "¿Cuál de los siguientes es un protocolo de correo electrónico para enviar mensajes?",
                    "options": {
                        "a": "POP3.",
                        "b": "IMAP.",
                        "c": "SMTP.",
                        "d": "HTTP."
                    }
                },
                {
                    "number": "29",
                    "question": "La \"latencia\" en una red se refiere a:",
                    "options": {
                        "a": "La cantidad de datos que se pueden transmitir por unidad de tiempo.",
                        "b": "El retardo de tiempo que tarda un paquete en viajar de un punto a otro en la red.",
                        "c": "La capacidad de una red para manejar un gran volumen de tráfico.",
                        "d": "La seguridad de la red."
                    }
                },
                {
                    "number": "30",
                    "question": "¿Qué es un \"switch\" de red?",
                    "options": {
                        "a": "Un dispositivo que conecta múltiples dispositivos en una red y reenvía el tráfico solo al puerto de destino.",
                        "b": "Un dispositivo que amplifica la señal de red.",
                        "c": "Un dispositivo que asigna direcciones IP dinámicamente.",
                        "d": "Un dispositivo que filtra el tráfico de red."
                    }
                },
                {
                    "number": "31",
                    "question": "En el contexto de la seguridad de red, ¿qué es un \"DLP\" (Data Loss Prevention)?",
                    "options": {
                        "a": "Un sistema que detecta intrusiones en la red.",
                        "b": "Un conjunto de herramientas y procesos diseñados para prevenir la pérdida, robo o uso indebido de datos sensibles.",
                        "c": "Un software para cifrar el tráfico de red.",
                        "d": "Un dispositivo que gestiona las direcciones IP."
                    }
                },
                {
                    "number": "32",
                    "question": "¿Cuál es el propósito de un servidor DNS recursivo?",
                    "options": {
                        "a": "Almacenar registros DNS para un dominio específico.",
                        "b": "Responder a las consultas DNS de los clientes y, si no tiene la información, consultar a otros servidores DNS hasta encontrarla.",
                        "c": "Asignar direcciones IP dinámicamente.",
                        "d": "Gestionar el tráfico de red."
                    }
                },
                {
                    "number": "33",
                    "question": "La tecnología \"NFV\" (Network Functions Virtualization) se refiere a:",
                    "options": {
                        "a": "La implementación de funciones de red (como firewalls, routers) como software que se ejecuta en servidores estándar, en lugar de hardware dedicado.",
                        "b": "La creación de redes virtuales privadas.",
                        "c": "La gestión manual de las configuraciones de red.",
                        "d": "El uso de cables de red de fibra óptica."
                    }
                },
                {
                    "number": "34",
                    "question": "¿Qué es un \"Content Delivery Network\" (CDN)?",
                    "options": {
                        "a": "Una red que solo entrega contenido estático.",
                        "b": "Un sistema distribuido de servidores que entrega contenido web a los usuarios basándose en su ubicación geográfica, para mejorar la velocidad y el rendimiento.",
                        "c": "Una red que se utiliza para transmitir video en vivo.",
                        "d": "Una red que almacena copias de seguridad de datos."
                    }
                },
                {
                    "number": "35",
                    "question": "En el contexto de la seguridad de red, ¿qué es un \"SIEM\" (Security Information and Event Management)?",
                    "options": {
                        "a": "Un software para cifrar el tráfico de red.",
                        "b": "Un sistema que centraliza y analiza los registros y eventos de seguridad de múltiples fuentes para detectar y responder a amenazas.",
                        "c": "Un dispositivo que bloquea el tráfico no deseado.",
                        "d": "Un sistema para gestionar contraseñas."
                    }
                },
                {
                    "number": "36",
                    "question": "¿Cuál de los siguientes es un protocolo de tunelización utilizado para crear VPNs?",
                    "options": {
                        "a": "HTTP.",
                        "b": "FTP.",
                        "c": "IPsec.",
                        "d": "SMTP."
                    }
                },
                {
                    "number": "37",
                    "question": "El concepto de \"Zero Trust\" en seguridad de red implica que:",
                    "options": {
                        "a": "Se confía implícitamente en todos los usuarios y dispositivos dentro de la red.",
                        "b": "No se confía en ningún usuario o dispositivo, ya sea dentro o fuera de la red, y se verifica cada solicitud de acceso.",
                        "c": "Solo se confía en los dispositivos que están conectados por cable.",
                        "d": "La seguridad se basa únicamente en firewalls perimetrales."
                    }
                },
                {
                    "number": "38",
                    "question": "¿Qué es un \"Packet Sniffer\"?",
                    "options": {
                        "a": "Un dispositivo que bloquea paquetes de red.",
                        "b": "Una herramienta que captura y analiza el tráfico de paquetes que fluye a través de una red.",
                        "c": "Un software para cifrar paquetes de red.",
                        "d": "Un dispositivo que genera paquetes de red para pruebas."
                    }
                },
                {
                    "number": "39",
                    "question": "En el contexto de las redes móviles, ¿qué significa \"LTE\"?",
                    "options": {
                        "a": "Local Telecommunication Exchange.",
                        "b": "Long Term Evolution.",
                        "c": "Limited Traffic Encryption.",
                        "d": "Low Transmission Efficiency."
                    }
                },
                {
                    "number": "40",
                    "question": "¿Cuál es la función principal de un router?",
                    "options": {
                        "a": "Conectar dispositivos dentro de una misma red local.",
                        "b": "Reenviar paquetes de datos entre diferentes redes.",
                        "c": "Amplificar la señal Wi-Fi.",
                        "d": "Asignar direcciones IP dinámicamente."
                    }
                },
                {
                    "number": "41",
                    "question": "La \"convergencia\" en una red se refiere a:",
                    "options": {
                        "a": "El proceso por el cual todos los routers en una red alcanzan un estado de conocimiento consistente sobre la topología de la red.",
                        "b": "La capacidad de una red para transmitir datos de voz y video simultáneamente.",
                        "c": "La unión de múltiples redes en una sola.",
                        "d": "La capacidad de una red para recuperarse de fallos."
                    }
                },
                {
                    "number": "42",
                    "question": "¿Qué es un \"DMZ\" (Demilitarized Zone) en seguridad de red?",
                    "options": {
                        "a": "Una red interna altamente segura.",
                        "b": "Una subred que expone servicios orientados al exterior a una red no confiable (generalmente Internet) mientras aísla la red interna.",
                        "c": "Una red que solo permite el tráfico cifrado.",
                        "d": "Una red utilizada para pruebas de seguridad."
                    }
                },
                {
                    "number": "43",
                    "question": "¿Cuál de los siguientes es un protocolo de capa de transporte que proporciona una conexión fiable y orientada a la conexión?",
                    "options": {
                        "a": "UDP.",
                        "b": "IP.",
                        "c": "TCP.",
                        "d": "ICMP."
                    }
                },
                {
                    "number": "44",
                    "question": "El concepto de \"Fog Computing\" en redes se refiere a:",
                    "options": {
                        "a": "Un tipo de computación en la nube centralizada.",
                        "b": "Una extensión de la computación en la nube que acerca la computación, el almacenamiento y las aplicaciones a la fuente de los datos (el \"borde\" de la red).",
                        "c": "Un sistema de computación que utiliza niebla para enfriar los servidores.",
                        "d": "Un método para cifrar datos en la nube."
                    }
                },
                {
                    "number": "45",
                    "question": "¿Qué es un \"Intranet\"?",
                    "options": {
                        "a": "Una red pública accesible por cualquier persona.",
                        "b": "Una red privada utilizada dentro de una organización, que utiliza tecnologías de Internet.",
                        "c": "Una red que conecta diferentes organizaciones.",
                        "d": "Una red que solo permite el acceso a sitios web externos."
                    }
                },
                {
                    "number": "46",
                    "question": "En el contexto de la seguridad de red, ¿qué es un \"WAF\" (Web Application Firewall)?",
                    "options": {
                        "a": "Un firewall que protege la red a nivel de capa 3.",
                        "b": "Un firewall diseñado específicamente para proteger aplicaciones web de ataques a nivel de aplicación.",
                        "c": "Un firewall que solo filtra el tráfico inalámbrico.",
                        "d": "Un software para gestionar firewalls."
                    }
                },
                {
                    "number": "47",
                    "question": "¿Cuál es la principal diferencia entre un hub y un switch?",
                    "options": {
                        "a": "Un hub es más inteligente que un switch.",
                        "b": "Un hub retransmite el tráfico a todos los puertos, mientras que un switch reenvía el tráfico solo al puerto de destino.",
                        "c": "Un switch es un dispositivo de capa física, mientras que un hub es un dispositivo de capa de enlace de datos.",
                        "d": "Un hub es más caro que un switch."
                    }
                },
                {
                    "number": "48",
                    "question": "El protocolo ARP (Address Resolution Protocol) se utiliza para:",
                    "options": {
                        "a": "Resolver nombres de dominio a direcciones IP.",
                        "b": "Resolver direcciones IP a direcciones MAC.",
                        "c": "Asignar direcciones IP dinámicamente.",
                        "d": "Transferir archivos entre dispositivos."
                    }
                },
                {
                    "number": "49",
                    "question": "¿Qué es un \"Load Balancer\" (Balanceador de Carga)?",
                    "options": {
                        "a": "Un dispositivo que distribuye el tráfico de red entre múltiples servidores para optimizar el rendimiento y la disponibilidad.",
                        "b": "Un dispositivo que bloquea el tráfico no deseado.",
                        "c": "Un software para monitorear el uso de la red.",
                        "d": "Un dispositivo que asigna direcciones IP dinámicamente."
                    }
                },
                {
                    "number": "50",
                    "question": "La \"espectro recuperado\" o \"dividendo digital\" se refiere a:",
                    "options": {
                        "a": "Espectro radioeléctrico que se ha utilizado tradicionalmente para la televisión analógica y que ahora se está liberando para servicios móviles LTE/4G.",
                        "b": "Espectro asignado a la emisión de televisión analógica, que va a pasar a ser utilizado por tecnologías LTE/4G.",
                        "c": "Espectro recuperado al hacerse efectiva la transición a la televisión digital terrestre.",
                        "d": "Es el proceso de reordenación de algunos canales TDT, para liberar las frecuencias radioeléctricas de la banda de 800 MHz que será utilizada por tecnologías móviles LTE/4G."
                    }
                },
                {
                    "number": "1",
                    "question": "La tasa de transferencia máxima que soporta el Serial Advanced Technology Attachment Express (SATA Express) es de hasta:",
                    "options": {
                        "a": "6 Gbps.",
                        "b": "16 Gbps.",
                        "c": "8 Gbps.",
                        "d": "3 Gbps."
                    }
                },
                {
                    "number": "2",
                    "question": "¿Qué características de seguridad presenta SNMPv3, tal y como se mencionan en la RFC 3418 (MIB for the SNMP Protocol)?",
                    "options": {
                        "a": "Se recomienda que los implementadores usen el modelo de seguridad basado en usuario y el control de acceso basado en vistas.",
                        "b": "Se obliga a que los implementadores usen el modelo basado en usuario y el control de acceso basado en vistas.",
                        "c": "En dicha RFC no se menciona ningún elemento de seguridad.",
                        "d": "En temas de seguridad, sólo hace mención al uso obligatorio del algoritmo de encriptación CBC (Cipher Block Chaining) de DES, conocido también por DES-56."
                    }
                },
                {
                    "number": "3",
                    "question": "Si se quiere interconectar mediante fibra óptica dos dispositivos separados a menos de 100 metros en un CPD a una velocidad de 40Gb/s, la categoría mínima de fibra óptica a usar debería ser:",
                    "options": {
                        "a": "OM1.",
                        "b": "OM2.",
                        "c": "OM3.",
                        "d": "OM4."
                    }
                }
            ]
        };

        // Correct answers extracted from "Plantilla_definitiva202014.pdf"
        const correctAnswers = {
            "Bloque I": {
                "1": "a", "2": "a", "3": "a", "4": "a", "5": "a",
                "6": "d", "7": "b", "8": "b", "9": "a", "10": "c",
                "11": "b", "12": "d", "13": "d", "14": "b", "15": "d",
                "16": "d", "17": "d", "18": "d", "19": "b", "20": "d"
            },
            "Bloque II": {
                "21": "c", "22": "b", "23": "b", "24": "a", "25": "b",
                "26": "d", "27": "c", "28": "c", "29": "b", "30": "b",
                "31": "a", "32": "b", "33": "a", "34": "c"
            },
            "Bloque III": {
                "1": "b", "2": "b", "3": "c", "4": "c", "5": "c",
                "6": "d", "7": "b", "8": "c", "9": "c", "10": "b",
                "11": "b", "12": "b", "13": "b", "14": "a", "15": "b",
                "16": "b", "17": "b", "18": "b", "19": "b", "20": "b",
                "21": "b", "22": "b", "23": "c", "24": "b", "25": "b",
                "26": "b", "27": "c", "28": "c", "29": "b", "30": "c",
                "31": "b", "32": "b", "33": "b", "34": "b", "35": "b",
                "36": "b", "37": "b", "38": "b", "39": "b", "40": "b",
                "41": "b", "42": "b", "43": "b", "44": "b", "45": "b",
                "46": "b", "47": "b", "48": "b", "49": "b", "50": "b",
                "1": "b", "2": "a", "3": "d" // Reserve questions
            },
            "Bloque IV": {
                "1": "c", "2": "c", "3": "d", "4": "d", "5": "b",
                "6": "c", "7": "b", "8": "a", "9": "b", "10": "b",
                "11": "b", "12": "c", "13": "a", "14": "b", "15": "b",
                "16": "b", "17": "b", "18": "b", "19": "b", "20": "c",
                "21": "b", "22": "a", "23": "b", "24": "b", "25": "b",
                "26": "b", "27": "b", "28": "c", "29": "b", "30": "a",
                "31": "b", "32": "b", "33": "a", "34": "b", "35": "b",
                "36": "c", "37": "b", "38": "b", "39": "b", "40": "b",
                "41": "a", "42": "b", "43": "c", "44": "b", "45": "b",
                "46": "b", "47": "b", "48": "b", "49": "a", "50": "c",
                "1": "b", "2": "b", "3": "b" // Reserve questions
            }
        };

        // Combine all questions into a single array
        let allQuestions = [];
        let flatCorrectAnswers = [];

        function addBlockQuestions(blockName) {
            questionsData[blockName].forEach((q) => {
                allQuestions.push(q);
                flatCorrectAnswers.push(correctAnswers[blockName][q.number]);
            });
        }

        addBlockQuestions("Bloque I");
        addBlockQuestions("Bloque II");
        addBlockQuestions("Bloque III");
        addBlockQuestions("Bloque IV");

        let currentQuestions = allQuestions; // Now currentQuestions contains all questions
        let currentQuestionIndex = 0;
        let userAnswers = {}; // To store user answers

        const quizContainerDiv = document.getElementById('quiz-container');
        const resultsContainerDiv = document.getElementById('results-container'); // New results container
        const currentBlockDisplay = document.getElementById('current-block-display');
        const questionNumberDisplay = document.getElementById('question-number-display');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackMessage = document.getElementById('feedback-message');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const resetButton = document.getElementById('reset-button'); // Reset button
        const restartQuizButton = document.getElementById('restart-quiz-button'); // New restart quiz button in results

        // LocalStorage keys
        const LOCAL_STORAGE_INDEX_KEY = 'quizCurrentQuestionIndex';
        const LOCAL_STORAGE_ANSWERS_KEY = 'quizUserAnswers';

        // Function to save progress to LocalStorage
        function saveProgress() {
            localStorage.setItem(LOCAL_STORAGE_INDEX_KEY, currentQuestionIndex);
            localStorage.setItem(LOCAL_STORAGE_ANSWERS_KEY, JSON.stringify(userAnswers));
        }

        // Function to load progress from LocalStorage
        function loadProgress() {
            const savedIndex = localStorage.getItem(LOCAL_STORAGE_INDEX_KEY);
            const savedAnswers = localStorage.getItem(LOCAL_STORAGE_ANSWERS_KEY);

            if (savedIndex !== null) {
                currentQuestionIndex = parseInt(savedIndex, 10);
            }
            if (savedAnswers !== null) {
                userAnswers = JSON.parse(savedAnswers);
            }
        }

        // Function to reset the test
        function resetQuiz() {
            localStorage.removeItem(LOCAL_STORAGE_INDEX_KEY);
            localStorage.removeItem(LOCAL_STORAGE_ANSWERS_KEY);
            currentQuestionIndex = 0;
            userAnswers = {};
            quizContainerDiv.classList.remove('hidden'); // Show quiz container
            resultsContainerDiv.classList.add('hidden'); // Hide results container
            loadQuestion(); // Load the first question
        }

        // Function to load a question
        function loadQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            questionNumberDisplay.textContent = `${currentQuestionIndex + 1} de ${currentQuestions.length}`;
            questionText.textContent = question.question;
            optionsContainer.innerHTML = '';
            feedbackMessage.classList.add('hidden'); // Hide feedback message

            const optionsKeys = Object.keys(question.options);
            optionsKeys.forEach(key => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'question-option p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-100';
                optionDiv.dataset.option = key;
                optionDiv.innerHTML = `<span class="font-semibold uppercase">${key})</span> ${question.options[key]}`;
                optionsContainer.appendChild(optionDiv);

                // Restore user selection if already answered
                if (userAnswers[currentQuestionIndex]) {
                    // If there is already an answer, disable clicks and show the solution
                    optionDiv.classList.add('pointer-events-none');
                    if (userAnswers[currentQuestionIndex] === key) {
                        if (key === flatCorrectAnswers[currentQuestionIndex]) {
                            optionDiv.classList.add('correct');
                        } else {
                            optionDiv.classList.add('selected-incorrect');
                        }
                    }
                    if (key === flatCorrectAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex] !== flatCorrectAnswers[currentQuestionIndex]) {
                        optionDiv.classList.add('correct-highlight');
                    }
                    showSolution(userAnswers[currentQuestionIndex]); // Show feedback if already answered
                } else {
                    optionDiv.addEventListener('click', () => selectOption(key));
                }
            });

            updateNavigationButtons();
            saveProgress(); // Save progress every time a question is loaded
        }

        // Function to select an option
        function selectOption(selectedOption) {
            // Disable clicks on options once one is selected
            Array.from(optionsContainer.children).forEach(optionDiv => {
                optionDiv.removeEventListener('click', () => selectOption(optionDiv.dataset.option));
                optionDiv.classList.remove('bg-blue-200', 'border-blue-500'); // Clear previous selection styles
                optionDiv.classList.add('pointer-events-none'); // Disable clicks
            });

            userAnswers[currentQuestionIndex] = selectedOption; // Save user's answer
            saveProgress(); // Save user's answer
            showSolution(selectedOption);
        }

        // Function to show the solution
        function showSolution(selectedOption) {
            const correctAnswer = flatCorrectAnswers[currentQuestionIndex]; // Use the flattened array
            const optionsDivs = Array.from(optionsContainer.children);

            optionsDivs.forEach(optionDiv => {
                optionDiv.classList.remove('correct', 'incorrect', 'selected-incorrect', 'correct-highlight');
            });

            const selectedOptionDiv = optionsDivs.find(div => div.dataset.option === selectedOption);
            const correctOptionDiv = optionsDivs.find(div => div.dataset.option === correctAnswer);

            if (selectedOption === correctAnswer) {
                feedbackMessage.textContent = '¡Correcto!';
                feedbackMessage.className = 'text-center mt-4 mb-6 text-lg font-semibold text-green-700';
                selectedOptionDiv.classList.add('correct');
            } else {
                feedbackMessage.textContent = 'Incorrecto. La respuesta correcta es: ' + correctAnswer.toUpperCase();
                feedbackMessage.className = 'text-center mt-4 mb-6 text-lg font-semibold text-red-700';
                selectedOptionDiv.classList.add('selected-incorrect');
                correctOptionDiv.classList.add('correct-highlight'); // Highlight the correct one
            }
            feedbackMessage.classList.remove('hidden');
        }

        // Function to update navigation buttons
        function updateNavigationButtons() {
            prevButton.disabled = currentQuestionIndex === 0;
            nextButton.disabled = currentQuestionIndex === currentQuestions.length - 1 && userAnswers[currentQuestionIndex] !== undefined; // Disable next if last question and answered
            // If it's the last question and it has been answered, the "next" button should trigger showing results
            if (currentQuestionIndex === currentQuestions.length - 1 && userAnswers[currentQuestionIndex] !== undefined) {
                nextButton.textContent = 'Ver Resultados';
            } else {
                nextButton.textContent = 'Siguiente';
            }
        }

        // Function to show test results
        function showResults() {
            let correctCount = 0;
            let incorrectCount = 0;

            for (let i = 0; i < currentQuestions.length; i++) {
                const userAnswer = userAnswers[i];
                const correctAnswer = flatCorrectAnswers[i];

                if (userAnswer !== undefined) { // Only count if the question was answered
                    if (userAnswer === correctAnswer) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            }

            document.getElementById('correct-answers-count').textContent = correctCount;
            document.getElementById('incorrect-answers-count').textContent = incorrectCount;

            quizContainerDiv.classList.add('hidden'); // Hide quiz
            resultsContainerDiv.classList.remove('hidden'); // Show results
        }


        // Event Listeners for navigation buttons
        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        });

        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else if (currentQuestionIndex === currentQuestions.length - 1 && userAnswers[currentQuestionIndex] !== undefined) {
                // If it's the last question and it's answered, show results
                showResults();
            }
        });

        // Event Listener for reset button
        resetButton.addEventListener('click', resetQuiz);

        // Event Listener for restart quiz button in results
        restartQuizButton.addEventListener('click', resetQuiz);

        // Initialize the test when the page loads
        window.onload = () => {
            loadProgress(); // Load progress at the start
            loadQuestion();
        };
    </script>
</body>
</html>

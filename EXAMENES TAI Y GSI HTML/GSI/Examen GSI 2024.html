<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EXAMEN GSI 2024 - Cuestionario</title>
    <!-- Enlace a Tailwind CSS para las clases de la estructura HTML -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS completo para el estilo del quiz -->
    <style>
        /* Estilos generales del cuerpo */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }

        /* Contenedor principal del quiz */
        .container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            transition: all 0.3s ease-in-out;
        }

        /* Estilo para los botones de opción */
        .option-btn {
            background-color: #e2e8f0; /* Fondo gris claro */
            color: #1f2937; /* Texto oscuro */
            border: 2px solid #cbd5e1;
            padding: 12px 20px;
            margin-bottom: 12px;
            border-radius: 10px;
            text-align: left;
            width: 100%;
            transition: all 0.2s ease;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .option-btn:hover:not(.correct):not(.incorrect):not(.disabled) {
            background-color: #c0d1e8; /* Un poco más oscuro en hover */
            border-color: #94a3b8;
        }

        /* Estilo para la opción seleccionada (temporalmente, antes de calificar) */
        .option-btn.selected {
             background-color: #93c5fd; /* Azul más suave antes de calificar */
             color: #1e3a8a;
             border-color: #3b82f6;
        }

        /* Estilo para la respuesta correcta */
        .option-btn.correct {
            background-color: #10b981; /* Verde esmeralda */
            color: white;
            border-color: #059669;
            pointer-events: none; /* Deshabilitar clics una vez calificada */
        }

        /* Estilo para la respuesta incorrecta */
        .option-btn.incorrect {
            background-color: #ef4444; /* Rojo */
            color: white;
            border-color: #dc2626;
            pointer-events: none; /* Deshabilitar clics una vez calificada */
        }
        
        /* Estilo para los botones cuando están deshabilitados (tras calificación) */
        .option-btn.disabled {
             opacity: 0.7;
             cursor: default;
             pointer-events: none;
        }


        /* Estilo para los botones de navegación */
        .nav-btn {
            transition: background-color 0.2s;
        }
        
        .nav-btn:disabled {
            background-color: #d1d5db !important;
            cursor: not-allowed;
            opacity: 0.6;
        }

        /* Asegurar que el contenido dentro del botón se distribuya correctamente */
        .option-content {
            display: flex;
            align-items: flex-start;
        }
        .option-letter {
            font-weight: 700;
            margin-right: 10px;
            min-width: 15px;
            text-align: center;
        }

        /* Estilo específico para el botón de reinicio en la barra de navegación */
        #restart-btn-nav {
            font-size: 14px; /* Un poco más pequeño que los botones de navegación */
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Título del Quiz -->
       <h1 style="color: #003366; font-family: 'Georgia', serif; font-size: 2rem; text-align: center; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);">TEST GSI L 2024</h1>

        <!-- Contenedor de Preguntas y Opciones -->
        <div id="quiz-content">
            <p id="question-index" class="text-sm font-medium text-blue-600 mb-2">Pregunta X de Y</p>
            <!-- Mostrar la sección de la pregunta -->
            <p id="question-section" class="text-xs font-semibold text-gray-500 mb-2"></p>
            <h2 id="question-text" class="text-xl font-semibold mb-6 text-gray-700 leading-relaxed">
                [Aquí va el texto de la pregunta]
            </h2>
            <div id="options-container" class="space-y-3">
                <!-- Los botones de opción se inyectarán aquí -->
            </div>
            
            <!-- Indicador de Respuesta (Feedback) -->
            <div id="feedback-message" class="mt-8 p-3 rounded-lg text-center hidden font-semibold text-white"></div>
        </div>

        <!-- Controles de Navegación -->
        <div class="flex justify-around mt-8 pt-4 border-t">
            <button id="prev-btn" class="nav-btn py-2 px-4 bg-gray-300 text-gray-800 font-bold rounded-lg hover:bg-gray-400" disabled>
                &larr; Anterior
            </button>
            
            <!-- Botón de Reiniciar Test, pequeño y centrado -->
            <button id="restart-btn-nav" class="nav-btn py-2 px-3 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition">
                Reiniciar Test
            </button>

            <!-- Botón Siguiente/Ver Resultados. SIEMPRE activo. -->
            <button id="next-btn" class="nav-btn py-2 px-4 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700">
                Siguiente Pregunta &rarr;
            </button>
        </div>

        <!-- Pantalla de Resultados Finales - DETALLES -->
        <div id="final-score" class="hidden text-center mt-10 p-8 bg-white rounded-xl shadow-2xl border-4 border-green-200">
            <h2 class="text-3xl font-bold text-green-700 mb-4">¡Cuestionario Terminado!</h2>
            <p class="text-xl text-gray-700 mb-6 font-medium">Desglose de la Puntuación:</p>
            
            <!-- Grid para mostrar los resultados detallados -->
            <div class="grid grid-cols-3 gap-4 text-center mb-8">
                <!-- Correctas -->
                <div class="p-4 bg-green-100 rounded-lg">
                    <p class="text-xs font-semibold text-green-700 uppercase">Correctas</p>
                    <p id="correct-display" class="text-4xl font-extrabold text-green-600 mt-1">0</p>
                </div>
                <!-- Incorrectas -->
                <div class="p-4 bg-red-100 rounded-lg">
                    <p class="text-xs font-semibold text-red-700 uppercase">Incorrectas</p>
                    <p id="incorrect-display" class="text-4xl font-extrabold text-red-600 mt-1">0</p>
                </div>
                <!-- Sin Contestar -->
                <div class="p-4 bg-yellow-100 rounded-lg">
                    <p class="text-xs font-semibold text-yellow-700 uppercase">Sin Contestar</p>
                    <p id="unanswered-display" class="text-4xl font-extrabold text-yellow-600 mt-1">0</p>
                </div>
            </div>

            <p id="percentage-display" class="text-lg mt-3 text-gray-600 font-bold"></p>

            <!-- Botón de reinicio en la pantalla final -->
            <button id="restart-inline-btn" class="mt-8 py-3 px-6 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition">
                Volver a Empezar
            </button>
        </div>
    </div>
    
    <script>
        // Array de preguntas con la estructura que el usuario desea mantener (incluyendo 'id' y 'section')
        const questions = [
           {
                id: "GSI-L-Q1",
                section: "Primera Parte",
                question: "1. En virtud del artículo 63.3 de la Constitución Española de 1978, ¿a quién corresponde declarar la guerra y hacer la paz?",
                options: {
                    A: "A las Cortes Generales, previa autorización del Rey.",
                    B: "Al Rey, previa autorización del Congreso.",
                    C: "Al Congreso de los Diputados, previa autorización del Rey.",
                    D: "Al Rey, previa autorización de las Cortes Generales."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q2",
                section: "Primera Parte",
                question: "2. Según el apartado 2 del articulo 59 de la Constitución Española de 1978, ¿qué sucede si el Rey se inhabilitare para el ejercicio de su autoridad, y la imposibilidad fuere reconocida por las Cortes Generales?",
                options: {
                    A: "El Rey siguiere en su puesto, pero delegando sus funciones a la figura del Presidente del Gobierno.",
                    B: "Entrará a ejercer inmediatamente la Regencia el Príncipe heredero de la Corona, si fuere mayor de edad.",
                    C: "Se sometiere a referéndum distintas propuestas de candidatos para la delegación de funciones.",
                    D: "Las funciones del Rey son ejercidas por un Responsable provisional del Gobierno designado a tales efectos por el Congreso de los Diputados por mayoría absoluta de la Cámara Alta."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q3",
                section: "Primera Parte",
                question: "3. Conforme al artículo 99 de la Constitución Española de 1978, ¿cómo se elige al Presidente del Gobierno en España?",
                options: {
                    A: "Es elegido directamente por los ciudadanos.",
                    B: "Es nombrado por el Rey a propuesta del Congreso de los Diputados.",
                    C: "Es elegido por el Senado.",
                    D: "Es elegido por el Congreso de los Diputados tras ser propuesto por el Rey."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q4",
                section: "Primera Parte",
                question: "4. ¿Qué sucede si el Congreso de los Diputados no aprueba los Presupuestos Generales del Estado?",
                options: {
                    A: "El Gobierno debe dimitir.",
                    B: "Se prorrogan automáticamente los Presupuestos del año anterior.",
                    C: "Se disuelven las Cortes Generales.",
                    D: "El Senado toma el control del proceso presupuestario."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q5",
                section: "Primera Parte",
                question: "5. ¿Cuál de las siguientes funciones NO es encomendada al Gobierno según el artículo 97 de la Constitución Española de 1978?",
                options: {
                    A: "Acreditar a los embajadores y otros representantes diplomáticos.",
                    B: "Dirigir la política interior y exterior.",
                    C: "Ejercer la potestad reglamentaria de acuerdo con la Constitución y las leyes.",
                    D: "Dirigir la Administración civil y militar."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q6",
                section: "Primera Parte",
                question: "6. ¿Cuál de las siguientes funciones NO es del Consejo de Transparencia y Buen Gobierno según el artículo 38 de la Ley 19/2013, de 9 de diciembre, de transparencia, acceso a la información pública y buen gobierno?",
                options: {
                    A: "Evaluar el grado de aplicación de esta Ley.",
                    B: "Imponer sanciones cuando el responsable de la infracción sea un alto cargo de la Administración General del Estado.",
                    C: "Promover actividades de formación y sensibilización para un mejor conocimiento de las materias reguladas por esta Ley.",
                    D: "Informar preceptivamente los proyectos normativos de carácter estatal que desarrollen esta Ley o que estén relacionados con su objeto."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q7",
                section: "Primera Parte",
                question: "7. ¿Cuál de las siguientes opciones NO es uno de los Ejes de Actuación recogidos en el Pacto de Estado contra la Violencia de Género?",
                options: {
                    A: "El impulso de la formación de los distintos agentes para garantizar la mejor respuesta asistencial.",
                    B: "La mejora de las oportunidades de empleo en las zonas rurales, disminuyendo la exclusión social, incrementando la igualdad entre mujeres y hombres y las oportunidades para jóvenes, consolidando la resiliencia comunitaria.",
                    C: "La mejora de la respuesta institucional a través de la coordinación y el trabajo en red.",
                    D: "La visualización y atención de otras formas de violencia contra las mujeres, prestando especial atención a la violencia sexual, a la trata de mujeres y niñas con fines de explotación sexual, a la mutilación genital femenina y a los matrimonios forzados."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q8",
                section: "Primera Parte",
                question: "8. Según la Ley 39/2006 de 14 de diciembre, de Promoción de la Autonomía Personal y Atención a las personas en situación de dependencia, ¿quién tiene derecho a las prestaciones de dependencia?",
                options: {
                    A: "Cualquier persona mayor de edad.",
                    B: "Sólo personas en edad laboral.",
                    C: "Personas en situación de dependencia reconocida en los términos establecidos por la ley.",
                    D: "Exclusivamente personas con enfermedades crónicas."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q9",
                section: "Primera Parte",
                question: "9. ¿A qué se refiere el término STORK?",
                options: {
                    A: "A un proyecto para conseguir el reconocimiento paneuropeo de las identidades electrónicas, y en concreto la aceptación del DNI electrónico e identificadores similares en Servicios de Administración Electrónica de otras administraciones europeas.",
                    B: "A un sistema de verificación de edad para proteger a los menores de edad ante el acceso a contenidos de adultos en Internet.",
                    C: "Al plan de medidas lanzado por el Ministerio para la Transformación Digital y de la Función Pública para combatir las estafas telefónicas y por SMS.",
                    D: "Al proyecto de interoperabilidad semántica en los sistemas de información del Sistema Nacional de Salud y en el intercambio de documentación clínica en proyectos nacionales e internacionales."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q10",
                section: "Primera Parte",
                question: "10. En virtud del artículo 9.3 del Reglamento de Ejecución (UE) 2015/1501 de la Comisión, de 8 de septiembre de 2015, sobre el marco de interoperabilidad de conformidad con el artículo 12, apartado 8, del Reglamento (UE) nº 910/2014 del Parlamento Europeo y del Consejo, relativo a la identificación electrónica y los servicios de confianza para las transacciones electrónicas en el mercado interior, los operadores de los nodos eIDAS para el reconocimiento mutuo de identidades electrónicas en Europa deberán almacenar los datos que, en caso de accidente, permitan la reconstrucción de la secuencia del intercambio de mensajes para establecer el lugar y la naturaleza del incidente. Estos datos constarán como mínimo de los siguientes elementos:",
                options: {
                    A: "Identificación del nodo; identificación de los mensajes; fecha y hora de los mensajes.",
                    B: "Identificación del nodo; identificación de los interlocutores; fecha y hora de los mensajes.",
                    C: "Identificación del nodo; identificación de los mensajes; identificación de los interlocutores; fecha y hora de los mensajes.",
                    D: "Identificación del nodo; identificación de los mensajes; identificación de los interlocutores."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q11",
                section: "Primera Parte",
                question: "11. Señale la respuesta correcta. Según el artículo 7 de la Ley Orgánica 3/2018, de 5 de diciembre, de Protección de Datos Personales y garantía de los derechos digitales:",
                options: {
                    A: "El tratamiento de los datos personales de un menor de edad únicamente podrá fundarse en su consentimiento cuando sea mayor de doce años.",
                    B: "El tratamiento de los datos personales de un menor de edad únicamente podrá fundarse en su consentimiento cuando sea mayor de catorce años.",
                    C: "El tratamiento de los datos personales de un menor de edad únicamente podrá fundarse en su consentimiento cuando sea mayor de quince años.",
                    D: "El tratamiento de los datos personales de un menor de edad únicamente podrá fundarse en su consentimiento cuando sea mayor de dieciséis años."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q12",
                section: "Primera Parte",
                question: "12. Señale la opción correcta de acuerdo al Reglamento (UE) 2016/679 del Parlamento Europeo y del Consejo de 27 de abril de 2016 relativo a la protección de las personas físicas en lo que respecta al tratamiento de datos personales y a la libre circulación de estos datos y por el que se deroga la Directiva 95/46/CE (Reglamento general de protección de datos):",
                options: {
                    A: "Para realizar un tratamiento de datos personales, no es necesario contar con una base que lo legitime.",
                    B: "Para realizar un tratamiento de datos personales, hay que contar con una base que lo legitime. Algunas de las posibles opciones que harían el tratamiento lícito pueden ser, al menos, la información acerca del tratamiento al interesado, el cumplimiento de una obligación legal del responsable, o el cumplimiento de una misión en interés público o en ejercicio de poderes públicos.",
                    C: "Para realizar un tratamiento de datos personales, hay que contar con una base que lo legitime. Algunas de las posibles opciones que harían el tratamiento lícito pueden ser, al menos, la información acerca del tratamiento al interesado, el cumplimiento de una obligación legal del responsable, o el cumplimiento de una misión en interés público o en ejercicio de poderes particulares.",
                    D: "Para realizar un tratamiento de datos personales, hay que contar con una base que lo legitime. Algunas de las posibles opciones que harían el tratamiento lícito pueden ser, al menos, el consentimiento del interesado, el cumplimiento de una obligación legal del responsable, o el cumplimiento de una misión en interés público o en ejercicio de poderes públicos."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q13",
                section: "Primera Parte",
                question: "13. Complete la siguiente frase según el artículo 43 de la Ley 39/2015, de 1 de octubre, del Procedimiento Administrativo Común de las Administraciones Públicas: 'Cuando la notificación por medios electrónicos sea de carácter obligatorio, o haya sido expresamente elegida por el interesado, se entenderá rechazada cuando hayan transcurrido (...) desde la puesta a disposición de la notificación sin que se acceda a su contenido.'",
                options: {
                    A: "Diez días hábiles.",
                    B: "Cinco días naturales.",
                    C: "Cinco días hábiles.",
                    D: "Diez días naturales."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q14",
                section: "Primera Parte",
                question: "14. ¿Cuál de los siguientes NO es un motivo de abstención según la Ley 40/2015, de 1 de octubre, de Régimen Jurídico del Sector Público?",
                options: {
                    A: "Tener interés personal en el asunto de que se trate o en otro en cuya resolución pudiera influir la de aquél; ser administrador de sociedad o entidad interesada, o tener cuestión litigiosa pendiente con algún interesado.",
                    B: "Tener un vínculo matrimonial o situación de hecho asimilable y el parentesco de consanguinidad dentro del quinto grado o de afinidad dentro del segundo, con cualquiera de los interesados, con los administradores de entidades o sociedades interesadas y también con los asesores, representantes legales o mandatarios que intervengan en el procedimiento, así como compartir despacho profesional o estar asociado con éstos para el asesoramiento, la representación o el mandato.",
                    C: "Tener relación de servicio con persona natural o jurídica interesada directamente en el asunto, o haberle prestado en los dos últimos años servicios profesionales de cualquier tipo y en cualquier circunstancia o lugar.",
                    D: "Haber intervenido como perito o como testigo en el procedimiento de que se trate."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q15",
                section: "Primera Parte",
                question: "15. Señale la respuesta correcta en relación con la Carpeta Ciudadana del sector público estatal:",
                options: {
                    A: "El interesado accederá a la Carpeta Ciudadana mediante los sistemas de identificación a los que se refiere el artículo 9.2 de la Ley 39/2015, de 1 de octubre.",
                    B: "Pueden acceder a la misma el interesado y sus herederos.",
                    C: "Es el área personalizada de las personas interesadas de la sede electrónica del Portal de Transparencia.",
                    D: "Ofrece funcionalidades como el acceso a las tarjetas de crédito del interesado."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q16",
                section: "Primera Parte",
                question: "16. ¿Qué deben cumplir los conjuntos de datos de alto valor según la Ley 37/2007, de 16 de noviembre, sobre reutilización de la información del sector público?",
                options: {
                    A: "Estarán disponibles previo pago de la tasa correspondiente.",
                    B: "Se suministrarán en fichero .pfx por enlace de descarga.",
                    C: "Se suministrarán a través de interfaz de programación de aplicaciones (API).",
                    D: "En ningún caso se proporcionarán en forma de descarga masiva."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q18",
                section: "Primera Parte",
                question: "18. ¿Cuál de los siguientes servicios comunes es un sistema para la gestión de documentos y expedientes electrónicos que cumple los requisitos para que ambos puedan almacenarse y/o obtenerse según el Esquema Nacional de Interoperabilidad (ENI)?",
                options: {
                    A: "CISE.",
                    B: "RUN.",
                    C: "InSiDe.",
                    D: "CIRCABC."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q19",
                section: "Primera Parte",
                question: "19. ¿Qué clase de escalabilidad aplicamos cuando ampliamos memoria en el disco duro de un ordenador sobremesa?",
                options: {
                    A: "Escalabilidad horizontal.",
                    B: "Escalabilidad en carga.",
                    C: "Escalabilidad vertical.",
                    D: "Escalabilidad de redundancia."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q20",
                section: "Primera Parte",
                question: "20. En relación con los multiprocesadores, según la taxonomía de Flynn, los sistemas vectoriales y matriciales se encuadran dentro de la clasificación:",
                options: {
                    A: "SSID (Single instruction, single data).",
                    B: "SIMD (Single instruction, multiple data).",
                    C: "MISD (Multiple instruction, single data).",
                    D: "MIMD (Multiple instruction, multiple data)."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q21",
                section: "Primera Parte",
                question: "21. En la administración de servidores Windows, ¿qué son las directivas de seguridad?",
                options: {
                    A: "Herramientas de administración de seguridad de Internet, también llamadas IIS.",
                    B: "Herramientas de gestión de los privilegios de seguridad a nivel de dominio, de controlador de dominio y local.",
                    C: "Herramientas de resolución de nombres Windows, también llamadas DNS.",
                    D: "Herramientas que sirven para configurar el acceso a los recursos compartidos, también llamadas DFS (sistemas distribuidos de seguridad)."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q22",
                section: "Primera Parte",
                question: "22. Linux es un sistema operativo de código libre basado en Unix. Sus diferentes versiones se denominan:",
                options: {
                    A: "Instalaciones.",
                    B: "Distribuciones.",
                    C: "Licencias adaptadas.",
                    D: "Variaciones permitidas."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q23",
                section: "Primera Parte",
                question: "23. Hay lenguajes de programación que soportan únicamente un paradigma. Lo normal es que los lenguajes soporten dos o más paradigmas de programación. Si nos referimos a PHP, podemos afirmar que soporta los siguientes paradigmas:",
                options: {
                    A: "Lógico y declarativo.",
                    B: "Lógico, declarativo y genérico.",
                    C: "Imperativo, orientado a objetos (prototipos) y concurrente.",
                    D: "Imperativo, orientado a objetos, funcional y reflexivo."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q24",
                section: "Primera Parte",
                question: "24. Refiriéndonos a una constante en un programa en lenguaje C, podemos afirmar que:",
                options: {
                    A: "También es conocida como conversión o casting.",
                    B: "Es una entidad cuyo valor no puede ser modificado por el programa.",
                    C: "Puede ser local, global, estática y externa.",
                    D: "Se divide en conversiones y ámbitos."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q25",
                section: "Primera Parte",
                question: "25. ¿Cuál de los siguientes NO es un tipo de OLAP (On-Line Analytical Processing)?",
                options: {
                    A: "ROLAP (Relational On Line Analytic Processing).",
                    B: "SOLAP (Spiral On Line Analytic Processing).",
                    C: "MOLAP (Multidimentional On Line Analytical Processing).",
                    D: "HOLAP (Hybrid On Line Analytical Processing)."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q26",
                section: "Primera Parte",
                question: "26. Un KPI (Key Performance Indicator) es un indicador vinculado a un objetivo. De las siguientes afirmaciones, señale la INCORRECTA:",
                options: {
                    A: "Los objetivos pueden ser borrosos y no estar delimitados.",
                    B: "Los objetivos deben ser exactos.",
                    C: "Los indicadores deben ser analizables periódicamente.",
                    D: "Los objetivos deben ser medibles."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q28",
                section: "Primera Parte",
                question: "28. En una base de datos relacional, al conjunto de atributos que identifican unívoca y mínimamente cada tupla, en una relación, se le denomina:",
                options: {
                    A: "Clave inherente.",
                    B: "Clave candidata.",
                    C: "Clave semántica.",
                    D: "Clave obligatoria."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q29",
                section: "Primera Parte",
                question: "29. ¿Cuál es una caracteristica de los sistemas operativos distribuidos?",
                options: {
                    A: "Reloj común.",
                    B: "Concurrencia global.",
                    C: "Homogeneidad.",
                    D: "Dependencia de fallos de los nodos del sistema."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q30",
                section: "Primera Parte",
                question: "30. ¿Cuál es uno de los elementos de una arquitectura de servicios web?",
                options: {
                    A: "SOAP.",
                    B: "VSDL.",
                    C: "UDI.",
                    D: "SOA."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q31",
                section: "Primera Parte",
                question: "31. ¿Qué protocolo se usa en las herramientas de monitorización para hacer consultas del estado de los activos?",
                options: {
                    A: "NDMP (Network Data Management Protocol).",
                    B: "SNMP (Simple Network Management Protocol).",
                    C: "NMS (Network Management System).",
                    D: "ONTP (Open Network Transaction Protocol)."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q32",
                section: "Primera Parte",
                question: "32. Dentro del modelo TCP/IP ¿cuál es una dirección de clase B?",
                options: {
                    A: "128.0.0.0",
                    B: "127.0.0.1",
                    C: "10.0.0.0",
                    D: "126.255.255.255"
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q33",
                section: "Primera Parte",
                question: "33. ¿Cuál No es un modelo de calidad de servicio (QoS) en una arquitectura de redes?",
                options: {
                    A: "Best-effort.",
                    B: "DiffServ (Differentiated Services).",
                    C: "IntServ (Integrated Services).",
                    D: "PriServ (Priority Services)."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q34",
                section: "Primera Parte",
                question: "34. En relación a los DTD y XML Schemas, ¿cuál es la respuesta correcta?",
                options: {
                    A: "XML Schema tiene sintaxis propia.",
                    B: "DTD permite definir nuevos tipos de datos.",
                    C: "DTD es extensible.",
                    D: "XML Schema es fuertemente tipado."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q35",
                section: "Primera Parte",
                question: "35. ¿Cuál es una de las dimensiones de seguridad de la información?",
                options: {
                    A: "Aislamiento.",
                    B: "Consistencia.",
                    C: "Disponibilidad.",
                    D: "Autenticación."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q36",
                section: "Primera Parte",
                question: "36. ¿Cuál de las siguientes es una amenaza que afecta a la integridad de la información?",
                options: {
                    A: "Fugas de información: de forma no intencionada, la información acaba en manos de quién no debe poseerla.",
                    B: "Revelación intencionada de información: un usuario interno de la organización por diversas motivaciones (venganza, convicciones morales, políticas, etc.) decide revelar información de la que tiene acceso.",
                    C: "Ransomware o criptoataque: un malware ataca nuestro sistema cifrando los archivos de modo que están irrecuperables salvo que se halle la clave para su descifrado.",
                    D: "Ingeniería social: un atacante utiliza tretas para sonsacar información de los usuarios que tienen acceso a la misma."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q37",
                section: "Primera Parte",
                question: "37. ¿Cuál es la herramienta del CCN para la gobernanza de la ciberseguridad, que permite evaluar regularmente el estado de la seguridad de los sistemas TIC de las entidades, organismos y organizaciones?",
                options: {
                    A: "ATENEA.",
                    B: "CLARA.",
                    C: "INES.",
                    D: "CARLA."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q38",
                section: "Primera Parte",
                question: "38. Según el artículo 31.1 del Real Decreto 311/2022, de 3 de mayo, por el que se regula el Esquema Nacional de Seguridad (ENS), indique la afirmación correcta en relación al tiempo en el que un sistema de información debe ser objeto de una auditoría regular ordinaria que verifique el cumplimiento de los requerimientos del ENS:",
                options: {
                    A: "Al menos cada año si el sistema es considerado de categoría Alta y cada 2 años si el sistema es considerado de categoría Media o Baja.",
                    B: "Al menos cada 3 años, siempre que no se produzcan modificaciones sustanciales en los sistemas de información.",
                    C: "Al menos cada 2 años.",
                    D: "Al menos cada 2 años si el sistema es considerado de categoría Baja, cada año si el sistema es considerado de categoría Media, y cada 6 meses si el sistema es considerado de categoría Alta, siempre que no se produzcan modificaciones sustanciales en los sistemas de información."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q39",
                section: "Primera Parte",
                question: "39. ¿Qué es la arquitectura multicanal en un sistema de atención al cliente?",
                options: {
                    A: "Un sistema que integra diferentes servidores en una misma red.",
                    B: "La capacidad de atender a los clientes a través de múltiples canales de comunicación, como teléfono, correo electrónico, chat, redes sociales, entre otros.",
                    C: "Un protocolo para establecer comunicación segura entre el cliente y el servidor.",
                    D: "Un tipo de base de datos utilizada en centros de contacto."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q40",
                section: "Primera Parte",
                question: "40. ¿Cuál de los siguientes tipos de CRM se centra en mejorar la interacción con los clientes a través de múltiples canales?",
                options: {
                    A: "CRM Geográfico.",
                    B: "CRM Analítico.",
                    C: "CRM Operacional.",
                    D: "CRM Colaborativo."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q41",
                section: "Primera Parte",
                question: "41. Cuál de las siguientes afirmaciones sobre el Sistema de Alerta Temprana (SAT), es correcta:",
                options: {
                    A: "SAT-INET es un servicio para la detección en tiempo real de las amenazas e incidentes existentes en el tráfico en las redes de control y supervisión industrial del Organismo adscrito.",
                    B: "SAT-INET en ningún momento se centra en el análisis del contenido del tráfico, que no sea relevante en la detección de una amenaza.",
                    C: "SAT-ICS es un servicio para la detección en tiempo real de las amenazas e incidentes existentes en el tráfico que fluye entre la red interna del Organismo adscrito e Internet.",
                    D: "SAT-ICS detecta patrones de distintos tipos de ataque y amenazas mediante el análisis del tráfico de red, en ningún momento se centra en el tráfico en protocolos industriales."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q42",
                section: "Primera Parte",
                question: "42. Según el CCN-CERT, ¿cuántos y cuáles son los niveles de impacto potencial de peligrosidad que se le pueden asignar a un ciberincidente?",
                options: {
                    A: "Son 3 niveles: bajo, medio y alto.",
                    B: "Son 4 niveles: bajo, medio, alto y muy alto.",
                    C: "Son 5 niveles: bajo, medio, alto, muy alto y crítico.",
                    D: "Son 6 niveles: bajo, medio, alto, muy alto, crítico y muy crítico."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q43",
                section: "Primera Parte",
                question: "43. ¿Cuál de las siguientes es una técnica utilizada en la Gestión de Derechos Digitales (DRM)?",
                options: {
                    A: "Multiplicación de datos.",
                    B: "Compresión de archivos.",
                    C: "Marcas de agua.",
                    D: "Minimización del código."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q44",
                section: "Primera Parte",
                question: "44. ¿Dónde se recoge la protección jurídica de los programas de ordenador en España?",
                options: {
                    A: "Ley 24/2015, de 24 de julio, de Patentes.",
                    B: "Ley Orgánica 3/2018, de 5 de diciembre, de Protección de Datos Personales y garantía de los derechos digitales.",
                    C: "Real Decreto Legislativo 1/1996, de 12 de abril, por el que se aprueba el texto refundido de la Ley de Propiedad Intelectual, regularizando, aclarando y armonizando las disposiciones legales vigentes sobre la materia.",
                    D: "Ley 11/2022, de 28 de junio, General de Telecomunicaciones."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q45",
                section: "Primera Parte",
                question: "45. El objetivo de un análisis de viabilidad es:",
                options: {
                    A: "Reutilizar soluciones ya existentes en otras organizaciones.",
                    B: "Disponer de criterios económicos, técnicos, legales y operativos que nos permitan decidir si seguir adelante con un proyecto o abandonar.",
                    C: "Evaluar las necesidades de la organización con vistas a acometer un solo proyecto que las integre.",
                    D: "Desarrollar un cronograma detallado del proyecto."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q46",
                section: "Primera Parte",
                question: "46. En el proceso de seguimiento de un proyecto informático, la monitorización y control del trabajo:",
                options: {
                    A: "Sólo se realiza en las fases iniciales del proyecto.",
                    B: "No incluye la toma de acciones preventivas y/o correctivas.",
                    C: "Se enfoca únicamente en la gestión de riesgos.",
                    D: "Nos permite comprender el estado actual del proyecto, las medidas adoptadas y las proyecciones del presupuesto, el cronograma y el alcance."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q47",
                section: "Primera Parte",
                question: "47. ¿Cuál es la principal función de un sistema de gestión documental?",
                options: {
                    A: "Facilitar la edición de imágenes y videos.",
                    B: "Almacenar, gestionar y controlar el acceso a documentos digitales dentro de una organización.",
                    C: "Crear y distribuir boletines informativos digitales.",
                    D: "Gestionar la contabilidad de una empresa."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q48",
                section: "Primera Parte",
                question: "48. ¿Cuál de las siguientes afirmaciones con respecto al modelo de ciclo de vida en cascada es correcta?",
                options: {
                    A: "Los usuarios establecen los requisitos del sistema en diferentes fases del proyecto.",
                    B: "El modelo es muy rígido, dado que es necesario finalizar cada actividad para iniciar la siguiente, lo que dificulta su adecuación a escenarios reales.",
                    C: "El modelo dificulta la estimación y seguimiento del progreso del proyecto, al no disponer de entregables intermedios.",
                    D: "Se dispone de versiones funcionales del sistema desde las etapas iniciales del proceso de desarrollo."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q49",
                section: "Primera Parte",
                question: "49. En el modelo de ciclo de vida en cascada pura, ¿qué sucede si la revisión del paso a la siguiente etapa del proyecto NO es satisfactoria?",
                options: {
                    A: "Se continua con la etapa siguiente..",
                    B: "Se retrocede a la etapa anterior.",
                    C: "Se permanece en la etapa actual hasta que esté preparada.",
                    D: "Se comienza otra vez con la primera etapa."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q50",
                section: "Primera Parte",
                question: "50. Indique cuál de las siguientes NO es una metodología ágil:",
                options: {
                    A: "Scrum.",
                    B: "Extreme Programing (XP).",
                    C: "Métrica v3.",
                    D: "Lean."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q51",
                section: "Primera Parte",
                question: "51. ¿Cuál es el propósito principal del método PERT (Program Evaluation and Review Technique) en la gestión de proyectos?",
                options: {
                    A: "Estimar los costes de un proyecto.",
                    B: "Identificar riesgos financieros y establecer estrategias de mitigación..",
                    C: "Identificar las rutas críticas y calcular el tiempo esperado de finalización del proyecto.",
                    D: "Evaluar la rentabilidad de un proyecto."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q52",
                section: "Primera Parte",
                question: "52. Indique cuál de las siguientes afirmaciones, referidas al concepto de prototipo en el desarrollo de software, es INCORRECTA:",
                options: {
                    A: "Es un producto software que se obtiene en una fase anterior a la finalización de un proyecto de desarrollo.",
                    B: "No tiene por qué implementar todas las funcionalidades del sistema.",
                    C: "El uso de prototipos no va a reducir el riesgo del proyecto.",
                    D: "Una vez se ha usado un prototipo, puede servir de base para el desarrollo del sistema."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q53",
                section: "Primera Parte",
                question: "53. ¿Cuál de los siguientes enunciados NO es una ventaja del uso de prototipos?",
                options: {
                    A: "Para los usuarios es más fácil de evaluar un prototipo que un documento de especificación de requisitos software.",
                    B: "Hay una continua revisión de los requisitos del sistema por los usuarios.",
                    C: "Los usuarios tienen mucha más facilidad a la hora de describir lo que necesitan si lo ven en un prototipo.",
                    D: "Siempre es sencillo evolucionar el prototipo si se ha desarrollado con poca calidad."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q54",
                section: "Primera Parte",
                question: "54. Un programa informático que utiliza inteligencia artificial y procesamiento del lenguaje natural para comprender preguntas es lo que comúnmente se conoce como:",
                options: {
                    A: "Total Test de Turing.",
                    B: "Maquina de Turing con estados finitos.",
                    C: "Chatbot.",
                    D: "Deep Blue."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q55",
                section: "Primera Parte",
                question: "55. Jenkins es:",
                options: {
                    A: "Un proyecto de código propietario para la automatización de las pruebas de software.",
                    B: "Un servidor web open source basado en Java.",
                    C: "Una especificación de servicios para desarrollo de aplicaciones móviles basado en patrones.",
                    D: "Un servidor de automatización open source escrito en Java para la integración continua de desarrollos software."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q56",
                section: "Primera Parte",
                question: "56. ¿Cuál de las siguientes es una herramienta de software para la gestión y construcción de proyectos Java basada en el llamado Modelo de Objetos de Proyecto (POM), el cual se define y mantiene en un fichero XML?",
                options: {
                    A: "Octopus Deploy.",
                    B: "ElasticBox.",
                    C: "ElectricCloud.",
                    D: "Maven."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q57",
                section: "Primera Parte",
                question: "57. ¿Qué son pruebas de caja blanca?",
                options: {
                    A: "Pruebas que se centran en evaluar el código fuente interno de una aplicación.",
                    B: "Pruebas que consisten en probar un sistema o programa informático sin tener conocimiento previo de su funcionamiento interno.",
                    C: "Pruebas que evalúan la seguridad de una aplicación web en tiempo de ejecución.",
                    D: "Pruebas estáticas que evalúan el rendimiento y carga que soporta una aplicación."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q58",
                section: "Primera Parte",
                question: "58. ¿Qué es JUnit?",
                options: {
                    A: "Un entorno para pruebas en la JVM.",
                    B: "Un framewok para el desarrollo de aplicaciones en JScript.",
                    C: "Un IDE para desarrollo de aplicaciones Java.",
                    D: "Un servidor de aplicaciones que cumple la especificación Java EE."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q59",
                section: "Primera Parte",
                question: "59. ¿Cuál de las siguientes NO es una modalidad de migración de aplicaciones?",
                options: {
                    A: "Refronting.",
                    B: "Replacement.",
                    C: "Reconsidering.",
                    D: "Rehosting."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q60",
                section: "Primera Parte",
                question: "60. ¿Cuál de los siguientes tipos de mantenimiento software está dentro del ámbito de Métrica v3?",
                options: {
                    A: "El mantenimiento evolutivo.",
                    B: "El mantenimiento adaptativo.",
                    C: "El mantenimiento perfectivo.",
                    D: "El mantenimiento preventivo."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q61",
                section: "Primera Parte",
                question: "61. ¿Cuál de las siguientes opciones NO es una característica del diseño orientado a objetos?",
                options: {
                    A: "Reusabilidad.",
                    B: "Herencia.",
                    C: "Cohesión débil.",
                    D: "Polimorfismo."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q62",
                section: "Primera Parte",
                question: "62. ¿Cuál de los siguientes es un formato válido para el empaquetamiento de aplicaciones en Java Enterprise Edition (JEE)?",
                options: {
                    A: "VAR (Version Archive).",
                    B: "LAR (Library Archive).",
                    C: "SAR (Service Archive).",
                    D: "CAR (Class file Archive)."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q63",
                section: "Primera Parte",
                question: "63. ¿Cuál de los siguientes es un servidor de aplicaciones Java Enterprise Edition (JEE)?",
                options: {
                    A: "Apache Tomcat.",
                    B: "IBM WebSphere.",
                    C: "Oracle Jdeveloper.",
                    D: "Oracle Exadata."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q64",
                section: "Primera Parte",
                question: "64. ¿Qué tipo de objeto utiliza la plataforma .NET para encapsular la información sobre el usuario o la entidad que se está validando?",
                options: {
                    A: "Objeto User.",
                    B: "Objeto Passport.",
                    C: "Objeto Identity.",
                    D: "Objeto Token."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q65",
                section: "Primera Parte",
                question: "65. ¿Qué clase se utiliza para manejar excepciones en .NET?",
                options: {
                    A: "Error.",
                    B: "Fault.",
                    C: "Issue.",
                    D: "Exception."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q66",
                section: "Primera Parte",
                question: "66. ¿Cuál de las siguientes afirmaciones con respecto al estándar UDDI de OASIS es correcta?",
                options: {
                    A: "UDDI define un esquema XML para sindicación de contenidos a través de lectores RSS.",
                    B: "UDDI define un lenguaje XML para describir la interfaz de servicios web.",
                    C: "UDDI define la pautas de accesibilidad para el contenido en la Web.",
                    D: "UDDI describe un protocolo para el registro y publicación de servicios web."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q67",
                section: "Primera Parte",
                question: "67. En relación con la mejora y evaluación de procesos para el desarrollo de sistemas de software, ¿cuál de los siguientes NO es uno de los niveles de madurez del Modelo CMMI (Capability Maturity Model Integration)?",
                options: {
                    A: "Gestionado.",
                    B: "Definido.",
                    C: "Aprobado,",
                    D: "Optimización."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q68",
                section: "Primera Parte",
                question: "68. ¿Qué miden los puntos de función en un sistema de software?",
                options: {
                    A: "El tamaño del sistema.",
                    B: "El rendimiento del sistema.",
                    C: "La seguridad del sistema.",
                    D: "La fiabilidad del sistema."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q69",
                section: "Primera Parte",
                question: "69. La capacidad de un sitio web para ser utilizado por todas las personas, independientemente de sus habilidades o discapacidades, se denomina:",
                options: {
                    A: "Accesibilidad.",
                    B: "Usabilidad.",
                    C: "Navegación intuitiva.",
                    D: "Compatibilidad."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q70",
                section: "Primera Parte",
                question: "70. ¿Qué es WCAG y cuál es su propósito principal?",
                options: {
                    A: "Un software para evaluar la accesibilidad de sitios web.",
                    B: "Un estándar que define las pautas para hacer que el contenido web sea accesible.",
                    C: "Un conjunto de herramientas para desarrollar sitios web adaptativos (responsive).",
                    D: "Una guía de buenas prácticas para la optimización de motores de búsqueda (SEO)."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q71",
                section: "Primera Parte",
                question: "71. ¿Qué es Spark en el contexto de Big Data?",
                options: {
                    A: "Un servicio de computación sin servidor que ejecuta código en respuesta a eventos y administra automáticamente los recursos computacionales subyacentes.",
                    B: "Un sistema de procesamiento distribuido de código abierto que se utiliza para cargas de trabajo de macrodatos.",
                    C: "Un servicio de administración de base de datos que permite catalogar, descubrir y compartir los datos almacenados en Hadoop y/o en fuentes de terceros.",
                    D: "Una base de datos administrada que proporciona un registro de transacciones transparente, inmutable y que se puede verificar mediante criptografía."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q72",
                section: "Primera Parte",
                question: "72. ¿Qué es la validación cruzada en mineria de datos?",
                options: {
                    A: "Un método para evaluar la precisión de un modelo.",
                    B: "Un proceso para limpiar datos no válidos descartados por el modelo.",
                    C: "Una técnica para sobreajustar el modelo entrenándolo y validándolo con los mismos datos.",
                    D: "Un tipo de algoritmo de minería de datos basado en la técnica de Train-Test Split que consiste en descomponer de manera aleatoria una serie de datos."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q73",
                section: "Primera Parte",
                question: "73. En sistemas operativos, la planificación del procesador asigna momentos para que los procesos puedan utilizar el sistema y sus recursos. El algoritmo que asigna los turnos de ejecución de forma que los procesos estén ordenados en una cola circular y se vayan asignando intervalos de tiempos de ejecución por turnos es conocido como:",
                options: {
                    A: "SJF.",
                    B: "FCFS.",
                    C: "HRN.",
                    D: "Round Robin."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q74",
                section: "Primera Parte",
                question: "74. En el sentido más fundamental, cuando una aplicación necesita leer datos en un dispositivo llama a una función que le ofrece el sistema operativo, y el sistema operativo llama a una función implementada en el:",
                options: {
                    A: "Microkernel.",
                    B: "Módulo SVC.",
                    C: "Controlador del bus.",
                    D: "Controlador o driver."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q75",
                section: "Primera Parte",
                question: "75. ¿Qué es la normalización en bases de datos?",
                options: {
                    A: "El proceso de organizar los datos para reducir la redundancia.",
                    B: "El proceso de crear índices en las columnas de la base de datos para agilizar las búsquedas.",
                    C: "El proceso por el cual, aunque los datos están distribuidos en varias ubicaciones, los usuarios tienen la impresión de que los datos se encuentran en un solo lugar.",
                    D: "El proceso de transformación de una base de datos para que pueda ser considerada relacional según las normas de Codd."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q76",
                section: "Primera Parte",
                question: "76. ¿Qué es el algoritmo de Paxos en bases de datos distribuidas?",
                options: {
                    A: "Un algoritmo para asegurar la consistencia eventual en sistemas distribuidos.",
                    B: "Un algoritmo para coordinar la replicación de datos en bases de datos distribuidas.",
                    C: "Un algoritmo de consenso para asegurar que múltiples nodos en un sistema distribuido acuerden un valor único.",
                    D: "Un algoritmo para la gestión de transacciones en bases de datos relacionales."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q77",
                section: "Primera Parte",
                question: "77. ¿Qué significa el 2 en la regla de la copia de seguridad 3-2-1?",
                options: {
                    A: "Deben hacerse 2 copias de datos.",
                    B: "Deben utilizarse 2 formatos o soportes distintos.",
                    C: "Las copias de seguridad deben almacenarse en 2 ubicaciones distintas.",
                    D: "Deben utilizarse 2 herramientas diferentes para la realización de las copias de seguridad."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q78",
                section: "Primera Parte",
                question: "78. El llamado conflicto de fusión (merge conflict) está relacionado con:",
                options: {
                    A: "Un problema de compatibilidad entre diferentes versiones de un sistema operativo.",
                    B: "El control de versiones en el desarrollo software.",
                    C: "Un problema de recuperación de una copia de seguridad, por la imposibilidad de fusionar al backup completo los backup diferenciales o incrementales.",
                    D: "Un problema de sincronización entre diferentes bases de datos."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q79",
                section: "Primera Parte",
                question: "79. ¿Qué es ELK (Elasticsearch, Logstash y Kibana) Stack?",
                options: {
                    A: "Un conjunto de herramientas para la búsqueda, análisis y visualización de datos.",
                    B: "Un sistema de gestión de identidades que asegura el acceso a los datos de monitorización mediante autenticación multifactor.",
                    C: "Una plataforma de análisis de sentimientos que utiliza procesamiento de lenguaje natural para evaluar el rendimiento del sistema basado en comentarios de usuarios.",
                    D: "Una plataforma de blockchain utilizada para asegurar transacciones en redes distribuidas de monitorización."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q80",
                section: "Primera Parte",
                question: "80. Un sistema RAID-5 formado por 5 discos:",
                options: {
                    A: "Muestra una tolerancia de fallo de 1 disco.",
                    B: "Muestra una tolerancia de fallo de 2 discos.",
                    C: "Muestra una tolerancia de fallo de 3 discos.",
                    D: "La tolerancia de fallo dependerá de la casuística y de cómo se distribuyan los bloques de paridad."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q81",
                section: "Primera Parte",
                question: "81. El protocolo LACP (Link Aggregation Control Protocol - IEEE 802.3ad):",
                options: {
                    A: "Permite el establecimiento de redes lógicas Ethernet en infraestructuras Ethernet nativas para mantener dinámicamente la topología entre nodos.",
                    B: "Se desarrolló para minimizar la posición dominante de las tarjetas de red de Cisco y compatibilizarlas con las de sus entonces rivales: Alcatel-Lucent, Aruba, IBM,",
                    C: "Permite combinar varias conexiones de red físicas en una sola conexión lógica para aumentar el rendimiento y proporcionar redundancia.",
                    D: "Proporciona conmutación modo activo/pasivo en las conexiones de red físicas para ofertar alta disponibilidad."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q82",
                section: "Primera Parte",
                question: "82. Con respecto a la virtualización, podemos afirmar que un hipervisor de tipo 1:",
                options: {
                    A: "Ocupa el lugar de un sistema operativo host y programa los recursos de las máquinas virtuales directamente en el hardware.",
                    B: "Siempre es open source por compatibilidad con el sistema operativo host.",
                    C: "También llamado 'alojado', permite múltiples lenguajes de programación sobre el sistema operativo host.",
                    D: "Se ejecuta por encima del sistema operativo convencional como una capa de software o una aplicación."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q83",
                section: "Primera Parte",
                question: "83. ¿Qué diferencia existe entre conectores ópticos APC y UPC?",
                options: {
                    A: "Las pérdidas de APC son del orden de 55 dB, mientras que las de UPC lo son de 65 dB.",
                    B: "APC es tipo PC Connector y UPC es tipo Flat Connector.",
                    C: "APC está pulido en ángulo de 8 grados y UPC está pulido sin ángulo.",
                    D: "UPC requiere alimentación externa y APC no la necesita."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q84",
                section: "Primera Parte",
                question: "84. Una diferencia entre cables de datos CAT6 y CAT6a es que:",
                options: {
                    A: "CAT6 resiste mejor las interferencias que CAT6a.",
                    B: "CAT6 suele estar apantallado y CAT6a no.",
                    C: "CAT6 soporta anchos de banda hasta 250 MHz y CAT6a hasta 500 MHz.",
                    D: "CAT6 alcanza 10 Gbps y CAT6a alcanza 100 Gbps."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q85",
                section: "Primera Parte",
                question: "85. En relación al ámbito de la seguridad de la red de una organización, podríamos afirmar que:",
                options: {
                    A: "IDS (Intrusion Detection System) es un servidor en la red que bloquea los accesos no autorizados.",
                    B: "IPS (Intrusion Prevention System) es un software que se utiliza para un análisis forense de los ataques y accesos no autorizados.",
                    C: "SIEM (Security Information and Event Management) es un software que engloba la gestión de información de seguridad y la gestión de eventos.",
                    D: "IGS (Intrusion Gateway System) combina las tareas de un IDS y un IPS, proporcionando un análisis en tiempo real de las alertas de seguridad generadas por los distintos dispositivos hardware y software de la red."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q86",
                section: "Primera Parte",
                question: "86. Una de las diferencias entre los protocolos de enrutamiento IS-IS y OSPF es:",
                options: {
                    A: "IS-IS es del tipo EGP (Exterior Gateway Protocol), OSPF del tipo IGP (Interior Gateway Protocol).",
                    B: "IS-IS es del tipo vector-distancia, OSPF del tipo estado-enlace.",
                    C: "IS-IS es del tipo estado-enlace, OSPF del tipo vector-distancia.",
                    D: "IS-IS no es de la capa 3 de OSI, OSPF sí lo es."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q87",
                section: "Primera Parte",
                question: "87. NESSUS es:",
                options: {
                    A: "Una utilidad gráfica para mostrar los datos obtenidos por SNMP.",
                    B: "Una herramienta para gestión de correo electrónico en entornos no Windows.",
                    C: "Una herramienta para distribución de políticas GPO en entornos no Windows.",
                    D: "Una herramienta de código abierto para escaneo de vulnerabilidades y pentesting."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q88",
                section: "Primera Parte",
                question: "88. En cuanto al protocolo de enrutamiento RIP, supongamos que un router A ha aprendido el coste hacia una red a través de router B. ¿Cuál es el mecanismo que utiliza el router B para anunciar al router A un cambio de métrica en esa ruta, sin esperar al siguiente ciclo de actualización?",
                options: {
                    A: "Poison Reverse.",
                    B: "Triggered Updates.",
                    C: "Split Horizon.",
                    D: "Split Horizon con Poison Reverse."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q89",
                section: "Primera Parte",
                question: "89. En una red MPLS (Multiprotocol Label Switching), ¿cómo se denomina el tráfico que se encamina bajo una etiqueta y es tratado del mismo modo por un conmutador?",
                options: {
                    A: "LER (Label Edge Router).",
                    B: "FEC (Forwarding Equivalence Class).",
                    C: "LSR (Label Switching Router).",
                    D: "LFP (Label Forwarding Package)."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q90",
                section: "Primera Parte",
                question: "90. Con respecto a la familia de protocolos 802.11 cuál de las siguientes afirmaciones es correcta?",
                options: {
                    A: "802.11g puede utilizar QAM (Quadrature Amplitude Modulation) para transmisión.",
                    B: "La velocidad máxima teórica de 802.11a es de 54 Mbps.",
                    C: "802.11n solo utiliza la banda de 5 GHz.",
                    D: "802.11b ofrece hasta 4 canales no solapados."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q91",
                section: "Primera Parte",
                question: "91. ¿Cuál es el principal objetivo del principio de 'mínimo privilegio' en el diseño de redes?",
                options: {
                    A: "Asegurar que todos los usuarios tengan acceso a la red.",
                    B: "Permitir acceso total a todos los usuarios.",
                    C: "Limitar el acceso de los usuarios solo a lo necesario para sus tareas.",
                    D: "Proporcionar acceso ilimitado a los administradores de red."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q92",
                section: "Primera Parte",
                question: "92. Al tipo de ataque que se caracteriza por el uso de múltiples dispositivos conectados a Internet para inundar un objetivo con tráfico de peticiones hasta comprometer la disponibilidad, se le denomina:",
                options: {
                    A: "Ataque de ransomware.",
                    B: "Ataque DDoS.",
                    C: "Ataque de phishing.",
                    D: "Ataque de ingeniería social."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q93",
                section: "Primera Parte",
                question: "93. ¿Qué es el modelo OSI y cuántas capas tiene?",
                options: {
                    A: "Un modelo de referencia para la comunicación en redes con 7 capas.",
                    B: "Un modelo de referencia para la comunicación en redes con 6 capas.",
                    C: "Un modelo de referencia para la comunicación en redes con 5 capas.",
                    D: "Un modelo de referencia para la comunicación en redes con 4 capas."
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-Q94",
                section: "Primera Parte",
                question: "94. Los protocolos de comunicación mas comúnmente utilizados en IoT (Internet of Things), son:",
                options: {
                    A: "SNMP y RTP.",
                    B: "SMTP y FTP.",
                    C: "MQTT y CoAP.",
                    D: "XMPT y AMPP."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q95",
                section: "Primera Parte",
                question: "95. ¿Qué se conoce como NGN?",
                options: {
                    A: "New Generation Network, que es una red basada en paquetes.",
                    B: "New Global Network, que es una red basada en circuitos.",
                    C: "Network Generation Node, que es una red basada en conmutación de mensajes.",
                    D: "Next Generation Network, que es una red basada en paquetes."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q96",
                section: "Primera Parte",
                question: "96. La función principal de una MCU (Multipoint Control Unit) en una red H.323, es:",
                options: {
                    A: "Proporcionar enrutamiento de paquetes de datos en una red de comunicaciones IP.",
                    B: "Coordinar y gestionar conferencias de video y audio entre múltiples participantes.",
                    C: "Gestionar la seguridad extremo a extremo de la comunicación.",
                    D: "Ofrecer servicios de almacenamiento en la nube para datos de comunicación."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q97",
                section: "Primera Parte",
                question: "97. La técnica de multiplexación fundamental para la eficiencia espectral en las redes móviles 4G LTE es:",
                options: {
                    A: "FDMA (Frequency Division Multiple Access).",
                    B: "TDMA (Time Division Multiple Access).",
                    C: "CDMA (Code Division Multiple Access).",
                    D: "OFDMA (Orthogonal Frequency Division Multiple Access)."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-Q98",
                section: "Primera Parte",
                question: "98. La caracteristica de la tecnología 5G que permite la implementación de redes privadas y la segmentación de red (network slicing) es:",
                options: {
                    A: "El uso de frecuencias más altas.",
                    B: "Una arquitectura basada en software y virtualización.",
                    C: "Un mayor ancho de banda.",
                    D: "La compatibilidad con tecnologías anteriores."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-Q99",
                section: "Primera Parte",
                question: "99. Los sistemas de videoconferencia son especialmente sensibles al 'jitter'. ¿Qué es?",
                options: {
                    A: "Una interrupción en la señal.",
                    B: "Una ráfaga de pérdida de información.",
                    C: "Una variabilidad en el tiempo de llegada de los paquetes de datos.",
                    D: "Un tipo de codificación."
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-Q100",
                section: "Primera Parte",
                question: "100. El estándar de ITU-T que se utiliza para videoconferencia sobre redes IP es:",
                options: {
                    A: "H.320",
                    B: "H.261",
                    C: "H.323",
                    D: "H.264"
                },
                correctAnswer: "C"
            },
            {
                id: "GSI-L-PR1-1",
                section: "Preguntas de Reserva (Primera Parte)",
                question: "1. Acorde al IETF RFC 3720, el formato de un identificador IQN (ISCSI Qualified Name), siendo 'aaaa-mm' el año y el mes de adquisición del dominio, es:",
                options: {
                    A: "iqn.aaaa-mm.naming-authority:nombre-único",
                    B: "eui.aaaa-mm.naming-authority:nombre-único",
                    C: "iqn.naming-authority.aaaa-mm:nombre-único",
                    D: "eui.naming-authority.aaaa-mm:nombre-único"
                },
                correctAnswer: "A"
            },
            {
                id: "GSI-L-PR1-2",
                section: "Preguntas de Reserva (Primera Parte)",
                question: "2. En relación con UML, ¿cuál de las siguientes opciones NO es una característica de MOF?",
                options: {
                    A: "Se utiliza para definir la estructura de metamodelos.",
                    B: "Es un estándar de la OMG.",
                    C: "XMI es el formato estándar basado en XML para transmisión y almacenamiento de modelos OML.",
                    D: "La definición que incluye se limita al metamodelo UML."
                },
                correctAnswer: "D"
            },
            {
                id: "GSI-L-PR1-3",
                section: "Preguntas de Reserva (Primera Parte)",
                question: "3. Las BER (Basic Encoding Rules):",
                options: {
                    A: "Están definidas en el estándar ITU-T X.660",
                    B: "Están definidas en el estándar $ITU-T\\times.690$",
                    C: "Están definidas en el estándar ITU-T X.960",
                    D: "Están definidas en el estándar $ITU-T\\times.990$"
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-PR1-4",
                section: "Preguntas de Reserva (Primera Parte)",
                question: "4. El aprendizaje profundo (deep learning) es una rama del aprendizaje automático que modela a alto nivel el mundo real mediante redes neuronales, aprendiendo de manera continua e iterativa de los resultados obtenidos en la aplicación de modelos de aprendizaje automático sin la necesidad de intervención humana. ¿Cuál de las siguientes NO es una biblioteca usada para operar con redes neuronales?",
                options: {
                    A: "Keras.",
                    B: "AutomaticDL.",
                    C: "TensorFlow.",
                    D: "PyTorch."
                },
                correctAnswer: "B"
            },
            {
                id: "GSI-L-PR1-5",
                section: "Preguntas de Reserva (Primera Parte)",
                question: "5. ¿Cuál de los siguientes es el token de seguridad definido en las especificaciones Web Services Security (WS-Security) para el uso de certificados X.509?",
                options: {
                    A: "Username Token.",
                    B: "Binary Security Token.",
                    C: "Cer",
                    D: "X.509 Certificate Token."
                },
                correctAnswer: "B"
            }
        ];

        // Variables de estado del Quiz
        let currentQuestionIndex = 0;
        // userAnswers almacena la clave de la opción ('A', 'B') o null si no se ha contestado.
        let userAnswers = []; 
        // scoredStatus almacena si la pregunta ha sido contestada/calificada. false: no contestada, true: contestada.
        let scoredStatus = []; 
        
        // Referencias a elementos del DOM
        const quizContentDiv = document.getElementById('quiz-content');
        const questionText = document.getElementById('question-text');
        const questionSectionSpan = document.getElementById('question-section');
        const optionsContainer = document.getElementById('options-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartNavBtn = document.getElementById('restart-btn-nav'); 
        const finalScoreDiv = document.getElementById('final-score');
        
        // Referencias para los resultados detallados
        const correctDisplay = document.getElementById('correct-display');
        const incorrectDisplay = document.getElementById('incorrect-display');
        const unansweredDisplay = document.getElementById('unanswered-display');
        const percentageDisplay = document.getElementById('percentage-display');
        const restartInlineBtn = document.getElementById('restart-inline-btn');
        const feedbackMessage = document.getElementById('feedback-message');
        const questionIndexSpan = document.getElementById('question-index');


        // --- Funciones de Lógica del Quiz ---

        // Guarda el estado actual en localStorage
        function saveQuizState() {
            try {
                localStorage.setItem('quizUserAnswers', JSON.stringify(userAnswers));
                localStorage.setItem('quizScoredStatus', JSON.stringify(scoredStatus));
                localStorage.setItem('quizCurrentIndex', currentQuestionIndex);
            } catch (e) {
                console.error("Error al guardar en localStorage:", e);
            }
        }

        // Carga el estado desde localStorage
        function loadQuizState() {
            try {
                const storedAnswers = localStorage.getItem('quizUserAnswers');
                const storedScoredStatus = localStorage.getItem('quizScoredStatus');
                const storedIndex = localStorage.getItem('quizCurrentIndex');

                if (storedAnswers && JSON.parse(storedAnswers).length === questions.length) {
                    userAnswers = JSON.parse(storedAnswers);
                    scoredStatus = JSON.parse(storedScoredStatus) || new Array(questions.length).fill(false);
                    currentQuestionIndex = parseInt(storedIndex) || 0;
                    
                    if (currentQuestionIndex >= questions.length) {
                        currentQuestionIndex = questions.length - 1;
                    }
                    loadQuestion();
                } else {
                    // Inicialización por defecto
                    userAnswers = new Array(questions.length).fill(null);
                    scoredStatus = new Array(questions.length).fill(false);
                    loadQuestion();
                }
            } catch (e) {
                console.error("Error al cargar desde localStorage o datos corruptos. Reiniciando estado.", e);
                userAnswers = new Array(questions.length).fill(null);
                scoredStatus = new Array(questions.length).fill(false);
                loadQuestion();
            }
        }

        // Carga la pregunta actual en la interfaz
        function loadQuestion() {
            const q = questions[currentQuestionIndex];
            questionIndexSpan.textContent = `Pregunta ${currentQuestionIndex + 1} de ${questions.length}`;
            questionSectionSpan.textContent = q.section; // Mostrar la sección
            questionText.textContent = q.question;
            optionsContainer.innerHTML = '';
            
            // Asegurarse de ocultar resultados
            finalScoreDiv.classList.add('hidden');
            quizContentDiv.classList.remove('hidden');
            prevBtn.parentElement.classList.remove('hidden'); 
            feedbackMessage.classList.add('hidden'); // Ocultar feedback

            const optionKeys = Object.keys(q.options);
            const savedAnswer = userAnswers[currentQuestionIndex];
            const isScored = scoredStatus[currentQuestionIndex];
            const correctAnswer = q.correctAnswer;

            optionKeys.forEach(key => {
                const optionValue = q.options[key];
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                const optionKeyUpper = key.toUpperCase(); 
                btn.innerHTML = `<span class="option-content"><span class="option-letter">${optionKeyUpper}:</span> <span>${optionValue}</span></span>`;
                
                // Si ya fue calificada, mostrar colores y deshabilitar
                if (isScored) {
                    if (optionKeyUpper === correctAnswer) {
                        btn.classList.add('correct');
                    } else if (optionKeyUpper === savedAnswer) {
                        btn.classList.add('incorrect');
                    } else {
                        btn.classList.add('disabled'); // Deshabilitar otras opciones
                    }
                    btn.classList.add('disabled'); // Deshabilitar todos los botones para que no cambie la respuesta
                } else if (optionKeyUpper === savedAnswer) {
                    // Si solo está seleccionada (no calificada)
                    btn.classList.add('selected');
                }
                
                // Permitir la selección (y calificación) si no está calificada
                if (!isScored) {
                    btn.addEventListener('click', () => scoreQuestion(optionKeyUpper)); 
                }

                optionsContainer.appendChild(btn);
            });
            
            // Si la pregunta ya fue calificada, mostrar el feedback
            if (isScored) {
                 showFeedback(savedAnswer === correctAnswer);
            }

            // Actualizar el estado de los botones de navegación
            updateControls();
            saveQuizState();
        }

        // Califica la respuesta, marca como contestada y muestra la respuesta correcta
        function scoreQuestion(selectedKey) {
            const q = questions[currentQuestionIndex];
            const correctAnswer = q.correctAnswer;
            
            // 1. Guardar la respuesta
            userAnswers[currentQuestionIndex] = selectedKey;
            
            // 2. Marcar como calificada
            scoredStatus[currentQuestionIndex] = true;
            
            // 3. Obtener el resultado
            const isCorrect = selectedKey === correctAnswer;
            
            // 4. Mostrar feedback y colores
            showFeedback(isCorrect);
            
            Array.from(optionsContainer.children).forEach(btn => {
                const optionKey = btn.querySelector('.option-letter').textContent.charAt(0);
                btn.classList.remove('selected');
                btn.classList.add('disabled'); // Deshabilitar todos los botones

                if (optionKey === correctAnswer) {
                    btn.classList.add('correct'); // Mostrar la correcta
                } else if (optionKey === selectedKey) {
                    btn.classList.add('incorrect'); // Marcar la incorrecta si se eligió
                }
            });

            // 5. Actualizar estado y controles
            updateControls();
            saveQuizState();
        }

        // Muestra el mensaje de feedback (Correcto/Incorrecto)
        function showFeedback(isCorrect) {
            feedbackMessage.classList.remove('hidden');
            if (isCorrect) {
                feedbackMessage.textContent = '¡Respuesta Correcta!';
                feedbackMessage.className = 'mt-8 p-3 rounded-lg text-center font-semibold bg-green-500 text-white';
            } else {
                feedbackMessage.textContent = 'Respuesta Incorrecta. La opción correcta se muestra en verde.';
                feedbackMessage.className = 'mt-8 p-3 rounded-lg text-center font-semibold bg-red-500 text-white';
            }
        }

        // Actualiza el estado de los botones de navegación (Next siempre habilitado, Previous según el índice)
        function updateControls() {
            // Botón ANTERIOR
            prevBtn.disabled = currentQuestionIndex === 0;

            // Botón SIGUIENTE (Siempre habilitado para avanzar)
            const isLastQuestion = currentQuestionIndex === questions.length - 1;
            nextBtn.textContent = isLastQuestion ? 'Ver Resultados' : 'Siguiente Pregunta';
            nextBtn.disabled = false; // Permite saltar preguntas
        }

        // Muestra los resultados finales
        function showResults() {
            quizContentDiv.classList.add('hidden');
            prevBtn.parentElement.classList.add('hidden'); // Oculta el div de navegación completo
            finalScoreDiv.classList.remove('hidden');
            
            let correctCount = 0;
            let incorrectCount = 0;
            let unansweredCount = 0;
            const totalQuestions = questions.length;

            // Recorrer todas las preguntas para calcular las estadísticas
            for (let i = 0; i < totalQuestions; i++) {
                const userAnswer = userAnswers[i];
                const correctAnswer = questions[i].correctAnswer;

                if (userAnswer === null) {
                    unansweredCount++;
                } else if (userAnswer === correctAnswer) {
                    correctCount++;
                } else {
                    incorrectCount++;
                }
            }
            
            const percentage = (correctCount / totalQuestions) * 100;

            // Actualizar el DOM con las métricas
            correctDisplay.textContent = correctCount;
            incorrectDisplay.textContent = incorrectCount;
            unansweredDisplay.textContent = unansweredCount;
            percentageDisplay.textContent = `Has acertado ${correctCount} de ${totalQuestions} preguntas. (${percentage.toFixed(1)}% de aciertos)`;
        }

        // Reinicia el quiz
        function restartQuiz() {
            if (!confirm('¿Estás seguro de que quieres reiniciar el test? Se perderán todos tus progresos.')) {
                 return; 
            }
            
            localStorage.removeItem('quizUserAnswers');
            localStorage.removeItem('quizScoredStatus');
            localStorage.removeItem('quizCurrentIndex');

            currentQuestionIndex = 0;
            userAnswers = new Array(questions.length).fill(null);
            scoredStatus = new Array(questions.length).fill(false);

            // Restaura la visibilidad
            quizContentDiv.classList.remove('hidden');
            prevBtn.parentElement.classList.remove('hidden'); 
            finalScoreDiv.classList.add('hidden');
            loadQuestion();
        }

        // --- Event listeners ---

        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        });

        // El botón NEXT ahora solo navega o muestra resultados
        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                // Al llegar al final, mostrar resultados
                showResults();
            }
        });

        // Ambos botones de reinicio llaman a la misma función
        restartNavBtn.addEventListener('click', restartQuiz);
        restartInlineBtn.addEventListener('click', restartQuiz);

        // Función de confirmación básica (debe ser reemplazada por un modal personalizado en producción)
        function confirm(message) {
            console.warn("ADVERTENCIA: Usando 'confirm()' para la demostración. En una aplicación real, reemplázalo con un modal personalizado.");
            return window.confirm(message);
        }

        // Initial load
        window.onload = function() {
            if (questions.length > 0) {
                loadQuizState();
            } else {
                 document.querySelector('.container').innerHTML = `<h1 class="text-3xl font-bold mb-6 text-center text-red-600">Error: El array de preguntas (questions) está vacío.</h1>`;
                 // Ocultar el div de navegación si no hay preguntas
                 document.querySelector('.flex.justify-around').classList.add('hidden');
            }
        }
    </script>

</body>
</html>

